"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunksound_particle_visualization"] = self["webpackChunksound_particle_visualization"] || []).push([["main"],{

/***/ "./node_modules/css-loader/dist/cjs.js!./src/styles.css":
/*!**************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/styles.css ***!
  \**************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/noSourceMaps.js */ \"./node_modules/css-loader/dist/runtime/noSourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/getUrl.js */ \"./node_modules/css-loader/dist/runtime/getUrl.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);\n// Imports\n\n\n\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! ./fonts/Garet-Book.ttf */ \"./src/fonts/Garet-Book.ttf\"), __webpack_require__.b);\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap);\"]);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/* Import Google Font - Space Grotesk */\n\n/* Base styles */\n@font-face {\n    font-family: 'Garet';\n    src: url(${___CSS_LOADER_URL_REPLACEMENT_0___}) format('ttf');      \n    font-display: swap; \n}\n\n* {\n    scrollbar-width: none; \n    -ms-overflow-style: none; \n}\n\n*::-webkit-scrollbar { \n    display: none; \n}\n\ncanvas {\n    display: block;\n}\n\nbody, html {\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    width: 100vw;\n    height: 100vh;\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n}\n\nbody::-webkit-scrollbar,\nhtml::-webkit-scrollbar {\n    display: none;\n}\n\n#visualization-container {\n    position: relative;\n    width: 100vw;\n    height: 100vh;\n}\n\n#controls {\n    position: absolute;\n    top: 10px;\n    left: 10px;\n    z-index: 10;\n    background: rgba(255, 255, 255, 0.8);\n    padding: 10px;\n    border-radius: 5px;\n}\n\ncanvas#evolve2d {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: block;\n    width: 100vw;\n    height: 100vh;\n    pointer-events: auto;\n}\n\n\n\n/* Top navigation bar */\n.top-nav {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 20px;\n    z-index: 2000;\n    pointer-events: none;\n    box-sizing: border-box;\n}\n\n.top-nav-left,\n.top-nav-right {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    pointer-events: auto;\n}\n\n/* Bottom navigation bar */\n.bottom-nav {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 20px;\n    z-index: 2000;\n    pointer-events: none;\n    box-sizing: border-box;\n}\n\n.bottom-nav-left,\n.bottom-nav-right {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    pointer-events: auto;\n}\n\n\n\n/* Base style for all main screen buttons */\n.main-screen-btn {\n    font-family: 'Space Grotesk', sans-serif;\n    padding: 0 0;\n    border: none;\n    background: transparent;\n    color: rgb(255, 254, 246);\n    cursor: pointer;\n    font-size: 1.3em;\n    transition: all 0.2s ease;\n    position: relative;\n    font-weight: 300;\n    letter-spacing: 0.08em;\n    text-shadow: 2px 2px 2px rgba(255, 255, 255, 0.25);\n    display: inline-block;\n    width: auto;\n    overflow: hidden;\n}\n\n.main-screen-btn:hover {\n    text-shadow: 0 0 2px rgb(49, 118, 255);\n}\n\n/* Remove underline animations for hamburger menu */\n.main-screen-btn::after {\n    display: none;\n}\n\n/* Remove selected state underline */\n.main-screen-btn.selected::after {\n    display: none;\n}\n\n/* Smooth text transition for changing button text */\n.main-screen-btn .button-text {\n    display: block;\n    overflow: hidden;\n}\n\n/* Use the same approach as your working example */\n.main-screen-btn .button-text.old,\n.main-screen-btn .button-text.new {\n    display: block;\n    overflow: hidden;\n    transition: all 1.4s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.main-screen-btn .button-text.old {\n    height: auto;\n    opacity: 1;\n    width: auto;\n}\n\n.main-screen-btn .button-text.new {\n    color: #fff;\n    height: 0;\n    opacity: 0.1;\n    width: 0;\n}\n\n.main-screen-btn.text-changing .button-text.old {\n    height: 0px;\n    opacity: 0.1;\n    width: 0px;\n}\n\n.main-screen-btn.text-changing .button-text.new {\n    height: auto;\n    opacity: 1;\n    width: auto;\n}\n\n/* Hidden state */\n.main-screen-btn.hidden {\n    display: none !important;\n}\n\n/* Active/pressed state */\n.main-screen-btn:active {\n    transform: translateY(0);\n    color: #999999;\n}\n\n/* Floating buttons (for save mode) */\n.save-to-library-btn {\n    position: absolute;\n    z-index: 2000;\n    margin: 5px;\n    padding: 8px 12px;\n    border: none;\n    border-radius: 5px;\n    background-color: #ffc107;\n    color: black;\n    cursor: pointer;\n    font-size: 0.9em;\n}\n\n.save-to-library-btn:hover {\n    background-color: #e0a800;\n}\n\n.save-combination-btn {\n    position: fixed;\n    bottom: 32px;\n    left: 50%;\n    transform: translateX(-50%);\n    z-index: 3000;\n    padding: 12px 24px;\n    background: transparent; /* CHANGED: Transparent like submit button */\n    color: #C9FBFF; /* CHANGED: Cyan text */\n    border: 1px solid rgba(201, 251, 255, 0.4); /* CHANGED: Cyan border */\n    border-radius: 25px;\n    font-family: 'Space Grotesk', sans-serif;\n    font-size: 14px;\n    font-weight: 300;\n    letter-spacing: 0.08em;\n    cursor: pointer;\n    box-shadow: none; /* CHANGED: Remove shadow */\n    transition: all 0.3s ease;\n    text-shadow: 0 0 4px rgba(201, 251, 255, 0.3); /* CHANGED: Cyan glow */\n}\n\n.save-combination-btn:hover {\n    background: rgba(201, 251, 255, 0.1) !important; /* CHANGED: Cyan hover background */\n    color: #C9FBFF;\n    border-color: rgba(201, 251, 255, 0.6) !important; /* CHANGED: Brighter cyan */\n    text-shadow: 0 0 8px rgba(201, 251, 255, 0.6),\n                 0 0 12px rgba(201, 251, 255, 0.4);\n    filter: brightness(1.4);\n    transform: translateX(-50%) translateY(-2px) !important; /* CHANGED: Lift effect */\n   \n}\n\n.save-combination-btn:active {\n    transform: translateX(-50%) translateY(0px) !important;\n    box-shadow: 0 2px 8px rgba(201, 251, 255, 0.2) !important;\n}\n\n/* 3D Save to Library Button */\n.save-to-library-btn-3d {\n    position: absolute;\n    z-index: 2000;\n    background: transparent !important;\n    border: none !important;\n    cursor: pointer;\n    border-radius: 50%;\n    transition: background-color 0.2s;\n}\n\n.save-to-library-btn-3d:hover {\n    background: rgba(0, 255, 170, 0.25) !important; /* INCREASED opacity from 0.1 to 0.25 */\n    box-shadow: 0 0 20px rgba(0, 255, 170, 0.6); /* NEW: add glow effect */\n}\n\n/* Selection styles */\n.selected-solid {\n    outline: 3px solid #00ff00 !important;\n    outline-offset: 2px;\n}\n\n.hovered-solid {\n    outline: 2px solid #00aaff !important;\n    outline-offset: 1px;\n}\n\n.selected-solid.hovered-aura {\n    box-shadow: 0 0 16px 6px rgba(83, 211, 192, 0.4), 0 0 8px 2px rgba(83, 211, 192, 0.3) !important; /* CHANGED: reduced opacity from 1.0 to 0.4/0.3 */\n    outline: 3px solid rgba(83, 211, 192, 0.6) !important; /* CHANGED: reduced opacity from 1.0 to 0.6 */\n    outline-offset: 2px;\n}\n\n/* Name input overlay */\n.name-input-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, 0.7);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 5000;\n    backdrop-filter: blur(8px);\n    -webkit-backdrop-filter: blur(8px);\n}\n\n.name-input-widget {\n    background: rgba(0, 20, 40, 0.95);\n    padding: 32px 28px 24px 28px;\n    border-radius: 25px;\n    box-shadow: 0 8px 32px rgba(0,0,0,0.2);\n    text-align: center;\n    min-width: 250px;\n    font-family: 'Space Grotesk', sans-serif;\n    color: #C9FBFF; /* CHANGED: Cyan text */\n    border: 1px solid rgba(201, 251, 255, 0.2); /* CHANGED: Cyan border */\n    backdrop-filter: blur(16px);\n    -webkit-backdrop-filter: blur(16px);\n}\n\n.name-input-widget h3 {\n    margin: 0 0 20px 0;\n    color: #C9FBFF; /* CHANGED: Cyan heading */\n    font-size: 1.2em;\n    font-family: 'Space Grotesk', sans-serif;\n    font-weight: 400;\n    letter-spacing: 0.05em;\n    text-shadow: 0 0 8px rgba(201, 251, 255, 0.2); /* CHANGED: Cyan glow */\n}\n\n.name-input-widget input {\n    width: 100%;\n    padding: 12px;\n    border: 1px solid rgba(201, 251, 255, 0.3); /* CHANGED: Cyan border */\n    border-radius: 15px;\n    font-size: 1em;\n    margin-bottom: 20px;\n    box-sizing: border-box;\n    background: rgba(0, 20, 40, 0.85);\n    color: #C9FBFF; /* CHANGED: Cyan text */\n    font-family: 'Space Grotesk', sans-serif;\n    transition: all 0.3s ease;\n    font-weight: 300;\n}\n\n.name-input-widget input::placeholder {\n    color: rgba(201, 251, 255, 0.5); /* CHANGED: Cyan placeholder */\n}\n\n.name-input-widget input:focus {\n    outline: none;\n    border-color: rgba(201, 251, 255, 0.6); /* CHANGED: Brighter cyan on focus */\n    box-shadow: 0 0 12px rgba(201, 251, 255, 0.3);\n    background: rgba(0, 20, 40, 0.95);\n}\n\n.name-input-buttons {\n    display: flex;\n    gap: 56px;\n    justify-content: center;\n}\n\n.name-input-btn {\n    padding: 12px 24px;\n    border: 1px solid rgba(201, 251, 255, 0.3); /* CHANGED: Cyan border */\n    border-radius: 25px;\n    font-size: 1em;\n    cursor: pointer;\n    font-family: 'Space Grotesk', sans-serif;\n    background: transparent; /* CHANGED: Transparent background */\n    color: #C9FBFF; /* CHANGED: Cyan text */\n    transition: all 0.3s ease;\n    font-weight: 300;\n    letter-spacing: 0.05em;\n    text-shadow: 0 0 4px rgba(201, 251, 255, 0.3); /* CHANGED: Cyan glow */\n    min-width: 48px;\n    min-height: 48px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.name-input-btn.save {\n    color: #53d3c0; /* CHANGED: Green from palette */\n    border-color: rgba(83, 211, 192, 0.3); /* ADD THIS LINE - Green border */\n    text-shadow: 0 0 4px rgba(83, 211, 192, 0.3); /* CHANGED: Green glow */\n}\n\n.name-input-btn.save:hover {\n    background: rgba(83, 211, 192, 0.15); /* CHANGED: Green highlight */\n    color: #53d3c0;\n    border-color: rgba(83, 211, 192, 0.6); /* ADD THIS LINE - Brighter green */\n    text-shadow: 0 0 8px rgba(83, 211, 192, 0.6),\n                 0 0 12px rgba(83, 211, 192, 0.4);\n    filter: brightness(1.3);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(83, 211, 192, 0.2);\n}\n\n.name-input-btn.cancel {\n    background: transparent;\n    color: #C9FBFF; /* CHANGED: Cyan */\n    \n}\n\n.name-input-btn.cancel:hover {\n    background: rgba(255, 0, 0, 0.1); /* Subtle red tint */\n    color: #ff6b6b; /* Light red */\n    \n    text-shadow: 0 0 8px rgba(255, 107, 107, 0.4);\n    filter: brightness(1.4);\n    transform: translateY(-2px);\n}\n\n/* Name input button icons */\n.name-input-icon {\n    width: 24px;\n    height: 24px;\n    filter: brightness(0) saturate(100%) invert(93%) sepia(14%) saturate(1048%) hue-rotate(154deg) brightness(103%) contrast(100%);\n    transition: filter 0.2s;\n}\n\n.name-input-btn.save .name-input-icon {\n    /* Green icon for save button */\n    filter: brightness(0) saturate(100%) invert(75%) sepia(24%) saturate(744%) hue-rotate(126deg) brightness(95%) contrast(85%);\n}\n\n.name-input-btn:hover .name-input-icon {\n    /* Brighter on hover */\n    filter: brightness(0) saturate(100%) invert(100%) sepia(8%) saturate(800%) hue-rotate(154deg) brightness(108%) contrast(100%);\n}\n\n.name-input-btn.save:hover .name-input-icon {\n    /* Brighter green on save hover */\n    filter: brightness(0) saturate(100%) invert(80%) sepia(24%) saturate(900%) hue-rotate(126deg) brightness(100%) contrast(90%);\n}\n\n/* Hamburger Menu Styles */\n.hamburger-menu {\n    position: fixed;\n    top: 20px;\n    left: 20px;\n    z-index: 3000;\n    pointer-events: auto;\n}\n\n.hamburger-button {\n    width: 48px;\n    height: 48px;\n    background: transparent;\n    border: none;\n    cursor: pointer;\n    padding: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transition: transform 0.2s ease, opacity 0.3s ease;\n    border-radius: 50%;\n    pointer-events: auto;\n}\n\n.hamburger-button img {\n    width: 100%;\n    height: 100%;\n    filter: brightness(0) saturate(100%) invert(93%) sepia(14%) saturate(1048%) hue-rotate(154deg) brightness(103%) contrast(100%) drop-shadow(0 0 4px rgba(201, 251, 255, 0.4));\n}\n\n.hamburger-button:hover {\n    transform: scale(1.1);\n}\n\n.hamburger-button:hover img {\n    filter: brightness(0.4) saturate(100%) invert(97%) sepia(20%) saturate(1400%) hue-rotate(154deg) brightness(115%) contrast(108%) drop-shadow(0 0 8px rgba(201, 251, 255, 0.9));\n}\n\n\n\n.hamburger-line {\n    width: 18px;\n    height: 2px;\n    background-color: #C9FBFF; /* CHANGED: Match soundscape cyan color */\n    transition: all 0.3s ease;\n    transform-origin: center;\n    box-shadow: 0 0 4px rgba(201, 251, 255, 0.4); /* CHANGED: Match cyan glow */\n}\n\n/* NEW: Add hover effect matching soundscape */\n.hamburger-button:hover .hamburger-line {\n    /* More aggressive brightness boost - same as soundscape button */\n    filter: brightness(1.5) drop-shadow(0 0 8px rgba(201, 251, 255, 0.9));\n}\n\n.hamburger-button.open .hamburger-line:nth-child(1),\n.hamburger-button.open .hamburger-line:nth-child(2),\n.hamburger-button.open .hamburger-line:nth-child(3) {\n    transform: none;\n    opacity: 1;\n}\n\n.hamburger-button.open .hamburger-line {\n    box-shadow: 0 0 8px rgba(201, 251, 255, 0.5); /* CHANGED: Cyan glow when open */\n}\n\n.hamburger-options {\n    position: absolute;\n    top: 64px;\n    left: 0;\n    display: flex;\n    flex-direction: column;\n    gap: 3%;\n    padding: 2%;\n    min-width: 150px;\n    opacity: 0;\n    visibility: hidden;\n    transform: translateY(-2%);\n    transition: all 0.3s ease;\n}\n\n.hamburger-options.open {\n    opacity: 1;\n    visibility: visible;\n    transform: translateY(0);\n}\n\n.hamburger-options .main-screen-btn {\n    margin: 0;\n    padding: 2% 0;\n    text-align: left;\n    font-size: 1.1em;\n    white-space: nowrap;\n    color: #C9FBFF; /* CHANGED: Match cyan color */\n    text-shadow: 0 0 4px rgba(201, 251, 255, 0.3); /* CHANGED: Add cyan glow */\n    transition: all 0.2s ease; /* NEW: Add transition */\n}\n\n/* NEW: Unified hover effect matching soundscape button */\n.hamburger-options .main-screen-btn:hover {\n    color: #C9FBFF;\n    text-shadow: 0 0 8px rgba(201, 251, 255, 0.9), /* Bright cyan glow */\n                 0 0 12px rgba(201, 251, 255, 0.6); /* Extended glow */\n    filter: brightness(1.5);\n    transform: translateX(4px); /* Subtle slide on hover */\n}\n\n.hamburger-options .main-screen-btn::after {\n    display: none;\n}\n\n\n\n/* Evolving Widget Styles - Fix white background */\n.evolve-overlay {\n    position: fixed;\n    top: 0; \n    left: 0; \n    width: 100vw; \n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 6000;\n    background: transparent; \n    backdrop-filter: blur(8px);\n    -webkit-backdrop-filter: blur(8px);\n    padding: 0;\n}\n\n.evolve-widget {\n    width: 600px;\n    height: 400px;\n    max-width: 90vw;\n    max-height: 70vh;\n    min-width: 320px;\n    min-height: 300px;\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    background: transparent;\n    position: relative;\n    border-radius: 1rem;\n    box-sizing: border-box;\n    backdrop-filter: none; \n    -webkit-backdrop-filter: none;\n}\n\n/* Tabs Container - Remove white background */\n.evolve-tabs-container {\n    flex-shrink: 0;\n    background: rgba(0, 0, 0, 0.3); \n    backdrop-filter: blur(16px);\n    -webkit-backdrop-filter: blur(16px);\n    border-radius: 1rem 1rem 0 0;\n    border: 1px solid rgba(255, 255, 255, 0.1);\n    border-bottom: none;\n    margin: 0.7em 0.7em 0 0.7em;\n}\n\n/* Tabs List */\n.evolve-tabs-list {\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    gap: 4px;\n    padding: 8px;\n    background: transparent;\n    border-radius: 1rem 1rem 0 0;\n}\n\n/* Tab Trigger Buttons */\n.evolve-tab-trigger {\n    font-family: 'Space Grotesk', sans-serif;\n    font-size: 0.9em;\n    font-weight: 300;\n    letter-spacing: 0.025em;\n    padding: 12px 16px;\n    border: 1px solid rgba(255, 255, 255, 0.15);\n    background: rgba(0, 0, 0, 0.2); \n    color: rgba(255, 255, 255, 0.8);\n    cursor: pointer;\n    border-radius: 8px;\n    transition: all 0.2s ease;\n    backdrop-filter: blur(8px);\n    -webkit-backdrop-filter: blur(8px);\n}\n\n.evolve-tab-trigger:hover {\n    background: rgba(0, 0, 0, 0.4); \n    color: rgba(255, 255, 255, 1);\n    border-color: rgba(255, 255, 255, 0.3);\n}\n\n.evolve-tab-trigger.active {\n    background: rgba(0, 255, 136, 0.2); \n    color: #0059ff;\n    border-color: rgba(0, 255, 136, 0.4);\n    box-shadow: 0 0 12px rgba(0, 255, 136, 0.15);\n}\n\n/* Content Area - Remove white background */\n.evolve-content-area {\n    flex: 1;\n    position: relative;\n    overflow: hidden;\n    background: rgba(0, 0, 0, 0.3);\n    backdrop-filter: blur(16px);\n    -webkit-backdrop-filter: blur(16px);\n    border: 1px solid rgba(255, 255, 255, 0.1);\n    border-radius: 0 0 1rem 1rem;\n    margin: 0 0.7em 0.7em 0.7em;\n}\n\n.evolve-content-area canvas {\n    width: 100% !important;\n    height: 100% !important;\n    border-radius: 0 0 1rem 1rem;\n    background: transparent !important;\n}\n\n/* Close Button */\n.evolve-close-btn {\n    position: absolute;\n    top: 12px;\n    right: 12px;\n    width: 32px;\n    height: 32px;\n    border: 1px solid rgba(255, 255, 255, 0.2);\n    background: rgba(0, 0, 0, 0.3);\n    backdrop-filter: blur(16px);\n    -webkit-backdrop-filter: blur(16px);\n    color: white;\n    border-radius: 50%;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 18px;\n    font-weight: 300;\n    transition: all 0.2s ease;\n    z-index: 10;\n}\n\n.evolve-close-btn:hover {\n    background: rgba(255, 0, 0, 0.2);\n    border-color: rgba(255, 0, 0, 0.4);\n    transform: scale(1.1);\n}\n\n/* Floating info panel for Library Space */\n.library-space-panel {\n    pointer-events: auto;\n    position: fixed;\n    right: 0;\n    top: 0;\n    width: 400px;\n    height: 100vh;\n    padding: 40px 32px;\n    background: rgba(0, 20, 40, 0.97);\n    color: #C9FBFF;\n    border-left: 1px solid rgba(201, 251, 255, 0.3);\n    box-shadow: -4px 0 32px rgba(0, 0, 0, 0.5);\n    font-family: 'Space Grotesk', sans-serif;\n    z-index: 2000;\n    display: none;\n    overflow-y: auto;\n    backdrop-filter: blur(20px);\n    -webkit-backdrop-filter: blur(20px);\n    \n    /* Smooth slide-in animation */\n    transform: translateX(100%);\n    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), padding-bottom 0.3s ease; /* UPDATED */\n}\n\n.library-space-panel.visible {\n    display: block;\n    transform: translateX(0);\n}\n\n.library-space-panel .library-name {\n    font-family: 'Space Grotesk', sans-serif;\n    font-size: 2rem;\n    font-weight: 600;\n    color: #C9FBFF;\n    margin: 0 0 8px 0;\n    text-shadow: 0 0 12px rgba(201, 251, 255, 0.3);\n    word-break: break-word;       /* NEW */\n    white-space: normal;          /* NEW */\n    max-width: 100%;              /* NEW */\n    line-height: 1.2;             /* NEW */\n}\n\n.library-space-panel .library-category-label {\n    font-size: 1rem;\n    font-weight: 400;\n    color: #53d3c0;\n    margin-bottom: 24px;\n    letter-spacing: 0.05em;\n\n    text-shadow: 0 0 8px rgba(83, 211, 192, 0.3);\n}\n\n.library-space-panel .library-description {\n    width: 100%;\n    font-size: 1rem;\n    color: rgba(201, 251, 255, 0.8);\n    background: transparent;\n    border: none;\n    outline: none;\n    resize: none;\n    min-height: 3em;\n    line-height: 1.6;\n    margin: 0 0 32px 0;\n    font-family: 'Space Grotesk', sans-serif;\n    transition: background 0.2s;\n    border-radius: 8px;\n    padding: 12px;\n    white-space: pre-wrap;\n    word-break: break-word;\n}\n\n.library-space-panel .library-description:focus {\n    background: rgba(201, 251, 255, 0.05);\n}\n\n.library-space-panel .library-description.committed {\n    padding: 0;\n}\n\n.library-space-panel .library-desc-placeholder {\n    opacity: 0.5;\n    font-style: italic;\n    color: rgba(201, 251, 255, 0.5);\n}\n\n.library-info-actions {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n    padding-top: 16px;\n}\n\n.library-info-btn {\n    width: 100%;\n    font-family: 'Space Grotesk', sans-serif;\n    font-size: 1rem;\n    font-weight: 400;\n    padding: 14px 20px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 12px;\n    background: transparent;\n    border: 1px solid rgba(201, 251, 255, 0.3);\n    border-radius: 12px;\n    color: #C9FBFF;\n    transition: all 0.3s ease;\n    text-shadow: 0 0 4px rgba(201, 251, 255, 0.3);\n}\n\n.library-info-btn-play{\n    \n    width: 100%;\n    font-family: 'Space Grotesk', sans-serif;\n    font-size: 1rem;\n    font-weight: 400;\n    padding: 14px 20px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 12px;\n    background: transparent;\n    border: 1px solid rgba(201, 251, 255, 0.3);\n    border-radius: 12px;\n    color: #C9FBFF;\n    transition: all 0.3s ease;\n    text-shadow: 0 0 4px rgba(201, 251, 255, 0.3);\n    padding-left: 2px;\n}\n.library-info-btn-play:hover {\n    background: rgba(201, 251, 255, 0.1);\n    border-color: rgba(201, 251, 255, 0.6);\n    text-shadow: 0 0 8px rgba(201, 251, 255, 0.6);\n    filter: brightness(1.3);\n    transform: translateY(-2px);\n   \n}\n.library-info-btn:hover {\n    background: rgba(201, 251, 255, 0.1);\n    border-color: rgba(201, 251, 255, 0.6);\n    text-shadow: 0 0 8px rgba(201, 251, 255, 0.6);\n    filter: brightness(1.3);\n    transform: translateY(-2px);\n   \n}\n\n.library-info-btn.secondary {\n    border-color: rgba(201, 251, 255, 0.2);\n}\n\n/* Library button icons */\n.library-btn-icon {\n    width: 24px;\n    height: 24px;\n    filter: brightness(0) saturate(100%) invert(93%) sepia(14%) saturate(1048%) hue-rotate(154deg) brightness(103%) contrast(100%);\n    transition: filter 0.2s;\n}\n.library-btn-icon-play{\n    width: 32px;\n    height: 32px;\n    \n    filter: brightness(0) saturate(100%) invert(93%) sepia(14%) saturate(1048%) hue-rotate(154deg) brightness(103%) contrast(100%);\n    transition: filter 0.2s;\n\n}\n.library-info-btn:hover .library-btn-icon {\n    filter: brightness(0) saturate(100%) invert(100%) sepia(8%) saturate(800%) hue-rotate(154deg) brightness(108%) contrast(100%);\n}\n\n/* Close button for library panel */\n.library-close-btn {\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    width: 32px;\n    height: 32px;\n    background: transparent;\n    border: 1px solid rgba(201, 251, 255, 0.3);\n    border-radius: 50%;\n    color: #C9FBFF;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 20px;\n    transition: all 0.3s ease;\n    z-index: 10;\n}\n\n.library-close-btn:hover {\n    background: rgba(201, 251, 255, 0.1);\n    border-color: rgba(201, 251, 255, 0.6);\n    transform: scale(1.1);\n}\n\n/* Soundscape play/stop button */\n.soundscape-toggle-btn {\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    z-index: 3000;\n    width: 48px;\n    height: 48px;\n    background: transparent;\n    border: none;\n    cursor: pointer;\n    padding: 0;\n    transition: transform 0.2s ease, opacity 0.3s ease;\n    pointer-events: auto;\n}\n\n.soundscape-toggle-btn img {\n    width: 100%;\n    height: 100%;\n    /* Color: #C9FBFF with shadow */\n    filter: brightness(0) saturate(100%) invert(93%) sepia(14%) saturate(1048%) hue-rotate(154deg) brightness(103%) contrast(100%) drop-shadow(0 0 4px rgba(201, 251, 255, 0.4));\n}\n\n.soundscape-toggle-btn:hover {\n    transform: scale(1.1);\n}\n\n.soundscape-toggle-btn:hover img {\n    /* More aggressive brightness boost */\nfilter: brightness(0.4) saturate(100%) invert(97%) sepia(20%) saturate(1400%) hue-rotate(154deg) brightness(115%) contrast(108%) drop-shadow(0 0 8px rgba(201, 251, 255, 0.9));\n    /* Brighter on hover */\n}\n\n.soundscape-toggle-btn:active {\n    transform: scale(0.95);\n}\n\n.soundscape-toggle-btn.hidden {\n    opacity: 0;\n    pointer-events: none;\n}\n\n/* ===========================\n   Title Screen\n   =========================== */\n\n.title-screen {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    z-index: 10000;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    background: #0a0a20;\n    cursor: pointer;\n    transition: opacity 1s ease-out;\n}\n\n\n\n\n\n/* Add animations for logo and message */\n.title-screen.fade-out .title-logo-container {\n    animation: logoFadeOut 1.0s ease-out forwards;\n}\n\n.title-screen.fade-out .title-press-message {\n    animation: messageFadeOut 1.0s ease-out forwards;\n}\n\n@keyframes logoFadeOut {\n    0% {\n        opacity: 1;\n       \n    }\n    100% {\n        opacity: 0;\n     \n    }\n}\n\n@keyframes messageFadeOut {\n    0% {\n        opacity: 1;\n    }\n    100% {\n        opacity: 0;\n    }\n}\n\n/* Add fade-in for main scene */\nbody.scene-fade-in {\n    animation: sceneFadeIn 1s ease-in forwards;\n}\n\n@keyframes sceneFadeIn {\n    0% {\n        filter: brightness(0);\n    }\n    100% {\n        filter: brightness(1);\n    }\n}\n\n.title-stars-canvas {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n}\n\n.title-logo-container {\n    position: relative;\n    z-index: 2;\n    max-width: 50%;\n    max-height: 40vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    animation: logoGlow 3s ease-in-out infinite alternate;\n}\n\n.title-logo {\n    width: 100%;\n    height: auto;\n    max-height: 40vh;\n    object-fit: contain;\n    filter: drop-shadow(0 0 20px rgba(201, 251, 255, 0.5))\n            drop-shadow(0 0 40px rgba(201, 251, 255, 0.4))\n            drop-shadow(0 0 60px rgba(201, 251, 255, 0.2));\n    animation: logoFloat 4s ease-in-out infinite;\n}\n\n\n\n\n\n\n.title-press-message {\n    position: relative;\n    z-index: 2;\n    margin-top: 60px;\n    font-family: 'Space Grotesk', sans-serif;\n    font-size: 1.0rem;\n    font-weight: 200;\n    color: #C9FBFF;\n    letter-spacing: 0.1em;\n    text-transform: uppercase;\n    animation: messagePulse 3s ease-in-out infinite;\n    text-shadow: 0 0 10px rgba(201, 251, 255, 0.5),\n                 0 0 20px rgba(201, 251, 255, 0.3);\n}\n\n@keyframes messagePulse {\n    0%, 100% {\n        opacity: 0.4;\n        \n    }\n    50% {\n        opacity: 1;\n        \n    }\n}\n\n/* ===========================\n   Loading Screen\n   =========================== */\n\n.loading-screen {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    z-index: 10001; /* Above title screen */\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: rgba(10, 10, 32, 0.95);\n    backdrop-filter: blur(10px);\n    -webkit-backdrop-filter: blur(10px);\n    transition: opacity 0.5s ease-out;\n}\n\n.loading-screen.fade-out {\n    opacity: 0;\n    pointer-events: none;\n}\n\n.loading-content {\n    text-align: center;\n    animation: loadingPulse 2s ease-in-out infinite;\n}\n\n.loading-text {\n    font-family: 'Space Grotesk', sans-serif;\n    font-size: 1.4rem;\n    font-weight: 400;\n    color: #C9FBFF;\n    letter-spacing: 0.15em;\n    text-transform: uppercase;\n    text-shadow: 0 0 20px rgba(201, 251, 255, 0.2),\n                 0 0 40px rgba(201, 251, 255, 0.3);\n}\n\n.loading-dots {\n    display: inline-block;\n    min-width: 1.5em;\n    text-align: left;\n}\n\n\n\n/* Responsive adjustments */\n@media (max-width: 768px) {\n    .title-logo-container {\n        max-width: 85%;\n        max-height: 30vh;\n    }\n    \n    .title-logo {\n        max-height: 30vh;\n    }\n    \n    .title-press-message {\n        font-size: 1rem;\n        margin-top: 40px;\n    }\n}\n\n@media (max-height: 600px) {\n    .title-logo-container {\n        max-height: 35vh;\n    }\n    \n    .title-logo {\n        max-height: 35vh;\n    }\n    \n    .title-press-message {\n        margin-top: 30px;\n        font-size: 1.1rem;\n    }\n}\n\n@media (max-width: 900px) {\n    .evolve-widget {\n        width: 95vw;\n        height: 85vh;\n        min-width: 320px;\n        min-height: 300px;\n    }\n    \n    .evolve-tabs-list {\n        grid-template-columns: repeat(2, 1fr);\n        gap: 6px;\n    }\n    \n    .evolve-tab-trigger {\n        font-size: 0.8em;\n        padding: 10px 12px;\n    }\n}\n\n@media (max-width: 700px) {\n    .evolve-widget {\n        width: 98vw;\n        height: 90vh;\n        min-width: 0;\n        min-height: 0;\n    }\n}\n\n/* Floating Evolve Tabs Container */\n.evolve-tabs-floating {\n    position: fixed;\n    top: 20px;\n    left: 50%;\n    transform: translateX(-50%);\n    display: none;\n    flex-direction: row;\n    gap: 10px;\n    z-index: 1000;\n    \n    padding: 10px;\n    border-radius: 25px;\n    \n}\n\n/* Evolve Tab Button */\n.evolve-tab-button {\n    padding: 8px 16px;\n    background: transparent;\n    color: #C9FBFF; /* CHANGED: Match cyan color */\n    border: 1px solid rgba(201, 251, 255, 0.2); /* CHANGED: Cyan border */\n    border-radius: 15px;\n    font-family: 'Space Grotesk', sans-serif;\n    font-size: 14px;\n    font-weight: 400;\n    letter-spacing: 0.05em;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    text-shadow: 0 0 4px rgba(201, 251, 255, 0.3); /* CHANGED: Cyan glow */\n}\n\n.evolve-tab-button.active,\n.evolve-tab-button.selected {\n    background: rgba(201, 251, 255, 0.15); /* CHANGED: Cyan highlight */\n    border-color: rgba(201, 251, 255, 0.4);\n    box-shadow: 0 0 12px rgba(201, 251, 255, 0.2);\n}\n\n.evolve-tab-button:hover {\n    background: rgba(201, 251, 255, 0.1); /* CHANGED: Cyan hover */\n    color: #C9FBFF;\n    border-color: rgba(201, 251, 255, 0.4);\n    text-shadow: 0 0 8px rgba(201, 251, 255, 0.6), /* CHANGED: Brighter cyan glow */\n                 0 0 12px rgba(201, 251, 255, 0.4);\n    filter: brightness(1.3);\n    transform: translateY(-2px);\n}\n\n/* Evolving Submit Button */\n.evolving-submit-button {\n    position: fixed;\n    bottom: 20px;\n    left: 50%;\n    transform: translateX(-50%);\n    padding: 12px 24px;\n    background: transparent;\n    color: #C9FBFF; /* Cyan text */\n    border: 1px solid rgba(201, 251, 255, 0.4); /* Cyan border */\n    border-radius: 25px;\n    font-family: 'Space Grotesk', sans-serif;\n    font-size: 14px;\n    font-weight: 300;\n    letter-spacing: 0.08em;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    opacity: 0.6;\n    pointer-events: none;\n    z-index: 1000;\n    text-shadow: 0 0 4px rgba(201, 251, 255, 0.3); /* Cyan glow */\n}\n\n.evolving-submit-button.enabled {\n    opacity: 1;\n    pointer-events: auto;\n}\n\n.evolving-submit-button:hover {\n    background: rgba(201, 251, 255, 0.1) !important; /* Cyan hover background */\n    border-color: rgba(201, 251, 255, 0.6) !important; /* Brighter cyan border */\n    color: #C9FBFF !important;\n   \n    text-shadow: 0 0 8px rgba(201, 251, 255, 0.6), /* CHANGED: Brighter cyan glow */\n                 0 0 12px rgba(201, 251, 255, 0.4);\n    transform: translateX(-50%) translateY(-2px) !important; /* Lift effect */\n    \n}\n\n.evolving-submit-button:active {\n    transform: translateX(-50%) translateY(0px) !important;\n    box-shadow: 0 2px 8px rgba(201, 251, 255, 0.2) !important;\n}\n\n/* Update the .evolve-category-btn styles (around line 1230) */\n\n.evolve-category-btn.evolving {\n    background: linear-gradient(135deg, rgba(201, 251, 255, 0.2) 0%, rgba(201, 251, 255, 0.1) 100%); /* CHANGED: Cyan gradient */\n    cursor: wait;\n    opacity: 0.7;\n    animation: evolvingPulse 1.5s ease-in-out infinite;\n    border-color: rgba(201, 251, 255, 0.4);\n}\n\n.evolve-category-btn:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n}\n\n@keyframes evolvingPulse {\n    0%, 100% {\n        opacity: 0.7;\n        box-shadow: 0 0 8px rgba(201, 251, 255, 0.2); /* NEW: Pulsing cyan glow */\n    }\n    50% {\n        opacity: 0.9;\n        box-shadow: 0 0 16px rgba(201, 251, 255, 0.4);\n    }\n}\n\n/* Update the already-saved message styling */\n.name-input-widget p {\n    font-size: 1em;\n    color: #C9FBFF; /* Cyan text instead of #e8f0ff */\n    margin-bottom: 20px;\n    text-align: center;\n    font-family: 'Space Grotesk', sans-serif;\n    font-weight: 300;\n    letter-spacing: 0.02em;\n}\n\n.name-input-widget p strong {\n    color: #53d3c0; /* Green from palette instead of #00ffaa */\n    font-size: 1.1em;\n    font-weight: 500;\n    text-shadow: 0 0 8px rgba(83, 211, 192, 0.4); /* Green glow */\n}\n\n.library-space-panel.editing-active {\n    padding-bottom: 140px;\n}\n\n.library-name {\n    font-family: 'Space Grotesk', sans-serif;\n    font-size: 2rem;\n    font-weight: 600;\n    color: #C9FBFF;\n    margin: 0 0 8px 0;\n    text-shadow: 0 0 12px rgba(201, 251, 255, 0.3);\n    word-break: break-word;       /* NEW */\n    white-space: normal;          /* NEW */\n    max-width: 100%;              /* NEW */\n    line-height: 1.2;             /* NEW */\n}\n\n.library-space-panel.editing-active .library-name {\n    margin-bottom: 40px;\n}\n\n.library-name-edit {\n    font-family: 'Space Grotesk', sans-serif;\n    font-size: 2rem;\n    font-weight: 600;\n    color: #C9FBFF;\n    background: rgba(0, 20, 40, 0.9);\n    border: 1px solid rgba(201, 251, 255, 0.4);\n    border-radius: 12px;\n    padding: 10px 14px;\n    margin: 0 0 24px 0;\n    text-shadow: 0 0 12px rgba(201, 251, 255, 0.3);\n    \n    transition: all 0.3s ease;\n}\n\n.library-name-edit:focus {\n    outline: none;\n    border-color: rgba(201, 251, 255, 0.6);\n    box-shadow: 0 0 18px rgba(201, 251, 255, 0.35);\n    background: rgba(0, 20, 40, 1);\n}\n\n.library-description-edit {\n    width: 100%;\n    min-height: 6.5em;\n    padding: 14px 16px;\n    background: rgba(0, 20, 40, 0.9);\n    border: 1px solid rgba(201, 251, 255, 0.35);\n    border-radius: 12px;\n    font-family: 'Space Grotesk', sans-serif;\n    font-size: 1rem;\n    color: #C9FBFF;\n    resize: vertical;\n    line-height: 1.6;\n    \n    transition: all 0.3s ease;\n    margin-bottom: 28px;\n}\n\n.library-description-edit:focus {\n    outline: none;\n    border-color: rgba(201, 251, 255, 0.6);\n    box-shadow: 0 0 18px rgba(201, 251, 255, 0.35);\n    background: rgba(0, 20, 40, 1);\n}\n\n.library-description.committed {\n    font-style: normal;\n}\n\n\n\n/* Remove old tutorial styles and add new simple overlay */\n\n/* Tutorial Message Overlay - Simple text on top */\n.tutorial-message-overlay {\n    position: fixed;\n    top: 80px;\n    left: 50%;\n    transform: translateX(-50%);\n    z-index: 9000;\n    \n    font-family: 'Space Grotesk', sans-serif;\n    font-size: 1.1rem;\n    font-weight: 300;\n    color: #C9FBFF;\n    text-align: center;\n    letter-spacing: 0.05em;\n    \n    max-width: 800px;\n    width: 90%;\n    padding: 20px 40px;\n    \n    \n    \n    text-shadow: 0 0 10px rgba(201, 251, 255, 0.3);\n    \n    \n    opacity: 0;\n    pointer-events: none;\n    transition: opacity 0.5s ease;\n    \n    cursor: pointer;\n}\n\n.tutorial-message-overlay.visible {\n    opacity: 1;\n    pointer-events: all;\n}\n\n.tutorial-message-overlay:hover {\n    text-shadow: 0 0 15px rgba(201, 251, 255, 0.6), \n                 0 0 25px rgba(201, 251, 255, 0.4);\n    filter: brightness(1.2);\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n    .tutorial-message-overlay {\n        font-size: 1.1rem;\n        padding: 15px 25px;\n        top: 60px;\n    }\n}\n\n\n`, \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://sound-particle-visualization/./src/styles.css?./node_modules/css-loader/dist/cjs.js");

/***/ }),

/***/ "./src/audio/SurroundController.js":
/*!*****************************************!*\
  !*** ./src/audio/SurroundController.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SurroundController: () => (/* binding */ SurroundController)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _surround_sound_context_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./surround-sound-context.js */ \"./src/audio/surround-sound-context.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t[\"return\"] || t[\"return\"](); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\nvar SurroundController = /*#__PURE__*/function () {\n  function SurroundController() {\n    var roomWidth = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 20;\n    var roomHeight = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 30;\n    var roomDepth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 20;\n    _classCallCheck(this, SurroundController);\n    this.ctx = new _surround_sound_context_js__WEBPACK_IMPORTED_MODULE_0__.SurroundContext(window, roomWidth, roomHeight, roomDepth);\n    this.audioContext = this.ctx.audioContext;\n    this.sources = new Map();\n    this.particleSystem = null;\n    this.currentMode = 'main';\n    this._seqActive = false;\n    this._seqIdx = 0;\n    this._seqGapMs = 5000;\n    this._seqTimer = null;\n    this._currentId = null;\n    this._dragPlayingIds = new Set();\n    this._activeOneShotId = null;\n    this._highlighted = new Map();\n    this._highlightRoots = new Set();\n    this._highlightById = new Map();\n    this._autoHighlightedIds = new Set();\n    this.sequenceFadeInMs = 450;\n    this.sequenceFadeOutMs = 450;\n    this._userRequestedPlay = false;\n\n    // Animation loop for updating positions\n    this._animationFrameId = null;\n    this._startPositionUpdateLoop();\n  }\n  return _createClass(SurroundController, [{\n    key: \"_startPositionUpdateLoop\",\n    value: function _startPositionUpdateLoop() {\n      var _this = this;\n      var _update = function update() {\n        // Update positions for all playing sources\n        var _iterator = _createForOfIteratorHelper(_this.sources),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _step$value = _slicedToArray(_step.value, 2),\n              id = _step$value[0],\n              positionalAudio = _step$value[1].positionalAudio;\n            if (positionalAudio && positionalAudio.isPlaying) {\n              var solid = _this._getSolidRootForId(id);\n              if (solid) {\n                positionalAudio.setPosition(solid.position.x, solid.position.y, solid.position.z);\n              }\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        _this._animationFrameId = requestAnimationFrame(_update);\n      };\n      this._animationFrameId = requestAnimationFrame(_update);\n    }\n  }, {\n    key: \"setParticleSystem\",\n    value: function setParticleSystem(particleSystem) {\n      this.particleSystem = particleSystem;\n      if (this.particleSystem) this.particleSystem.surroundController = this;\n    }\n  }, {\n    key: \"_getSolidRootForId\",\n    value: function _getSolidRootForId(id) {\n      var _this$particleSystem$, _this$particleSystem;\n      if (!this.particleSystem) return null;\n      var solids = ((_this$particleSystem$ = (_this$particleSystem = this.particleSystem).getSolids) === null || _this$particleSystem$ === void 0 ? void 0 : _this$particleSystem$.call(_this$particleSystem)) || [];\n      var _iterator2 = _createForOfIteratorHelper(solids),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _s$userData;\n          var s = _step2.value;\n          if ((s === null || s === void 0 || (_s$userData = s.userData) === null || _s$userData === void 0 || (_s$userData = _s$userData.solution) === null || _s$userData === void 0 ? void 0 : _s$userData.id) === id) return s;\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      return null;\n    }\n  }, {\n    key: \"loadAll\",\n    value: function () {\n      var _loadAll = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(solutions) {\n        var _this2 = this;\n        var _iterator3, _step3, _loop;\n        return _regeneratorRuntime().wrap(function _callee$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              this.stopAll();\n              _iterator3 = _createForOfIteratorHelper(solutions);\n              _context2.prev = 2;\n              _loop = /*#__PURE__*/_regeneratorRuntime().mark(function _loop() {\n                var s, rawBuffer, decodedBuffer, solid, initialPos, positionalAudio;\n                return _regeneratorRuntime().wrap(function _loop$(_context) {\n                  while (1) switch (_context.prev = _context.next) {\n                    case 0:\n                      s = _step3.value;\n                      if (!(s.audio && s.audio.data)) {\n                        _context.next = 22;\n                        break;\n                      }\n                      _context.prev = 2;\n                      _context.next = 5;\n                      return _this2._decodeBase64ToBuffer(s.audio.data);\n                    case 5:\n                      rawBuffer = _context.sent;\n                      _context.next = 8;\n                      return new Promise(function (resolve, reject) {\n                        _this2.audioContext.decodeAudioData(rawBuffer.slice(0), resolve, reject);\n                      });\n                    case 8:\n                      decodedBuffer = _context.sent;\n                      // Get the solid object for this solution\n                      solid = _this2._getSolidRootForId(s.id);\n                      initialPos = solid ? solid.position : {\n                        x: 0,\n                        y: 0,\n                        z: 0\n                      }; // Create positional audio\n                      positionalAudio = _this2.ctx.createSource(initialPos.x, initialPos.y, initialPos.z);\n                      positionalAudio.setBuffer(decodedBuffer);\n                      positionalAudio.setLoop(false);\n                      positionalAudio.setVolume(1.0);\n                      _this2.sources.set(s.id, {\n                        positionalAudio: positionalAudio,\n                        buffer: decodedBuffer,\n                        targetGain: 1.0\n                      });\n                      console.log(\"\\u2705 Loaded source \".concat(s.id));\n                      _context.next = 22;\n                      break;\n                    case 19:\n                      _context.prev = 19;\n                      _context.t0 = _context[\"catch\"](2);\n                      console.error(\"\\u274C Failed to load source \".concat(s.id, \":\"), _context.t0);\n                    case 22:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }, _loop, null, [[2, 19]]);\n              });\n              _iterator3.s();\n            case 5:\n              if ((_step3 = _iterator3.n()).done) {\n                _context2.next = 9;\n                break;\n              }\n              return _context2.delegateYield(_loop(), \"t0\", 7);\n            case 7:\n              _context2.next = 5;\n              break;\n            case 9:\n              _context2.next = 14;\n              break;\n            case 11:\n              _context2.prev = 11;\n              _context2.t1 = _context2[\"catch\"](2);\n              _iterator3.e(_context2.t1);\n            case 14:\n              _context2.prev = 14;\n              _iterator3.f();\n              return _context2.finish(14);\n            case 17:\n              console.log(\"[SurroundController] Loaded \".concat(this.sources.size, \" sources (mode: \").concat(this.currentMode, \").\"));\n            case 18:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee, this, [[2, 11, 14, 17]]);\n      }));\n      function loadAll(_x) {\n        return _loadAll.apply(this, arguments);\n      }\n      return loadAll;\n    }()\n  }, {\n    key: \"setMode\",\n    value: function setMode(mode) {\n      this.currentMode = mode;\n      console.log(\"\\uD83C\\uDF9A\\uFE0F Audio mode: \".concat(mode));\n    }\n  }, {\n    key: \"playOnly\",\n    value: function () {\n      var _playOnly = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id) {\n        var opts,\n          _args3 = arguments;\n        return _regeneratorRuntime().wrap(function _callee2$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              opts = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : {};\n              if (!this._seqActive) {\n                _context3.next = 3;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 3:\n              if (this.sources.has(id)) {\n                _context3.next = 5;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 5:\n              this.stopSequential();\n              _context3.next = 8;\n              return this.fadeOutAll(200);\n            case 8:\n              this._highlightSource(id);\n              this._updateSolidPosition(id);\n              _context3.next = 12;\n              return this._playId(id, {\n                loop: false,\n                reset: true,\n                autoHighlight: true\n              });\n            case 12:\n              console.log(\"[SurroundController] \\u25B6\\uFE0F Playing only source \".concat(id));\n            case 13:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee2, this);\n      }));\n      function playOnly(_x2) {\n        return _playOnly.apply(this, arguments);\n      }\n      return playOnly;\n    }()\n  }, {\n    key: \"playAll\",\n    value: function () {\n      var _playAll = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var gapSeconds,\n          options,\n          userInitiated,\n          force,\n          _args4 = arguments;\n        return _regeneratorRuntime().wrap(function _callee3$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              gapSeconds = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : 5;\n              options = _args4.length > 1 && _args4[1] !== undefined ? _args4[1] : {};\n              userInitiated = false;\n              force = false;\n              if (typeof options === 'boolean') {\n                userInitiated = options;\n              } else if (options && _typeof(options) === 'object') {\n                userInitiated = !!options.userInitiated;\n                force = !!options.force;\n              }\n              if (userInitiated) {\n                this._userRequestedPlay = true;\n              }\n              if (!(!this._userRequestedPlay && !force)) {\n                _context4.next = 8;\n                break;\n              }\n              return _context4.abrupt(\"return\");\n            case 8:\n              if (!(this.audioContext.state === 'suspended')) {\n                _context4.next = 11;\n                break;\n              }\n              _context4.next = 11;\n              return this.audioContext.resume();\n            case 11:\n              this.startSequential(gapSeconds);\n              this._emitPlaybackState(true);\n            case 13:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee3, this);\n      }));\n      function playAll() {\n        return _playAll.apply(this, arguments);\n      }\n      return playAll;\n    }()\n  }, {\n    key: \"stopAll\",\n    value: function stopAll() {\n      if (this._animationFrameId) {\n        cancelAnimationFrame(this._animationFrameId);\n      }\n      this.stopSequential();\n      var _iterator4 = _createForOfIteratorHelper(this.sources.entries()),\n        _step4;\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var _step4$value = _slicedToArray(_step4.value, 2),\n            id = _step4$value[0],\n            positionalAudio = _step4$value[1].positionalAudio;\n          try {\n            if (positionalAudio !== null && positionalAudio !== void 0 && positionalAudio.isPlaying) {\n              positionalAudio.stop();\n            }\n          } catch (e) {\n            console.warn(\"Error stopping source \".concat(id, \":\"), e);\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n      if (this.sources.size > 0) {\n        console.log(\"[SurroundController] \\u23F9\\uFE0F Stopped all sources.\");\n      }\n      this._dragPlayingIds.clear();\n      this._activeOneShotId = null;\n      this._userRequestedPlay = false;\n      this._emitPlaybackState(false);\n\n      // Restart position update loop\n      this._startPositionUpdateLoop();\n    }\n  }, {\n    key: \"fadeOutAll\",\n    value: function () {\n      var _fadeOutAll = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var ms,\n          pauseAfter,\n          tasks,\n          _iterator5,\n          _step5,\n          _step5$value,\n          id,\n          _args5 = arguments;\n        return _regeneratorRuntime().wrap(function _callee4$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              ms = _args5.length > 0 && _args5[0] !== undefined ? _args5[0] : 400;\n              pauseAfter = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : true;\n              tasks = [];\n              _iterator5 = _createForOfIteratorHelper(this.sources);\n              try {\n                for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n                  _step5$value = _slicedToArray(_step5.value, 1), id = _step5$value[0];\n                  tasks.push(this._fadeToZero(id, ms, pauseAfter));\n                }\n              } catch (err) {\n                _iterator5.e(err);\n              } finally {\n                _iterator5.f();\n              }\n              _context5.next = 7;\n              return Promise.all(tasks);\n            case 7:\n              if (pauseAfter) {\n                this._activeOneShotId = null;\n              }\n            case 8:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee4, this);\n      }));\n      function fadeOutAll() {\n        return _fadeOutAll.apply(this, arguments);\n      }\n      return fadeOutAll;\n    }()\n  }, {\n    key: \"_fadeToZero\",\n    value: function () {\n      var _fadeToZero2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(id) {\n        var fadeMs,\n          pauseAfter,\n          s,\n          startVolume,\n          startTime,\n          _args6 = arguments;\n        return _regeneratorRuntime().wrap(function _callee5$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              fadeMs = _args6.length > 1 && _args6[1] !== undefined ? _args6[1] : 200;\n              pauseAfter = _args6.length > 2 && _args6[2] !== undefined ? _args6[2] : true;\n              s = this.sources.get(id);\n              if (!(!(s !== null && s !== void 0 && s.positionalAudio) || s.positionalAudio.disposed)) {\n                _context6.next = 5;\n                break;\n              }\n              return _context6.abrupt(\"return\");\n            case 5:\n              startVolume = s.positionalAudio.getVolume();\n              startTime = Date.now();\n              return _context6.abrupt(\"return\", new Promise(function (resolve) {\n                var _fade = function fade() {\n                  var elapsed = Date.now() - startTime;\n                  var progress = Math.min(elapsed / fadeMs, 1);\n                  var volume = startVolume * (1 - progress);\n                  s.positionalAudio.setVolume(volume);\n                  if (progress < 1) {\n                    requestAnimationFrame(_fade);\n                  } else {\n                    if (pauseAfter && s.positionalAudio.isPlaying) {\n                      try {\n                        s.positionalAudio.stop();\n                      } catch (_unused) {}\n                    }\n                    resolve();\n                  }\n                };\n                _fade();\n              }));\n            case 8:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee5, this);\n      }));\n      function _fadeToZero(_x3) {\n        return _fadeToZero2.apply(this, arguments);\n      }\n      return _fadeToZero;\n    }()\n  }, {\n    key: \"playLoopForMesh\",\n    value: function () {\n      var _playLoopForMesh = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(id, meshRoot) {\n        var opts,\n          root,\n          _args7 = arguments;\n        return _regeneratorRuntime().wrap(function _callee6$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              opts = _args7.length > 2 && _args7[2] !== undefined ? _args7[2] : {};\n              if (!this._seqActive) {\n                _context7.next = 3;\n                break;\n              }\n              return _context7.abrupt(\"return\");\n            case 3:\n              if (this.sources.has(id)) {\n                _context7.next = 5;\n                break;\n              }\n              return _context7.abrupt(\"return\");\n            case 5:\n              _context7.next = 7;\n              return this.stopAllManualPlayback();\n            case 7:\n              root = meshRoot || this._getSolidRootForId(id);\n              if (root) {\n                this._applyGreenOutline(root);\n                this._highlightById.set(id, root);\n              }\n              this._updateSolidPosition(id);\n              _context7.next = 12;\n              return this._playId(id, {\n                loop: true,\n                reset: true,\n                autoHighlight: !!root\n              });\n            case 12:\n              this._dragPlayingIds.add(id);\n              this._activeOneShotId = null;\n            case 14:\n            case \"end\":\n              return _context7.stop();\n          }\n        }, _callee6, this);\n      }));\n      function playLoopForMesh(_x4, _x5) {\n        return _playLoopForMesh.apply(this, arguments);\n      }\n      return playLoopForMesh;\n    }()\n  }, {\n    key: \"playOneShot\",\n    value: function () {\n      var _playOneShot = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(id) {\n        var _this3 = this;\n        var _ref,\n          _ref$highlightMesh,\n          highlightMesh,\n          _ref$onEnded,\n          onEnded,\n          _ref$allowOverlap,\n          allowOverlap,\n          root,\n          s,\n          _checkEnded,\n          _args8 = arguments;\n        return _regeneratorRuntime().wrap(function _callee7$(_context8) {\n          while (1) switch (_context8.prev = _context8.next) {\n            case 0:\n              _ref = _args8.length > 1 && _args8[1] !== undefined ? _args8[1] : {}, _ref$highlightMesh = _ref.highlightMesh, highlightMesh = _ref$highlightMesh === void 0 ? null : _ref$highlightMesh, _ref$onEnded = _ref.onEnded, onEnded = _ref$onEnded === void 0 ? null : _ref$onEnded, _ref$allowOverlap = _ref.allowOverlap, allowOverlap = _ref$allowOverlap === void 0 ? false : _ref$allowOverlap;\n              if (!this._seqActive) {\n                _context8.next = 3;\n                break;\n              }\n              return _context8.abrupt(\"return\");\n            case 3:\n              if (this.sources.has(id)) {\n                _context8.next = 5;\n                break;\n              }\n              return _context8.abrupt(\"return\");\n            case 5:\n              if (allowOverlap) {\n                _context8.next = 8;\n                break;\n              }\n              _context8.next = 8;\n              return this._stopOtherManualPlayback(id);\n            case 8:\n              this.stopSequential();\n              root = highlightMesh;\n              if (!root) {\n                this._highlightSource(id);\n                root = this._highlightById.get(id);\n              } else {\n                this._applyGreenOutline(root);\n                this._highlightById.set(id, root);\n              }\n              s = this.sources.get(id); // Monitor for when sound ends\n              _checkEnded = function checkEnded() {\n                if (!s.positionalAudio.isPlaying) {\n                  if (_this3._autoHighlightedIds.has(id) || highlightMesh) {\n                    _this3._unhighlightSource(id);\n                  }\n                  if (_this3._activeOneShotId === id) _this3._activeOneShotId = null;\n                  if (typeof onEnded === 'function') onEnded();\n                } else {\n                  requestAnimationFrame(_checkEnded);\n                }\n              };\n              this._updateSolidPosition(id);\n              _context8.next = 16;\n              return this._playId(id, {\n                loop: false,\n                reset: true,\n                autoHighlight: true\n              });\n            case 16:\n              this._activeOneShotId = id;\n              requestAnimationFrame(_checkEnded);\n            case 18:\n            case \"end\":\n              return _context8.stop();\n          }\n        }, _callee7, this);\n      }));\n      function playOneShot(_x6) {\n        return _playOneShot.apply(this, arguments);\n      }\n      return playOneShot;\n    }()\n  }, {\n    key: \"startSequential\",\n    value: function startSequential() {\n      var gapSeconds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3;\n      this.stopSequential();\n      this._seqGapMs = Math.max(0, gapSeconds * 1000);\n      this._seqActive = true;\n      this._seqIdx = 0;\n      var _iterator6 = _createForOfIteratorHelper(this.sources),\n        _step6;\n      try {\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var _step6$value = _slicedToArray(_step6.value, 2),\n            id = _step6$value[0],\n            _s = _step6$value[1];\n          try {\n            if (_s.positionalAudio.isPlaying) {\n              _s.positionalAudio.stop();\n            }\n            _s.positionalAudio.setVolume(0);\n            if (_s.targetGain == null) _s.targetGain = 1.0;\n          } catch (_unused2) {}\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n      this._playNextInSequence();\n    }\n  }, {\n    key: \"stopSequential\",\n    value: function stopSequential() {\n      this._seqActive = false;\n      if (this._seqTimer) {\n        clearTimeout(this._seqTimer);\n        this._seqTimer = null;\n      }\n    }\n  }, {\n    key: \"_playNextInSequence\",\n    value: function _playNextInSequence() {\n      var _this4 = this;\n      if (!this._seqActive || this.sources.size === 0) return;\n      var ids = Array.from(this.sources.keys());\n      if (!ids.length) return;\n      var nextId = ids[this._seqIdx % ids.length];\n      this._seqIdx++;\n      if (this._currentId && this._currentId !== nextId) {\n        var prev = this.sources.get(this._currentId);\n        if (prev !== null && prev !== void 0 && prev.positionalAudio) {\n          try {\n            if (prev.positionalAudio.isPlaying) {\n              prev.positionalAudio.stop();\n            }\n            prev.positionalAudio.setVolume(0);\n          } catch (_unused3) {}\n          for (var _i = 0, _Array$from = Array.from(this._autoHighlightedIds); _i < _Array$from.length; _i++) {\n            var oldId = _Array$from[_i];\n            this._unhighlightSource(oldId);\n          }\n        }\n      }\n      this._currentId = nextId;\n      for (var _i2 = 0, _Array$from2 = Array.from(this._autoHighlightedIds); _i2 < _Array$from2.length; _i2++) {\n        var _oldId = _Array$from2[_i2];\n        if (_oldId !== nextId) this._unhighlightSource(_oldId);\n      }\n      this._highlightSource(nextId);\n      this._updateSolidPosition(nextId);\n      var s = this.sources.get(nextId);\n      if (!(s !== null && s !== void 0 && s.positionalAudio)) return;\n      try {\n        var _s$targetGain;\n        s.positionalAudio.setVolume(0);\n        s.positionalAudio.play();\n\n        // Fade in\n        this._fadeVolume(s.positionalAudio, (_s$targetGain = s.targetGain) !== null && _s$targetGain !== void 0 ? _s$targetGain : 1, this.sequenceFadeInMs);\n\n        // Monitor for end\n        var _checkEnd = function checkEnd() {\n          if (!s.positionalAudio.isPlaying) {\n            _this4._unhighlightSource(nextId);\n            _this4._seqTimer = setTimeout(function () {\n              return _this4._playNextInSequence();\n            }, _this4._seqGapMs);\n          } else if (_this4._seqActive) {\n            requestAnimationFrame(_checkEnd);\n          }\n        };\n        requestAnimationFrame(_checkEnd);\n      } catch (error) {\n        console.error('Failed to play in sequence:', error);\n        this._unhighlightSource(nextId);\n        this._seqTimer = setTimeout(function () {\n          return _this4._playNextInSequence();\n        }, this._seqGapMs);\n      }\n    }\n  }, {\n    key: \"_fadeVolume\",\n    value: function () {\n      var _fadeVolume2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(positionalAudio, targetVolume) {\n        var ms,\n          startVolume,\n          startTime,\n          _args9 = arguments;\n        return _regeneratorRuntime().wrap(function _callee8$(_context9) {\n          while (1) switch (_context9.prev = _context9.next) {\n            case 0:\n              ms = _args9.length > 2 && _args9[2] !== undefined ? _args9[2] : 200;\n              if (positionalAudio) {\n                _context9.next = 3;\n                break;\n              }\n              return _context9.abrupt(\"return\");\n            case 3:\n              startVolume = positionalAudio.getVolume();\n              startTime = Date.now();\n              return _context9.abrupt(\"return\", new Promise(function (resolve) {\n                var _fade2 = function fade() {\n                  var elapsed = Date.now() - startTime;\n                  var progress = Math.min(elapsed / ms, 1);\n                  var volume = startVolume + (targetVolume - startVolume) * progress;\n                  positionalAudio.setVolume(volume);\n                  if (progress < 1) {\n                    requestAnimationFrame(_fade2);\n                  } else {\n                    resolve();\n                  }\n                };\n                _fade2();\n              }));\n            case 6:\n            case \"end\":\n              return _context9.stop();\n          }\n        }, _callee8);\n      }));\n      function _fadeVolume(_x7, _x8) {\n        return _fadeVolume2.apply(this, arguments);\n      }\n      return _fadeVolume;\n    }()\n  }, {\n    key: \"_playId\",\n    value: function () {\n      var _playId2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(id) {\n        var _this5 = this;\n        var _ref2,\n          _ref2$loop,\n          loop,\n          _ref2$reset,\n          reset,\n          _ref2$autoHighlight,\n          autoHighlight,\n          s,\n          _s$targetGain2,\n          _checkEnd2,\n          _args10 = arguments;\n        return _regeneratorRuntime().wrap(function _callee9$(_context10) {\n          while (1) switch (_context10.prev = _context10.next) {\n            case 0:\n              _ref2 = _args10.length > 1 && _args10[1] !== undefined ? _args10[1] : {}, _ref2$loop = _ref2.loop, loop = _ref2$loop === void 0 ? false : _ref2$loop, _ref2$reset = _ref2.reset, reset = _ref2$reset === void 0 ? true : _ref2$reset, _ref2$autoHighlight = _ref2.autoHighlight, autoHighlight = _ref2$autoHighlight === void 0 ? false : _ref2$autoHighlight;\n              s = this.sources.get(id);\n              if (!(!(s !== null && s !== void 0 && s.positionalAudio) || s.positionalAudio.disposed)) {\n                _context10.next = 4;\n                break;\n              }\n              return _context10.abrupt(\"return\");\n            case 4:\n              _context10.prev = 4;\n              if (reset && s.positionalAudio.isPlaying) {\n                s.positionalAudio.stop();\n              }\n              s.positionalAudio.setLoop(!!loop);\n              s.positionalAudio.setVolume(0);\n              s.positionalAudio.play();\n              _context10.next = 11;\n              return this._fadeVolume(s.positionalAudio, (_s$targetGain2 = s.targetGain) !== null && _s$targetGain2 !== void 0 ? _s$targetGain2 : 1, 250);\n            case 11:\n              if (autoHighlight && !loop) {\n                _checkEnd2 = function checkEnd() {\n                  if (!s.positionalAudio.isPlaying) {\n                    _this5._unhighlightSource(id);\n                  } else {\n                    requestAnimationFrame(_checkEnd2);\n                  }\n                };\n                requestAnimationFrame(_checkEnd2);\n              }\n              _context10.next = 17;\n              break;\n            case 14:\n              _context10.prev = 14;\n              _context10.t0 = _context10[\"catch\"](4);\n              console.error(\"Failed to play \".concat(id, \":\"), _context10.t0);\n            case 17:\n            case \"end\":\n              return _context10.stop();\n          }\n        }, _callee9, this, [[4, 14]]);\n      }));\n      function _playId(_x9) {\n        return _playId2.apply(this, arguments);\n      }\n      return _playId;\n    }()\n  }, {\n    key: \"_updateSolidPosition\",\n    value: function _updateSolidPosition(id) {\n      var solid = this._getSolidRootForId(id);\n      var s = this.sources.get(id);\n      if (solid && s !== null && s !== void 0 && s.positionalAudio && !s.positionalAudio.disposed) {\n        s.positionalAudio.setPosition(solid.position.x, solid.position.y, solid.position.z);\n      }\n    }\n  }, {\n    key: \"_highlightSource\",\n    value: function _highlightSource(id) {\n      if (this._highlightById.has(id)) return;\n      var root = this._getSolidRootForId(id);\n      if (root) {\n        this._applyGreenOutline(root);\n        this._highlightById.set(id, root);\n        this._autoHighlightedIds.add(id);\n      }\n    }\n  }, {\n    key: \"_unhighlightSource\",\n    value: function _unhighlightSource(id) {\n      if (!this._highlightById.has(id)) return;\n      var root = this._highlightById.get(id);\n      this._clearGreenOutline(root);\n      this._highlightById[\"delete\"](id);\n      this._autoHighlightedIds[\"delete\"](id);\n    }\n  }, {\n    key: \"_applyGreenOutline\",\n    value: function _applyGreenOutline(root) {\n      if (!root || this._highlighted.has(root)) return;\n      var highlightColor = new three__WEBPACK_IMPORTED_MODULE_1__.Color(0x53d3c0);\n      var originals = [];\n      root.traverse(function (child) {\n        var _base$opacity;\n        if (!child.isMesh) return;\n        originals.push({\n          mesh: child,\n          material: child.material\n        });\n        var base = child.material;\n        var tinted = base.clone();\n        if ('emissive' in tinted) {\n          var _tinted$emissiveInten;\n          tinted.emissive = highlightColor.clone();\n          tinted.emissiveIntensity = Math.max(0.5, (_tinted$emissiveInten = tinted.emissiveIntensity) !== null && _tinted$emissiveInten !== void 0 ? _tinted$emissiveInten : 0);\n        }\n        if ('color' in tinted) {\n          tinted.color = tinted.color.clone().lerp(highlightColor, 0.45);\n        }\n        tinted.transparent = true;\n        tinted.opacity = Math.min(0.95, (_base$opacity = base.opacity) !== null && _base$opacity !== void 0 ? _base$opacity : 1);\n        child.material = tinted;\n        if (!child.userData.__surroundOriginalMaterial) {\n          child.userData.__surroundOriginalMaterial = base;\n        }\n      });\n      this._highlighted.set(root, {\n        originals: originals\n      });\n      this._highlightRoots.add(root);\n    }\n  }, {\n    key: \"_clearGreenOutline\",\n    value: function _clearGreenOutline(root) {\n      if (!root) return;\n      var rec = this._highlighted.get(root);\n      if (!rec) {\n        this._highlightRoots[\"delete\"](root);\n        return;\n      }\n      rec.originals.forEach(function (_ref3) {\n        var mesh = _ref3.mesh,\n          material = _ref3.material;\n        if (!mesh) return;\n        var original = mesh.userData.__surroundOriginalMaterial || material;\n        if (original) mesh.material = original;\n        delete mesh.userData.__surroundOriginalMaterial;\n      });\n      this._highlighted[\"delete\"](root);\n      this._highlightRoots[\"delete\"](root);\n    }\n  }, {\n    key: \"clearAllGreenOutlines\",\n    value: function clearAllGreenOutlines() {\n      var roots = Array.from(this._highlightRoots);\n      for (var _i3 = 0, _roots = roots; _i3 < _roots.length; _i3++) {\n        var root = _roots[_i3];\n        this._clearGreenOutline(root);\n      }\n      for (var _i4 = 0, _Array$from3 = Array.from(this._highlighted.keys()); _i4 < _Array$from3.length; _i4++) {\n        var _root = _Array$from3[_i4];\n        this._clearGreenOutline(_root);\n      }\n      this._autoHighlightedIds.clear();\n    }\n  }, {\n    key: \"stopAllManualPlayback\",\n    value: function () {\n      var _stopAllManualPlayback = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {\n        var _i5, _Array$from4, _s2$positionalAudio, id, _s2, _s3$positionalAudio, _s3;\n        return _regeneratorRuntime().wrap(function _callee10$(_context11) {\n          while (1) switch (_context11.prev = _context11.next) {\n            case 0:\n              console.log(' Stopping ALL manual playback');\n              for (_i5 = 0, _Array$from4 = Array.from(this._dragPlayingIds); _i5 < _Array$from4.length; _i5++) {\n                id = _Array$from4[_i5];\n                _s2 = this.sources.get(id);\n                if (_s2 !== null && _s2 !== void 0 && (_s2$positionalAudio = _s2.positionalAudio) !== null && _s2$positionalAudio !== void 0 && _s2$positionalAudio.isPlaying) {\n                  try {\n                    _s2.positionalAudio.stop();\n                  } catch (_unused4) {}\n                }\n              }\n              this._dragPlayingIds.clear();\n              if (this._activeOneShotId != null) {\n                _s3 = this.sources.get(this._activeOneShotId);\n                if (_s3 !== null && _s3 !== void 0 && (_s3$positionalAudio = _s3.positionalAudio) !== null && _s3$positionalAudio !== void 0 && _s3$positionalAudio.isPlaying) {\n                  try {\n                    _s3.positionalAudio.stop();\n                  } catch (_unused5) {}\n                }\n                this._activeOneShotId = null;\n              }\n              this.stopSequential();\n              this.clearAllGreenOutlines();\n              console.log(' All audio stopped');\n            case 7:\n            case \"end\":\n              return _context11.stop();\n          }\n        }, _callee10, this);\n      }));\n      function stopAllManualPlayback() {\n        return _stopAllManualPlayback.apply(this, arguments);\n      }\n      return stopAllManualPlayback;\n    }()\n  }, {\n    key: \"_stopOtherManualPlayback\",\n    value: function () {\n      var _stopOtherManualPlayback2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee11() {\n        var exceptId,\n          _i6,\n          _Array$from5,\n          _s4$positionalAudio,\n          otherId,\n          _s4,\n          _s5$positionalAudio,\n          _s5,\n          _args12 = arguments;\n        return _regeneratorRuntime().wrap(function _callee11$(_context12) {\n          while (1) switch (_context12.prev = _context12.next) {\n            case 0:\n              exceptId = _args12.length > 0 && _args12[0] !== undefined ? _args12[0] : null;\n              _i6 = 0, _Array$from5 = Array.from(this._dragPlayingIds);\n            case 2:\n              if (!(_i6 < _Array$from5.length)) {\n                _context12.next = 13;\n                break;\n              }\n              otherId = _Array$from5[_i6];\n              if (!(otherId === exceptId)) {\n                _context12.next = 6;\n                break;\n              }\n              return _context12.abrupt(\"continue\", 10);\n            case 6:\n              _s4 = this.sources.get(otherId);\n              if (_s4 !== null && _s4 !== void 0 && (_s4$positionalAudio = _s4.positionalAudio) !== null && _s4$positionalAudio !== void 0 && _s4$positionalAudio.isPlaying) {\n                try {\n                  _s4.positionalAudio.stop();\n                } catch (_unused6) {}\n              }\n              this._dragPlayingIds[\"delete\"](otherId);\n              this._unhighlightSource(otherId);\n            case 10:\n              _i6++;\n              _context12.next = 2;\n              break;\n            case 13:\n              if (this._activeOneShotId != null && this._activeOneShotId !== exceptId) {\n                _s5 = this.sources.get(this._activeOneShotId);\n                if (_s5 !== null && _s5 !== void 0 && (_s5$positionalAudio = _s5.positionalAudio) !== null && _s5$positionalAudio !== void 0 && _s5$positionalAudio.isPlaying) {\n                  try {\n                    _s5.positionalAudio.stop();\n                  } catch (_unused7) {}\n                }\n                this._unhighlightSource(this._activeOneShotId);\n                this._activeOneShotId = null;\n              }\n            case 14:\n            case \"end\":\n              return _context12.stop();\n          }\n        }, _callee11, this);\n      }));\n      function _stopOtherManualPlayback() {\n        return _stopOtherManualPlayback2.apply(this, arguments);\n      }\n      return _stopOtherManualPlayback;\n    }()\n  }, {\n    key: \"_decodeBase64ToBuffer\",\n    value: function () {\n      var _decodeBase64ToBuffer2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee12(base64) {\n        var bin, arr, i;\n        return _regeneratorRuntime().wrap(function _callee12$(_context13) {\n          while (1) switch (_context13.prev = _context13.next) {\n            case 0:\n              bin = atob(base64);\n              arr = new Uint8Array(bin.length);\n              for (i = 0; i < bin.length; i++) arr[i] = bin.charCodeAt(i);\n              return _context13.abrupt(\"return\", arr.buffer);\n            case 4:\n            case \"end\":\n              return _context13.stop();\n          }\n        }, _callee12);\n      }));\n      function _decodeBase64ToBuffer(_x10) {\n        return _decodeBase64ToBuffer2.apply(this, arguments);\n      }\n      return _decodeBase64ToBuffer;\n    }()\n  }, {\n    key: \"_emitPlaybackState\",\n    value: function _emitPlaybackState(playing) {\n      try {\n        window.dispatchEvent(new CustomEvent('surround-playback-state', {\n          detail: {\n            playing: !!playing\n          }\n        }));\n      } catch (_unused8) {}\n    }\n  }, {\n    key: \"hasUserRequestedSoundscape\",\n    value: function hasUserRequestedSoundscape() {\n      return this._userRequestedPlay;\n    }\n  }, {\n    key: \"startMode\",\n    value: function () {\n      var _startMode = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee13() {\n        var fadeMs,\n          _args14 = arguments;\n        return _regeneratorRuntime().wrap(function _callee13$(_context14) {\n          while (1) switch (_context14.prev = _context14.next) {\n            case 0:\n              fadeMs = _args14.length > 0 && _args14[0] !== undefined ? _args14[0] : 500;\n              this.stopSequential();\n              _context14.next = 4;\n              return this.fadeOutAll(fadeMs, true);\n            case 4:\n            case \"end\":\n              return _context14.stop();\n          }\n        }, _callee13, this);\n      }));\n      function startMode() {\n        return _startMode.apply(this, arguments);\n      }\n      return startMode;\n    }()\n  }, {\n    key: \"resumeMainMode\",\n    value: function resumeMainMode() {\n      var gapSeconds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 5;\n      if (!this._userRequestedPlay) return;\n      return this.playAll(gapSeconds);\n    }\n  }, {\n    key: \"stopUserSoundscape\",\n    value: function () {\n      var _stopUserSoundscape = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee14() {\n        var fadeMs,\n          wasActive,\n          _args15 = arguments;\n        return _regeneratorRuntime().wrap(function _callee14$(_context15) {\n          while (1) switch (_context15.prev = _context15.next) {\n            case 0:\n              fadeMs = _args15.length > 0 && _args15[0] !== undefined ? _args15[0] : 400;\n              wasActive = this._seqActive || this._userRequestedPlay;\n              this._userRequestedPlay = false;\n              this.stopSequential();\n              _context15.next = 6;\n              return this.fadeOutAll(fadeMs, true);\n            case 6:\n              this._activeOneShotId = null;\n              if (wasActive) {\n                this._emitPlaybackState(false);\n              }\n            case 8:\n            case \"end\":\n              return _context15.stop();\n          }\n        }, _callee14, this);\n      }));\n      function stopUserSoundscape() {\n        return _stopUserSoundscape.apply(this, arguments);\n      }\n      return stopUserSoundscape;\n    }()\n  }]);\n}();\n\n//# sourceURL=webpack://sound-particle-visualization/./src/audio/SurroundController.js?");

/***/ }),

/***/ "./src/audio/surround-sound-context.js":
/*!*********************************************!*\
  !*** ./src/audio/surround-sound-context.js ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SurroundContext: () => (/* binding */ SurroundContext)\n/* harmony export */ });\n/* module decorator */ module = __webpack_require__.hmd(module);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _wrapNativeSuper(t) { var r = \"function\" == typeof Map ? new Map() : void 0; return _wrapNativeSuper = function _wrapNativeSuper(t) { if (null === t || !_isNativeFunction(t)) return t; if (\"function\" != typeof t) throw new TypeError(\"Super expression must either be null or a function\"); if (void 0 !== r) { if (r.has(t)) return r.get(t); r.set(t, Wrapper); } function Wrapper() { return _construct(t, arguments, _getPrototypeOf(this).constructor); } return Wrapper.prototype = Object.create(t.prototype, { constructor: { value: Wrapper, enumerable: !1, writable: !0, configurable: !0 } }), _setPrototypeOf(Wrapper, t); }, _wrapNativeSuper(t); }\nfunction _construct(t, e, r) { if (_isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments); var o = [null]; o.push.apply(o, e); var p = new (t.bind.apply(t, o))(); return r && _setPrototypeOf(p, r.prototype), p; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _isNativeFunction(t) { try { return -1 !== Function.toString.call(t).indexOf(\"[native code]\"); } catch (n) { return \"function\" == typeof t; } }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar SurroundContext = /*#__PURE__*/function () {\n  function SurroundContext(w, x, y, z) {\n    _classCallCheck(this, SurroundContext);\n    this.actx = new (w.AudioContext || w.webkitAudioContext)();\n    this.maxChannelCount = this.actx.destination.maxChannelCount;\n    this.longestSide = Math.max(x, y, z);\n    if (this.maxChannelCount <= 2) {\n      this.useResourceAudio = true;\n      this.rctx = new ResonanceAudio(this.actx);\n      this.rctx.setAmbisonicOrder(3);\n      this.rctx.output.connect(this.actx.destination);\n      // Swap y and z for Three.js Y-up coordinate system\n      this.rctx.setRoomProperties({\n        width: x,\n        height: y,\n        depth: z\n      },\n      // Maps to x,y,z in ResonanceAudio which expects width,height,depth\n      {\n        left: 'transparent',\n        right: 'transparent',\n        front: 'transparent',\n        back: 'transparent',\n        down: 'transparent',\n        up: 'transparent'\n      });\n    } else {\n      this.useResourceAudio = false;\n      this.actx.destination.channelCount = this.maxChannelCount;\n      this.actx.destination.channelCountMode = 'explicit';\n      this.channelInterpretation = 'discrete';\n      this.destGroup = new DestinationGroup(this.guessSpeakerSetup(this.maxChannelCount, x, y, z), this);\n    }\n  }\n  return _createClass(SurroundContext, [{\n    key: \"createSource\",\n    value: function createSource() {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var z = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var s;\n      if (this.useResourceAudio) {\n        s = this.rctx.createSource();\n        // Swap y and z for Three.js Y-up coordinate system\n        s.setPosition(x, y, z);\n      } else {\n        s = new SurroundSource(this.destGroup);\n        s.setPosition(x, y, z);\n      }\n      return s;\n    }\n  }, {\n    key: \"guessSpeakerSetup\",\n    value: function guessSpeakerSetup(n, xx, yy, zz) {\n      var x = xx / 2;\n      var y = yy / 2;\n      var z = zz / 2;\n      var a = x / 2;\n      var b = y / 2;\n      var c = z / 2;\n\n      // All speaker positions now use Three.js Y-up convention\n      // Format: {x: left/right, y: down/up, z: front/back}\n      return [[\n      //   mono\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      } // FC (front center, negative Z is forward in Three.js)\n      ], [\n      //   stereo\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      } // FR\n      ], [\n      //   3.0 surround\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: z\n      } // BC\n      ], [\n      //   quadraphonic\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      } // BR\n      ], [\n      //   4.1 surround\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      },\n      // FC\n      {\n        x: 0,\n        y: -y,\n        z: 0\n      },\n      // LFE\n      {\n        x: 0,\n        y: 0,\n        z: z\n      } // BC\n      ], [\n      //   5.1 surround\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      },\n      // FC\n      {\n        x: 0,\n        y: -y,\n        z: 0\n      },\n      // LFE\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      } // BR\n      ], [\n      //   hexagonal\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      },\n      // FC\n      {\n        x: 0,\n        y: -y,\n        z: 0\n      },\n      // LFE\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      },\n      // BR\n      {\n        x: 0,\n        y: 0,\n        z: z\n      } // BC\n      ], [\n      //   7.1 surround\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      },\n      // FC\n      {\n        x: 0,\n        y: -y,\n        z: 0\n      },\n      // LFE\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      },\n      // BR\n      {\n        x: -x,\n        y: 0,\n        z: 0\n      },\n      // SL\n      {\n        x: x,\n        y: 0,\n        z: 0\n      } // SR\n      ], [\n      //   9.0 surround\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      },\n      // FC\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      },\n      // BR\n      {\n        x: -a,\n        y: 0,\n        z: -z\n      },\n      // FLC\n      {\n        x: a,\n        y: 0,\n        z: -z\n      },\n      // FRC\n      {\n        x: -x,\n        y: 0,\n        z: 0\n      },\n      // SL\n      {\n        x: x,\n        y: 0,\n        z: 0\n      } // SR\n      ], [\n      //   5.1.4 atmos\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      },\n      // FC\n      {\n        x: 0,\n        y: -y,\n        z: 0\n      },\n      // LFE\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      },\n      // BR\n      {\n        x: -x,\n        y: y,\n        z: -z\n      },\n      // TFL\n      {\n        x: x,\n        y: y,\n        z: -z\n      },\n      // TFR\n      {\n        x: -x,\n        y: y,\n        z: z\n      },\n      // TBL\n      {\n        x: x,\n        y: y,\n        z: z\n      } // TBR\n      ], [\n      //   11.0 surround\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      },\n      // FC\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      },\n      // BR\n      {\n        x: -a,\n        y: 0,\n        z: -z\n      },\n      // FLC\n      {\n        x: a,\n        y: 0,\n        z: -z\n      },\n      // FRC\n      {\n        x: -x,\n        y: 0,\n        z: 0\n      },\n      // SL\n      {\n        x: x,\n        y: 0,\n        z: 0\n      },\n      // SR\n      {\n        x: -x,\n        y: 0,\n        z: -c\n      },\n      // WFL\n      {\n        x: x,\n        y: 0,\n        z: -c\n      } // WFR\n      ], [\n      //   7.1.4 atmos\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      },\n      // FC\n      {\n        x: 0,\n        y: -y,\n        z: 0\n      },\n      // LFE\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      },\n      // BR\n      {\n        x: -x,\n        y: 0,\n        z: 0\n      },\n      // SL\n      {\n        x: x,\n        y: 0,\n        z: 0\n      },\n      // SR\n      {\n        x: -x,\n        y: y,\n        z: -z\n      },\n      // TFL\n      {\n        x: x,\n        y: y,\n        z: -z\n      },\n      // TFR\n      {\n        x: -x,\n        y: y,\n        z: z\n      },\n      // TBL\n      {\n        x: x,\n        y: y,\n        z: z\n      } // TBR\n      ], [\n      //   \"8.1.4\"\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      },\n      // FC\n      {\n        x: 0,\n        y: -y,\n        z: 0\n      },\n      // LFE\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      },\n      // BR\n      {\n        x: 0,\n        y: 0,\n        z: z\n      },\n      // BC\n      {\n        x: -x,\n        y: 0,\n        z: 0\n      },\n      // SL\n      {\n        x: x,\n        y: 0,\n        z: 0\n      },\n      // SR\n      {\n        x: -x,\n        y: y,\n        z: -z\n      },\n      // TFL\n      {\n        x: x,\n        y: y,\n        z: -z\n      },\n      // TFR\n      {\n        x: -x,\n        y: y,\n        z: z\n      },\n      // TBL\n      {\n        x: x,\n        y: y,\n        z: z\n      } // TBR\n      ], [\n      //   \"10.0.4\"\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      },\n      // BR\n      {\n        x: -x,\n        y: 0,\n        z: 0\n      },\n      // SL\n      {\n        x: x,\n        y: 0,\n        z: 0\n      },\n      // SR\n      {\n        x: -x,\n        y: y,\n        z: -z\n      },\n      // TFL\n      {\n        x: x,\n        y: y,\n        z: -z\n      },\n      // TFR\n      {\n        x: -x,\n        y: y,\n        z: z\n      },\n      // TBL\n      {\n        x: x,\n        y: y,\n        z: z\n      },\n      // TBR\n      {\n        x: -x,\n        y: 0,\n        z: -c\n      },\n      // WFL\n      {\n        x: x,\n        y: 0,\n        z: -c\n      },\n      // WFR\n      {\n        x: -x,\n        y: 0,\n        z: c\n      },\n      // WBL\n      {\n        x: x,\n        y: 0,\n        z: c\n      } // WBR\n      ], [\n      //   \"11.0.4\"\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      },\n      // FC\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      },\n      // BR\n      {\n        x: -x,\n        y: 0,\n        z: 0\n      },\n      // SL\n      {\n        x: x,\n        y: 0,\n        z: 0\n      },\n      // SR\n      {\n        x: -x,\n        y: y,\n        z: -z\n      },\n      // TFL\n      {\n        x: x,\n        y: y,\n        z: -z\n      },\n      // TFR\n      {\n        x: -x,\n        y: y,\n        z: z\n      },\n      // TBL\n      {\n        x: x,\n        y: y,\n        z: z\n      },\n      // TBR\n      {\n        x: -x,\n        y: 0,\n        z: -c\n      },\n      // WFL\n      {\n        x: x,\n        y: 0,\n        z: -c\n      },\n      // WFR\n      {\n        x: -x,\n        y: 0,\n        z: c\n      },\n      // WBL\n      {\n        x: x,\n        y: 0,\n        z: c\n      } // WBR\n      ], [\n      //   11.1.4 atmos\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      },\n      // FC\n      {\n        x: 0,\n        y: -y,\n        z: 0\n      },\n      // LFE\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      },\n      // BR\n      {\n        x: -x,\n        y: 0,\n        z: 0\n      },\n      // SL\n      {\n        x: x,\n        y: 0,\n        z: 0\n      },\n      // SR\n      {\n        x: -x,\n        y: y,\n        z: -z\n      },\n      // TFL\n      {\n        x: x,\n        y: y,\n        z: -z\n      },\n      // TFR\n      {\n        x: -x,\n        y: y,\n        z: z\n      },\n      // TBL\n      {\n        x: x,\n        y: y,\n        z: z\n      },\n      // TBR\n      {\n        x: -x,\n        y: 0,\n        z: -c\n      },\n      // WFL\n      {\n        x: x,\n        y: 0,\n        z: -c\n      },\n      // WFR\n      {\n        x: -x,\n        y: 0,\n        z: c\n      },\n      // WBL\n      {\n        x: x,\n        y: 0,\n        z: c\n      } // WBR\n      ], [\n      //   \"16.1 surround\"\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      },\n      // FC\n      {\n        x: 0,\n        y: -y,\n        z: 0\n      },\n      // LFE\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      },\n      // BR\n      {\n        x: -a,\n        y: 0,\n        z: -z\n      },\n      // FLC\n      {\n        x: a,\n        y: 0,\n        z: -z\n      },\n      // FRC\n      {\n        x: 0,\n        y: 0,\n        z: z\n      },\n      // BC\n      {\n        x: -x,\n        y: 0,\n        z: 0\n      },\n      // SL\n      {\n        x: x,\n        y: 0,\n        z: 0\n      },\n      // SR\n      {\n        x: -x,\n        y: y,\n        z: -z\n      },\n      // TFL\n      {\n        x: x,\n        y: y,\n        z: -z\n      },\n      // TFR\n      {\n        x: -x,\n        y: y,\n        z: z\n      },\n      // TBL\n      {\n        x: x,\n        y: y,\n        z: z\n      },\n      // TBR\n      {\n        x: -x,\n        y: y,\n        z: 0\n      },\n      // TSL\n      {\n        x: x,\n        y: y,\n        z: 0\n      } // TSR\n      ], [\n      //   \"17.1 surround\"\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      },\n      // FC\n      {\n        x: 0,\n        y: -y,\n        z: 0\n      },\n      // LFE\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      },\n      // BR\n      {\n        x: -a,\n        y: 0,\n        z: -z\n      },\n      // FLC\n      {\n        x: a,\n        y: 0,\n        z: -z\n      },\n      // FRC\n      {\n        x: 0,\n        y: 0,\n        z: z\n      },\n      // BC\n      {\n        x: -x,\n        y: 0,\n        z: 0\n      },\n      // SL\n      {\n        x: x,\n        y: 0,\n        z: 0\n      },\n      // SR\n      {\n        x: -x,\n        y: y,\n        z: -z\n      },\n      // TFL\n      {\n        x: x,\n        y: y,\n        z: -z\n      },\n      // TFR\n      {\n        x: 0,\n        y: y,\n        z: -z\n      },\n      // TFC\n      {\n        x: -x,\n        y: y,\n        z: z\n      },\n      // TBL\n      {\n        x: x,\n        y: y,\n        z: z\n      },\n      // TBR\n      {\n        x: -x,\n        y: y,\n        z: 0\n      },\n      // TSL\n      {\n        x: x,\n        y: y,\n        z: 0\n      } // TSR\n      ], [\n      //   \"18.1 surround\"\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      },\n      // FC\n      {\n        x: 0,\n        y: -y,\n        z: 0\n      },\n      // LFE\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      },\n      // BR\n      {\n        x: -a,\n        y: 0,\n        z: -z\n      },\n      // FLC\n      {\n        x: a,\n        y: 0,\n        z: -z\n      },\n      // FRC\n      {\n        x: 0,\n        y: 0,\n        z: z\n      },\n      // BC\n      {\n        x: -x,\n        y: 0,\n        z: 0\n      },\n      // SL\n      {\n        x: x,\n        y: 0,\n        z: 0\n      },\n      // SR\n      {\n        x: -x,\n        y: y,\n        z: -z\n      },\n      // TFL\n      {\n        x: x,\n        y: y,\n        z: -z\n      },\n      // TFR\n      {\n        x: 0,\n        y: y,\n        z: -z\n      },\n      // TFC\n      {\n        x: -x,\n        y: y,\n        z: z\n      },\n      // TBL\n      {\n        x: x,\n        y: y,\n        z: z\n      },\n      // TBR\n      {\n        x: -x,\n        y: y,\n        z: 0\n      },\n      // TSL\n      {\n        x: x,\n        y: y,\n        z: 0\n      },\n      // TSR\n      {\n        x: 0,\n        y: y,\n        z: z\n      } // TBC\n      ], [\n      //   \"19.1 surround\"\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      },\n      // FC\n      {\n        x: 0,\n        y: -y,\n        z: 0\n      },\n      // LFE\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      },\n      // BR\n      {\n        x: -a,\n        y: 0,\n        z: -z\n      },\n      // FLC\n      {\n        x: a,\n        y: 0,\n        z: -z\n      },\n      // FRC\n      {\n        x: 0,\n        y: 0,\n        z: z\n      },\n      // BC\n      {\n        x: -x,\n        y: 0,\n        z: 0\n      },\n      // SL\n      {\n        x: x,\n        y: 0,\n        z: 0\n      },\n      // SR\n      {\n        x: -x,\n        y: y,\n        z: -z\n      },\n      // TFL\n      {\n        x: x,\n        y: y,\n        z: -z\n      },\n      // TFR\n      {\n        x: 0,\n        y: y,\n        z: -z\n      },\n      // TFC\n      {\n        x: 0,\n        y: y,\n        z: 0\n      },\n      // TC\n      {\n        x: -x,\n        y: y,\n        z: z\n      },\n      // TBL\n      {\n        x: x,\n        y: y,\n        z: z\n      },\n      // TBR\n      {\n        x: -x,\n        y: y,\n        z: 0\n      },\n      // TSL\n      {\n        x: x,\n        y: y,\n        z: 0\n      },\n      // TSR\n      {\n        x: 0,\n        y: y,\n        z: z\n      } // TBC\n      ], [\n      //   \"20.1 surround\"\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      },\n      // FC\n      {\n        x: 0,\n        y: -y,\n        z: 0\n      },\n      // LFE\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      },\n      // BR\n      {\n        x: -a,\n        y: 0,\n        z: -z\n      },\n      // FLC\n      {\n        x: a,\n        y: 0,\n        z: -z\n      },\n      // FRC\n      {\n        x: 0,\n        y: 0,\n        z: z\n      },\n      // BC\n      {\n        x: -x,\n        y: 0,\n        z: 0\n      },\n      // SL\n      {\n        x: x,\n        y: 0,\n        z: 0\n      },\n      // SR\n      {\n        x: -x,\n        y: y,\n        z: -z\n      },\n      // TFL\n      {\n        x: x,\n        y: y,\n        z: -z\n      },\n      // TFR\n      {\n        x: 0,\n        y: y,\n        z: -z\n      },\n      // TFC\n      {\n        x: 0,\n        y: y,\n        z: 0\n      },\n      // TC\n      {\n        x: -x,\n        y: y,\n        z: z\n      },\n      // TBL\n      {\n        x: x,\n        y: y,\n        z: z\n      },\n      // TBR\n      {\n        x: -x,\n        y: y,\n        z: 0\n      },\n      // TSL\n      {\n        x: x,\n        y: y,\n        z: 0\n      },\n      // TSR\n      {\n        x: 0,\n        y: y,\n        z: z\n      },\n      // TBC\n      {\n        x: 0,\n        y: -y,\n        z: -z\n      } // BFC\n      ], [\n      //   \"21.1 surround\"\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      },\n      // FC\n      {\n        x: 0,\n        y: -y,\n        z: 0\n      },\n      // LFE\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      },\n      // BR\n      {\n        x: -a,\n        y: 0,\n        z: -z\n      },\n      // FLC\n      {\n        x: a,\n        y: 0,\n        z: -z\n      },\n      // FRC\n      {\n        x: 0,\n        y: 0,\n        z: z\n      },\n      // BC\n      {\n        x: -x,\n        y: 0,\n        z: 0\n      },\n      // SL\n      {\n        x: x,\n        y: 0,\n        z: 0\n      },\n      // SR\n      {\n        x: -x,\n        y: y,\n        z: -z\n      },\n      // TFL\n      {\n        x: x,\n        y: y,\n        z: -z\n      },\n      // TFR\n      {\n        x: 0,\n        y: y,\n        z: -z\n      },\n      // TFC\n      {\n        x: 0,\n        y: y,\n        z: 0\n      },\n      // TC\n      {\n        x: -x,\n        y: y,\n        z: z\n      },\n      // TBL\n      {\n        x: x,\n        y: y,\n        z: z\n      },\n      // TBR\n      {\n        x: -x,\n        y: y,\n        z: 0\n      },\n      // TSL\n      {\n        x: x,\n        y: y,\n        z: 0\n      },\n      // TSR\n      {\n        x: 0,\n        y: y,\n        z: z\n      },\n      // TBC\n      {\n        x: -x,\n        y: -y,\n        z: -z\n      },\n      // BFL\n      {\n        x: x,\n        y: -y,\n        z: -z\n      } // BFR\n      ], [\n      //   22.1 surround\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      },\n      // FC\n      {\n        x: 0,\n        y: -y,\n        z: 0\n      },\n      // LFE\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      },\n      // BR\n      {\n        x: -a,\n        y: 0,\n        z: -z\n      },\n      // FLC\n      {\n        x: a,\n        y: 0,\n        z: -z\n      },\n      // FRC\n      {\n        x: 0,\n        y: 0,\n        z: z\n      },\n      // BC\n      {\n        x: -x,\n        y: 0,\n        z: 0\n      },\n      // SL\n      {\n        x: x,\n        y: 0,\n        z: 0\n      },\n      // SR\n      {\n        x: -x,\n        y: y,\n        z: -z\n      },\n      // TFL\n      {\n        x: x,\n        y: y,\n        z: -z\n      },\n      // TFR\n      {\n        x: 0,\n        y: y,\n        z: -z\n      },\n      // TFC\n      {\n        x: 0,\n        y: y,\n        z: 0\n      },\n      // TC\n      {\n        x: -x,\n        y: y,\n        z: z\n      },\n      // TBL\n      {\n        x: x,\n        y: y,\n        z: z\n      },\n      // TBR\n      {\n        x: -x,\n        y: y,\n        z: 0\n      },\n      // TSL\n      {\n        x: x,\n        y: y,\n        z: 0\n      },\n      // TSR\n      {\n        x: 0,\n        y: y,\n        z: z\n      },\n      // TBC\n      {\n        x: 0,\n        y: -y,\n        z: -z\n      },\n      // BFC\n      {\n        x: -x,\n        y: -y,\n        z: -z\n      },\n      // BFL\n      {\n        x: x,\n        y: -y,\n        z: -z\n      } // BFR\n      ], [\n      //   22.2 surround\n      {\n        x: -x,\n        y: 0,\n        z: -z\n      },\n      // FL\n      {\n        x: x,\n        y: 0,\n        z: -z\n      },\n      // FR\n      {\n        x: 0,\n        y: 0,\n        z: -z\n      },\n      // FC\n      {\n        x: -x,\n        y: -y,\n        z: 0\n      },\n      // LFE-1\n      {\n        x: -x,\n        y: 0,\n        z: z\n      },\n      // BL\n      {\n        x: x,\n        y: 0,\n        z: z\n      },\n      // BR\n      {\n        x: -a,\n        y: 0,\n        z: -z\n      },\n      // FLC\n      {\n        x: a,\n        y: 0,\n        z: -z\n      },\n      // FRC\n      {\n        x: 0,\n        y: 0,\n        z: z\n      },\n      // BC\n      {\n        x: x,\n        y: -y,\n        z: 0\n      },\n      // LFE-2\n      {\n        x: -x,\n        y: 0,\n        z: 0\n      },\n      // SL\n      {\n        x: x,\n        y: 0,\n        z: 0\n      },\n      // SR\n      {\n        x: -x,\n        y: y,\n        z: -z\n      },\n      // TFL\n      {\n        x: x,\n        y: y,\n        z: -z\n      },\n      // TFR\n      {\n        x: 0,\n        y: y,\n        z: -z\n      },\n      // TFC\n      {\n        x: 0,\n        y: y,\n        z: 0\n      },\n      // TC\n      {\n        x: -x,\n        y: y,\n        z: z\n      },\n      // TBL\n      {\n        x: x,\n        y: y,\n        z: z\n      },\n      // TBR\n      {\n        x: -x,\n        y: y,\n        z: 0\n      },\n      // TSL\n      {\n        x: x,\n        y: y,\n        z: 0\n      },\n      // TSR\n      {\n        x: 0,\n        y: y,\n        z: z\n      },\n      // TBC\n      {\n        x: 0,\n        y: -y,\n        z: -z\n      },\n      // BFC\n      {\n        x: -x,\n        y: -y,\n        z: -z\n      },\n      // BFL\n      {\n        x: x,\n        y: -y,\n        z: -z\n      } // BFR\n      ]][n - 1];\n    }\n  }, {\n    key: \"audioContext\",\n    get: function get() {\n      return this.actx;\n    }\n  }]);\n}();\nvar DestinationGroup = /*#__PURE__*/_createClass(function DestinationGroup(speakers, surroundContext) {\n  _classCallCheck(this, DestinationGroup);\n  this.channelMerger = surroundContext.actx.createChannelMerger(surroundContext.maxChannelCount);\n  this.channelMerger.channelCount = 1;\n  this.channelMerger.channelCountMode = 'explicit';\n  this.channelMerger.channelInterpretation = 'discrete';\n  this.channelMerger.connect(surroundContext.actx.destination);\n  this.speakers = speakers;\n  this.surroundContext = surroundContext;\n});\nvar SurroundSource = /*#__PURE__*/function (_GainNode) {\n  function SurroundSource(destGroup) {\n    var _this;\n    _classCallCheck(this, SurroundSource);\n    _this = _callSuper(this, SurroundSource, [destGroup.surroundContext.actx]);\n    var g, s;\n    _this.ctx = destGroup.surroundContext.actx;\n    _this.longestSide = destGroup.surroundContext.longestSide;\n    _this.destGroup = destGroup;\n    _this.gains = [];\n    _this.x = 0;\n    _this.y = 0;\n    _this.z = 0;\n    destGroup.speakers.forEach(function (s, index) {\n      g = _this.ctx.createGain();\n      g.connect(_this.destGroup.channelMerger, 0, index);\n      _this.connect(g);\n      g.x = s.x;\n      g.y = s.y;\n      g.z = s.z;\n      _this.gains.push(g);\n    });\n    _this.adjustGains();\n    return _this;\n  }\n  _inherits(SurroundSource, _GainNode);\n  return _createClass(SurroundSource, [{\n    key: \"input\",\n    get: function get() {\n      return this;\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(x, y, z) {\n      this.x = x;\n      this.y = y;\n      this.z = z;\n      this.adjustGains();\n    }\n  }, {\n    key: \"adjustGains\",\n    value: function adjustGains() {\n      var _this2 = this;\n      var d;\n      this.gains.forEach(function (gain, i) {\n        d = Math.sqrt(Math.pow(gain.x - _this2.x, 2) + Math.pow(gain.y - _this2.y, 2) + Math.pow(gain.z - _this2.z, 2));\n        gain.gain.setValueAtTime(Math.max(1 - d / _this2.longestSide, 0), _this2.ctx.currentTime);\n      });\n    }\n  }]);\n}(/*#__PURE__*/_wrapNativeSuper(GainNode)); // ladies and gentlemen, resonance-audio.min.js:\n!function (A, t) {\n  if (\"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) && \"object\" == ( false ? 0 : _typeof(module))) module.exports = t();else if (\"function\" == typeof define && __webpack_require__.amdO) define([], t);else {\n    var e = t();\n    for (var i in e) (\"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) ? exports : A)[i] = e[i];\n  }\n}(undefined, function () {\n  return function (A) {\n    function t(i) {\n      if (e[i]) return e[i].exports;\n      var n = e[i] = {\n        i: i,\n        l: !1,\n        exports: {}\n      };\n      return A[i].call(n.exports, n, n.exports, t), n.l = !0, n.exports;\n    }\n    var e = {};\n    return t.m = A, t.c = e, t.d = function (A, e, i) {\n      t.o(A, e) || Object.defineProperty(A, e, {\n        configurable: !1,\n        enumerable: !0,\n        get: i\n      });\n    }, t.n = function (A) {\n      var e = A && A.__esModule ? function () {\n        return A[\"default\"];\n      } : function () {\n        return A;\n      };\n      return t.d(e, \"a\", e), e;\n    }, t.o = function (A, t) {\n      return Object.prototype.hasOwnProperty.call(A, t);\n    }, t.p = \"\", t(t.s = 10);\n  }([function (A, t, e) {\n    \"use strict\";\n\n    /**\n    * @license\n    * Copyright 2017 Google Inc. All Rights Reserved.\n    * Licensed under the Apache License, Version 2.0 (the \"License\");\n    * you may not use this file except in compliance with the License.\n    * You may obtain a copy of the License at\n    *\n    *     http://www.apache.org/licenses/LICENSE-2.0\n    *\n    * Unless required by applicable law or agreed to in writing, software\n    * distributed under the License is distributed on an \"AS IS\" BASIS,\n    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    * See the License for the specific language governing permissions and\n    * limitations under the License.\n    */\n    function i() {}\n    i.DEFAULT_SOURCE_GAIN = 1, i.LISTENER_MAX_OUTSIDE_ROOM_DISTANCE = 1, i.SOURCE_MAX_OUTSIDE_ROOM_DISTANCE = 1, i.DEFAULT_SOURCE_DISTANCE = 1, i.DEFAULT_POSITION = [0, 0, 0], i.DEFAULT_FORWARD = [0, 0, -1], i.DEFAULT_UP = [0, 1, 0], i.DEFAULT_RIGHT = [1, 0, 0], i.DEFAULT_SPEED_OF_SOUND = 343, i.ATTENUATION_ROLLOFFS = [\"logarithmic\", \"linear\", \"none\"], i.DEFAULT_ATTENUATION_ROLLOFF = \"logarithmic\", i.DEFAULT_MIN_DISTANCE = 1, i.DEFAULT_MAX_DISTANCE = 1e3, i.DEFAULT_DIRECTIVITY_ALPHA = 0, i.DEFAULT_DIRECTIVITY_SHARPNESS = 1, i.DEFAULT_AZIMUTH = 0, i.DEFAULT_ELEVATION = 0, i.DEFAULT_AMBISONIC_ORDER = 1, i.DEFAULT_SOURCE_WIDTH = 0, i.DEFAULT_REFLECTION_MAX_DURATION = .5, i.DEFAULT_REFLECTION_CUTOFF_FREQUENCY = 6400, i.DEFAULT_REFLECTION_COEFFICIENTS = {\n      left: 0,\n      right: 0,\n      front: 0,\n      back: 0,\n      down: 0,\n      up: 0\n    }, i.DEFAULT_REFLECTION_MIN_DISTANCE = 1, i.DEFAULT_ROOM_DIMENSIONS = {\n      width: 0,\n      height: 0,\n      depth: 0\n    }, i.DEFAULT_REFLECTION_MULTIPLIER = 1, i.DEFAULT_REVERB_BANDWIDTH = 1, i.DEFAULT_REVERB_DURATION_MULTIPLIER = 1, i.DEFAULT_REVERB_PREDELAY = 1.5, i.DEFAULT_REVERB_TAIL_ONSET = 3.8, i.DEFAULT_REVERB_GAIN = .01, i.DEFAULT_REVERB_MAX_DURATION = 3, i.NUMBER_REVERB_FREQUENCY_BANDS = (i.DEFAULT_REVERB_FREQUENCY_BANDS = [31.25, 62.5, 125, 250, 500, 1e3, 2e3, 4e3, 8e3]).length, i.DEFAULT_REVERB_DURATIONS = new Float32Array(i.NUMBER_REVERB_FREQUENCY_BANDS), i.ROOM_MATERIAL_COEFFICIENTS = {\n      transparent: [1, 1, 1, 1, 1, 1, 1, 1, 1],\n      \"acoustic-ceiling-tiles\": [.672, .675, .7, .66, .72, .92, .88, .75, 1],\n      \"brick-bare\": [.03, .03, .03, .03, .03, .04, .05, .07, .14],\n      \"brick-painted\": [.006, .007, .01, .01, .02, .02, .02, .03, .06],\n      \"concrete-block-coarse\": [.36, .36, .36, .44, .31, .29, .39, .25, .5],\n      \"concrete-block-painted\": [.092, .09, .1, .05, .06, .07, .09, .08, .16],\n      \"curtain-heavy\": [.073, .106, .14, .35, .55, .72, .7, .65, 1],\n      \"fiber-glass-insulation\": [.193, .22, .22, .82, .99, .99, .99, .99, 1],\n      \"glass-thin\": [.18, .169, .18, .06, .04, .03, .02, .02, .04],\n      \"glass-thick\": [.35, .35, .35, .25, .18, .12, .07, .04, .08],\n      grass: [.05, .05, .15, .25, .4, .55, .6, .6, .6],\n      \"linoleum-on-concrete\": [.02, .02, .02, .03, .03, .03, .03, .02, .04],\n      marble: [.01, .01, .01, .01, .01, .01, .02, .02, .04],\n      metal: [.03, .035, .04, .04, .05, .05, .05, .07, .09],\n      \"parquet-on-concrete\": [.028, .03, .04, .04, .07, .06, .06, .07, .14],\n      \"plaster-rough\": [.017, .018, .02, .03, .04, .05, .04, .03, .06],\n      \"plaster-smooth\": [.011, .012, .013, .015, .02, .03, .04, .05, .1],\n      \"plywood-panel\": [.4, .34, .28, .22, .17, .09, .1, .11, .22],\n      \"polished-concrete-or-tile\": [.008, .008, .01, .01, .015, .02, .02, .02, .04],\n      \"sheet-rock\": [.29, .279, .29, .1, .05, .04, .07, .09, .18],\n      \"water-or-ice-surface\": [.006, .006, .008, .008, .013, .015, .02, .025, .05],\n      \"wood-ceiling\": [.15, .147, .15, .11, .1, .07, .06, .07, .14],\n      \"wood-panel\": [.28, .28, .28, .22, .17, .09, .1, .11, .22],\n      uniform: [.5, .5, .5, .5, .5, .5, .5, .5, .5]\n    }, i.DEFAULT_ROOM_MATERIALS = {\n      left: \"transparent\",\n      right: \"transparent\",\n      front: \"transparent\",\n      back: \"transparent\",\n      down: \"transparent\",\n      up: \"transparent\"\n    }, i.NUMBER_REFLECTION_AVERAGING_BANDS = 3, i.ROOM_STARTING_AVERAGING_BAND = 4, i.ROOM_MIN_VOLUME = 1e-4, i.ROOM_AIR_ABSORPTION_COEFFICIENTS = [6e-4, 6e-4, 7e-4, 8e-4, .001, .0015, .0026, .006, .0207], i.ROOM_EYRING_CORRECTION_COEFFICIENT = 1.38, i.TWO_PI = 6.28318530717959, i.TWENTY_FOUR_LOG10 = 55.2620422318571, i.LOG1000 = 6.90775527898214, i.LOG2_DIV2 = .346573590279973, i.DEGREES_TO_RADIANS = .017453292519943, i.RADIANS_TO_DEGREES = 57.29577951308232, i.EPSILON_FLOAT = 1e-8, i.log = function () {\n      window.console.log.apply(window.console, [\"%c[ResonanceAudio]%c \" + Array.prototype.slice.call(arguments).join(\" \") + \" %c(@\" + performance.now().toFixed(2) + \"ms)\", \"background: #BBDEFB; color: #FF5722; font-weight: 700\", \"font-weight: 400\", \"color: #AAA\"]);\n    }, i.normalizeVector = function (A) {\n      var e = Math.sqrt(A[0] * A[0] + A[1] * A[1] + A[2] * A[2]);\n      return e > t.EPSILON_FLOAT && (e = 1 / e, A[0] *= e, A[1] *= e, A[2] *= e), A;\n    }, i.crossProduct = function (A, t) {\n      return [A[1] * t[2] - A[2] * t[1], A[2] * t[0] - A[0] * t[2], A[0] * t[1] - A[1] * t[0]];\n    }, A.exports = i;\n  }, function (A, t, e) {\n    \"use strict\";\n\n    function i(A, t) {\n      void 0 == t && (t = {}), void 0 == t.ambisonicOrder && (t.ambisonicOrder = s.DEFAULT_AMBISONIC_ORDER), void 0 == t.azimuth && (t.azimuth = s.DEFAULT_AZIMUTH), void 0 == t.elevation && (t.elevation = s.DEFAULT_ELEVATION), void 0 == t.sourceWidth && (t.sourceWidth = s.DEFAULT_SOURCE_WIDTH), this._context = A, this.input = A.createGain(), this._channelGain = [], this._merger = void 0, this.output = A.createGain(), this.setAmbisonicOrder(t.ambisonicOrder), this._azimuth = t.azimuth, this._elevation = t.elevation, this.setSourceWidth(t.sourceWidth);\n    } /**\n      * @license\n      * Copyright 2017 Google Inc. All Rights Reserved.\n      * Licensed under the Apache License, Version 2.0 (the \"License\");\n      * you may not use this file except in compliance with the License.\n      * You may obtain a copy of the License at\n      *\n      *     http://www.apache.org/licenses/LICENSE-2.0\n      *\n      * Unless required by applicable law or agreed to in writing, software\n      * distributed under the License is distributed on an \"AS IS\" BASIS,\n      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n      * See the License for the specific language governing permissions and\n      * limitations under the License.\n      */\n    var n = e(3),\n      s = e(0);\n    i.prototype.setAmbisonicOrder = function (A) {\n      this._ambisonicOrder = i.validateAmbisonicOrder(A), this.input.disconnect();\n      for (var _e = 0; _e < this._channelGain.length; _e++) this._channelGain[_e].disconnect();\n      void 0 != this._merger && this._merger.disconnect(), delete this._channelGain, delete this._merger;\n      var t = (this._ambisonicOrder + 1) * (this._ambisonicOrder + 1);\n      this._merger = this._context.createChannelMerger(t), this._channelGain = new Array(t);\n      for (var _e2 = 0; _e2 < t; _e2++) this._channelGain[_e2] = this._context.createGain(), this.input.connect(this._channelGain[_e2]), this._channelGain[_e2].connect(this._merger, 0, _e2);\n      this._merger.connect(this.output);\n    }, i.prototype.setDirection = function (A, t) {\n      (void 0 == A || isNaN(A)) && (A = s.DEFAULT_AZIMUTH), (void 0 == t || isNaN(t)) && (t = s.DEFAULT_ELEVATION), this._azimuth = A, this._elevation = t, (A = Math.round(A % 360)) < 0 && (A += 360), t = Math.round(Math.min(90, Math.max(-90, t))) + 90, this._channelGain[0].gain.value = n.MAX_RE_WEIGHTS[this._spreadIndex][0];\n      for (var _e3 = 1; _e3 <= this._ambisonicOrder; _e3++) {\n        var _i = n.MAX_RE_WEIGHTS[this._spreadIndex][_e3];\n        for (var _s = -_e3; _s <= _e3; _s++) {\n          var o = _e3 * _e3 + _e3 + _s,\n            r = _e3 * (_e3 + 1) / 2 + Math.abs(_s) - 1,\n            a = n.SPHERICAL_HARMONICS[1][t][r];\n          if (0 != _s) {\n            var _t = n.SPHERICAL_HARMONICS_MAX_ORDER + _s - 1;\n            _s < 0 && (_t = n.SPHERICAL_HARMONICS_MAX_ORDER + _s), a *= n.SPHERICAL_HARMONICS[0][A][_t];\n          }\n          this._channelGain[o].gain.value = a * _i;\n        }\n      }\n    }, i.prototype.setSourceWidth = function (A) {\n      this._spreadIndex = Math.min(359, Math.max(0, Math.round(A))), this.setDirection(this._azimuth, this._elevation);\n    }, i.validateAmbisonicOrder = function (A) {\n      return isNaN(A) || void 0 == A ? (s.log(\"Error: Invalid ambisonic order\", options.ambisonicOrder, \"\\nUsing ambisonicOrder=1 instead.\"), A = 1) : A < 1 ? (s.log(\"Error: Unable to render ambisonic order\", options.ambisonicOrder, \"(Min order is 1)\", \"\\nUsing min order instead.\"), A = 1) : A > n.SPHERICAL_HARMONICS_MAX_ORDER && (s.log(\"Error: Unable to render ambisonic order\", options.ambisonicOrder, \"(Max order is\", n.SPHERICAL_HARMONICS_MAX_ORDER, \")\\nUsing max order instead.\"), options.ambisonicOrder = n.SPHERICAL_HARMONICS_MAX_ORDER), A;\n    }, A.exports = i;\n  }, function (A, t, e) {\n    \"use strict\";\n\n    function i(A, t) {\n      void 0 == t && (t = {}), void 0 == t.ambisonicOrder && (t.ambisonicOrder = o.DEFAULT_AMBISONIC_ORDER), void 0 == t.position && (t.position = o.DEFAULT_POSITION.slice()), void 0 == t.forward && (t.forward = o.DEFAULT_FORWARD.slice()), void 0 == t.up && (t.up = o.DEFAULT_UP.slice()), this.position = new Float32Array(3), this._tempMatrix3 = new Float32Array(9), this._ambisonicOrder = s.validateAmbisonicOrder(t.ambisonicOrder), this._context = A, 1 == this._ambisonicOrder ? this._renderer = n.Omnitone.createFOARenderer(A, {}) : this._ambisonicOrder > 1 && (this._renderer = n.Omnitone.createHOARenderer(A, {\n        ambisonicOrder: this._ambisonicOrder\n      })), this.input = A.createGain(), this.output = A.createGain(), this.ambisonicOutput = A.createGain();\n      var e = this;\n      this._renderer.initialize().then(function () {\n        e.input.connect(e._renderer.input), e._ambisonicOrder > 1 ? e._renderer._hoaRotator.output.connect(e.ambisonicOutput) : e._renderer._foaRotator.output.connect(e.ambisonicOutput), e._renderer.output.connect(e.output);\n      }), this.setOrientation(t.forward[0], t.forward[1], t.forward[2], t.up[0], t.up[1], t.up[2]);\n    } /**\n      * @license\n      * Copyright 2017 Google Inc. All Rights Reserved.\n      * Licensed under the Apache License, Version 2.0 (the \"License\");\n      * you may not use this file except in compliance with the License.\n      * You may obtain a copy of the License at\n      *\n      *     http://www.apache.org/licenses/LICENSE-2.0\n      *\n      * Unless required by applicable law or agreed to in writing, software\n      * distributed under the License is distributed on an \"AS IS\" BASIS,\n      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n      * See the License for the specific language governing permissions and\n      * limitations under the License.\n      */\n    var n = e(12),\n      s = e(1),\n      o = e(0);\n    i.prototype.setOrientation = function (A, t, e, i, n, s) {\n      var r = o.crossProduct([A, t, e], [i, n, s]);\n      this._tempMatrix3[0] = r[0], this._tempMatrix3[1] = r[1], this._tempMatrix3[2] = r[2], this._tempMatrix3[3] = i, this._tempMatrix3[4] = n, this._tempMatrix3[5] = s, this._tempMatrix3[6] = A, this._tempMatrix3[7] = t, this._tempMatrix3[8] = e, this._renderer.setRotationMatrix3(this._tempMatrix3);\n    }, i.prototype.setFromMatrix = function (A) {\n      this._renderer.setRotationMatrix4(A.elements), this.position[0] = A.elements[12], this.position[1] = A.elements[13], this.position[2] = A.elements[14];\n    }, A.exports = i;\n  }, function (A, t, e) {\n    \"use strict\";\n\n    t.SPHERICAL_HARMONICS = [[[0, 0, 0, 1, 1, 1], [.052336, .034899, .017452, .999848, .999391, .99863], [.104528, .069756, .034899, .999391, .997564, .994522], [.156434, .104528, .052336, .99863, .994522, .987688], [.207912, .139173, .069756, .997564, .990268, .978148], [.258819, .173648, .087156, .996195, .984808, .965926], [.309017, .207912, .104528, .994522, .978148, .951057], [.358368, .241922, .121869, .992546, .970296, .93358], [.406737, .275637, .139173, .990268, .961262, .913545], [.45399, .309017, .156434, .987688, .951057, .891007], [.5, .34202, .173648, .984808, .939693, .866025], [.544639, .374607, .190809, .981627, .927184, .838671], [.587785, .406737, .207912, .978148, .913545, .809017], [.62932, .438371, .224951, .97437, .898794, .777146], [.669131, .469472, .241922, .970296, .882948, .743145], [.707107, .5, .258819, .965926, .866025, .707107], [.743145, .529919, .275637, .961262, .848048, .669131], [.777146, .559193, .292372, .956305, .829038, .62932], [.809017, .587785, .309017, .951057, .809017, .587785], [.838671, .615661, .325568, .945519, .788011, .544639], [.866025, .642788, .34202, .939693, .766044, .5], [.891007, .669131, .358368, .93358, .743145, .45399], [.913545, .694658, .374607, .927184, .71934, .406737], [.93358, .71934, .390731, .920505, .694658, .358368], [.951057, .743145, .406737, .913545, .669131, .309017], [.965926, .766044, .422618, .906308, .642788, .258819], [.978148, .788011, .438371, .898794, .615661, .207912], [.987688, .809017, .45399, .891007, .587785, .156434], [.994522, .829038, .469472, .882948, .559193, .104528], [.99863, .848048, .48481, .87462, .529919, .052336], [1, .866025, .5, .866025, .5, 0], [.99863, .882948, .515038, .857167, .469472, -.052336], [.994522, .898794, .529919, .848048, .438371, -.104528], [.987688, .913545, .544639, .838671, .406737, -.156434], [.978148, .927184, .559193, .829038, .374607, -.207912], [.965926, .939693, .573576, .819152, .34202, -.258819], [.951057, .951057, .587785, .809017, .309017, -.309017], [.93358, .961262, .601815, .798636, .275637, -.358368], [.913545, .970296, .615661, .788011, .241922, -.406737], [.891007, .978148, .62932, .777146, .207912, -.45399], [.866025, .984808, .642788, .766044, .173648, -.5], [.838671, .990268, .656059, .75471, .139173, -.544639], [.809017, .994522, .669131, .743145, .104528, -.587785], [.777146, .997564, .681998, .731354, .069756, -.62932], [.743145, .999391, .694658, .71934, .034899, -.669131], [.707107, 1, .707107, .707107, 0, -.707107], [.669131, .999391, .71934, .694658, -.034899, -.743145], [.62932, .997564, .731354, .681998, -.069756, -.777146], [.587785, .994522, .743145, .669131, -.104528, -.809017], [.544639, .990268, .75471, .656059, -.139173, -.838671], [.5, .984808, .766044, .642788, -.173648, -.866025], [.45399, .978148, .777146, .62932, -.207912, -.891007], [.406737, .970296, .788011, .615661, -.241922, -.913545], [.358368, .961262, .798636, .601815, -.275637, -.93358], [.309017, .951057, .809017, .587785, -.309017, -.951057], [.258819, .939693, .819152, .573576, -.34202, -.965926], [.207912, .927184, .829038, .559193, -.374607, -.978148], [.156434, .913545, .838671, .544639, -.406737, -.987688], [.104528, .898794, .848048, .529919, -.438371, -.994522], [.052336, .882948, .857167, .515038, -.469472, -.99863], [0, .866025, .866025, .5, -.5, -1], [-.052336, .848048, .87462, .48481, -.529919, -.99863], [-.104528, .829038, .882948, .469472, -.559193, -.994522], [-.156434, .809017, .891007, .45399, -.587785, -.987688], [-.207912, .788011, .898794, .438371, -.615661, -.978148], [-.258819, .766044, .906308, .422618, -.642788, -.965926], [-.309017, .743145, .913545, .406737, -.669131, -.951057], [-.358368, .71934, .920505, .390731, -.694658, -.93358], [-.406737, .694658, .927184, .374607, -.71934, -.913545], [-.45399, .669131, .93358, .358368, -.743145, -.891007], [-.5, .642788, .939693, .34202, -.766044, -.866025], [-.544639, .615661, .945519, .325568, -.788011, -.838671], [-.587785, .587785, .951057, .309017, -.809017, -.809017], [-.62932, .559193, .956305, .292372, -.829038, -.777146], [-.669131, .529919, .961262, .275637, -.848048, -.743145], [-.707107, .5, .965926, .258819, -.866025, -.707107], [-.743145, .469472, .970296, .241922, -.882948, -.669131], [-.777146, .438371, .97437, .224951, -.898794, -.62932], [-.809017, .406737, .978148, .207912, -.913545, -.587785], [-.838671, .374607, .981627, .190809, -.927184, -.544639], [-.866025, .34202, .984808, .173648, -.939693, -.5], [-.891007, .309017, .987688, .156434, -.951057, -.45399], [-.913545, .275637, .990268, .139173, -.961262, -.406737], [-.93358, .241922, .992546, .121869, -.970296, -.358368], [-.951057, .207912, .994522, .104528, -.978148, -.309017], [-.965926, .173648, .996195, .087156, -.984808, -.258819], [-.978148, .139173, .997564, .069756, -.990268, -.207912], [-.987688, .104528, .99863, .052336, -.994522, -.156434], [-.994522, .069756, .999391, .034899, -.997564, -.104528], [-.99863, .034899, .999848, .017452, -.999391, -.052336], [-1, 0, 1, 0, -1, -0], [-.99863, -.034899, .999848, -.017452, -.999391, .052336], [-.994522, -.069756, .999391, -.034899, -.997564, .104528], [-.987688, -.104528, .99863, -.052336, -.994522, .156434], [-.978148, -.139173, .997564, -.069756, -.990268, .207912], [-.965926, -.173648, .996195, -.087156, -.984808, .258819], [-.951057, -.207912, .994522, -.104528, -.978148, .309017], [-.93358, -.241922, .992546, -.121869, -.970296, .358368], [-.913545, -.275637, .990268, -.139173, -.961262, .406737], [-.891007, -.309017, .987688, -.156434, -.951057, .45399], [-.866025, -.34202, .984808, -.173648, -.939693, .5], [-.838671, -.374607, .981627, -.190809, -.927184, .544639], [-.809017, -.406737, .978148, -.207912, -.913545, .587785], [-.777146, -.438371, .97437, -.224951, -.898794, .62932], [-.743145, -.469472, .970296, -.241922, -.882948, .669131], [-.707107, -.5, .965926, -.258819, -.866025, .707107], [-.669131, -.529919, .961262, -.275637, -.848048, .743145], [-.62932, -.559193, .956305, -.292372, -.829038, .777146], [-.587785, -.587785, .951057, -.309017, -.809017, .809017], [-.544639, -.615661, .945519, -.325568, -.788011, .838671], [-.5, -.642788, .939693, -.34202, -.766044, .866025], [-.45399, -.669131, .93358, -.358368, -.743145, .891007], [-.406737, -.694658, .927184, -.374607, -.71934, .913545], [-.358368, -.71934, .920505, -.390731, -.694658, .93358], [-.309017, -.743145, .913545, -.406737, -.669131, .951057], [-.258819, -.766044, .906308, -.422618, -.642788, .965926], [-.207912, -.788011, .898794, -.438371, -.615661, .978148], [-.156434, -.809017, .891007, -.45399, -.587785, .987688], [-.104528, -.829038, .882948, -.469472, -.559193, .994522], [-.052336, -.848048, .87462, -.48481, -.529919, .99863], [-0, -.866025, .866025, -.5, -.5, 1], [.052336, -.882948, .857167, -.515038, -.469472, .99863], [.104528, -.898794, .848048, -.529919, -.438371, .994522], [.156434, -.913545, .838671, -.544639, -.406737, .987688], [.207912, -.927184, .829038, -.559193, -.374607, .978148], [.258819, -.939693, .819152, -.573576, -.34202, .965926], [.309017, -.951057, .809017, -.587785, -.309017, .951057], [.358368, -.961262, .798636, -.601815, -.275637, .93358], [.406737, -.970296, .788011, -.615661, -.241922, .913545], [.45399, -.978148, .777146, -.62932, -.207912, .891007], [.5, -.984808, .766044, -.642788, -.173648, .866025], [.544639, -.990268, .75471, -.656059, -.139173, .838671], [.587785, -.994522, .743145, -.669131, -.104528, .809017], [.62932, -.997564, .731354, -.681998, -.069756, .777146], [.669131, -.999391, .71934, -.694658, -.034899, .743145], [.707107, -1, .707107, -.707107, -0, .707107], [.743145, -.999391, .694658, -.71934, .034899, .669131], [.777146, -.997564, .681998, -.731354, .069756, .62932], [.809017, -.994522, .669131, -.743145, .104528, .587785], [.838671, -.990268, .656059, -.75471, .139173, .544639], [.866025, -.984808, .642788, -.766044, .173648, .5], [.891007, -.978148, .62932, -.777146, .207912, .45399], [.913545, -.970296, .615661, -.788011, .241922, .406737], [.93358, -.961262, .601815, -.798636, .275637, .358368], [.951057, -.951057, .587785, -.809017, .309017, .309017], [.965926, -.939693, .573576, -.819152, .34202, .258819], [.978148, -.927184, .559193, -.829038, .374607, .207912], [.987688, -.913545, .544639, -.838671, .406737, .156434], [.994522, -.898794, .529919, -.848048, .438371, .104528], [.99863, -.882948, .515038, -.857167, .469472, .052336], [1, -.866025, .5, -.866025, .5, 0], [.99863, -.848048, .48481, -.87462, .529919, -.052336], [.994522, -.829038, .469472, -.882948, .559193, -.104528], [.987688, -.809017, .45399, -.891007, .587785, -.156434], [.978148, -.788011, .438371, -.898794, .615661, -.207912], [.965926, -.766044, .422618, -.906308, .642788, -.258819], [.951057, -.743145, .406737, -.913545, .669131, -.309017], [.93358, -.71934, .390731, -.920505, .694658, -.358368], [.913545, -.694658, .374607, -.927184, .71934, -.406737], [.891007, -.669131, .358368, -.93358, .743145, -.45399], [.866025, -.642788, .34202, -.939693, .766044, -.5], [.838671, -.615661, .325568, -.945519, .788011, -.544639], [.809017, -.587785, .309017, -.951057, .809017, -.587785], [.777146, -.559193, .292372, -.956305, .829038, -.62932], [.743145, -.529919, .275637, -.961262, .848048, -.669131], [.707107, -.5, .258819, -.965926, .866025, -.707107], [.669131, -.469472, .241922, -.970296, .882948, -.743145], [.62932, -.438371, .224951, -.97437, .898794, -.777146], [.587785, -.406737, .207912, -.978148, .913545, -.809017], [.544639, -.374607, .190809, -.981627, .927184, -.838671], [.5, -.34202, .173648, -.984808, .939693, -.866025], [.45399, -.309017, .156434, -.987688, .951057, -.891007], [.406737, -.275637, .139173, -.990268, .961262, -.913545], [.358368, -.241922, .121869, -.992546, .970296, -.93358], [.309017, -.207912, .104528, -.994522, .978148, -.951057], [.258819, -.173648, .087156, -.996195, .984808, -.965926], [.207912, -.139173, .069756, -.997564, .990268, -.978148], [.156434, -.104528, .052336, -.99863, .994522, -.987688], [.104528, -.069756, .034899, -.999391, .997564, -.994522], [.052336, -.034899, .017452, -.999848, .999391, -.99863], [0, -0, 0, -1, 1, -1], [-.052336, .034899, -.017452, -.999848, .999391, -.99863], [-.104528, .069756, -.034899, -.999391, .997564, -.994522], [-.156434, .104528, -.052336, -.99863, .994522, -.987688], [-.207912, .139173, -.069756, -.997564, .990268, -.978148], [-.258819, .173648, -.087156, -.996195, .984808, -.965926], [-.309017, .207912, -.104528, -.994522, .978148, -.951057], [-.358368, .241922, -.121869, -.992546, .970296, -.93358], [-.406737, .275637, -.139173, -.990268, .961262, -.913545], [-.45399, .309017, -.156434, -.987688, .951057, -.891007], [-.5, .34202, -.173648, -.984808, .939693, -.866025], [-.544639, .374607, -.190809, -.981627, .927184, -.838671], [-.587785, .406737, -.207912, -.978148, .913545, -.809017], [-.62932, .438371, -.224951, -.97437, .898794, -.777146], [-.669131, .469472, -.241922, -.970296, .882948, -.743145], [-.707107, .5, -.258819, -.965926, .866025, -.707107], [-.743145, .529919, -.275637, -.961262, .848048, -.669131], [-.777146, .559193, -.292372, -.956305, .829038, -.62932], [-.809017, .587785, -.309017, -.951057, .809017, -.587785], [-.838671, .615661, -.325568, -.945519, .788011, -.544639], [-.866025, .642788, -.34202, -.939693, .766044, -.5], [-.891007, .669131, -.358368, -.93358, .743145, -.45399], [-.913545, .694658, -.374607, -.927184, .71934, -.406737], [-.93358, .71934, -.390731, -.920505, .694658, -.358368], [-.951057, .743145, -.406737, -.913545, .669131, -.309017], [-.965926, .766044, -.422618, -.906308, .642788, -.258819], [-.978148, .788011, -.438371, -.898794, .615661, -.207912], [-.987688, .809017, -.45399, -.891007, .587785, -.156434], [-.994522, .829038, -.469472, -.882948, .559193, -.104528], [-.99863, .848048, -.48481, -.87462, .529919, -.052336], [-1, .866025, -.5, -.866025, .5, 0], [-.99863, .882948, -.515038, -.857167, .469472, .052336], [-.994522, .898794, -.529919, -.848048, .438371, .104528], [-.987688, .913545, -.544639, -.838671, .406737, .156434], [-.978148, .927184, -.559193, -.829038, .374607, .207912], [-.965926, .939693, -.573576, -.819152, .34202, .258819], [-.951057, .951057, -.587785, -.809017, .309017, .309017], [-.93358, .961262, -.601815, -.798636, .275637, .358368], [-.913545, .970296, -.615661, -.788011, .241922, .406737], [-.891007, .978148, -.62932, -.777146, .207912, .45399], [-.866025, .984808, -.642788, -.766044, .173648, .5], [-.838671, .990268, -.656059, -.75471, .139173, .544639], [-.809017, .994522, -.669131, -.743145, .104528, .587785], [-.777146, .997564, -.681998, -.731354, .069756, .62932], [-.743145, .999391, -.694658, -.71934, .034899, .669131], [-.707107, 1, -.707107, -.707107, 0, .707107], [-.669131, .999391, -.71934, -.694658, -.034899, .743145], [-.62932, .997564, -.731354, -.681998, -.069756, .777146], [-.587785, .994522, -.743145, -.669131, -.104528, .809017], [-.544639, .990268, -.75471, -.656059, -.139173, .838671], [-.5, .984808, -.766044, -.642788, -.173648, .866025], [-.45399, .978148, -.777146, -.62932, -.207912, .891007], [-.406737, .970296, -.788011, -.615661, -.241922, .913545], [-.358368, .961262, -.798636, -.601815, -.275637, .93358], [-.309017, .951057, -.809017, -.587785, -.309017, .951057], [-.258819, .939693, -.819152, -.573576, -.34202, .965926], [-.207912, .927184, -.829038, -.559193, -.374607, .978148], [-.156434, .913545, -.838671, -.544639, -.406737, .987688], [-.104528, .898794, -.848048, -.529919, -.438371, .994522], [-.052336, .882948, -.857167, -.515038, -.469472, .99863], [-0, .866025, -.866025, -.5, -.5, 1], [.052336, .848048, -.87462, -.48481, -.529919, .99863], [.104528, .829038, -.882948, -.469472, -.559193, .994522], [.156434, .809017, -.891007, -.45399, -.587785, .987688], [.207912, .788011, -.898794, -.438371, -.615661, .978148], [.258819, .766044, -.906308, -.422618, -.642788, .965926], [.309017, .743145, -.913545, -.406737, -.669131, .951057], [.358368, .71934, -.920505, -.390731, -.694658, .93358], [.406737, .694658, -.927184, -.374607, -.71934, .913545], [.45399, .669131, -.93358, -.358368, -.743145, .891007], [.5, .642788, -.939693, -.34202, -.766044, .866025], [.544639, .615661, -.945519, -.325568, -.788011, .838671], [.587785, .587785, -.951057, -.309017, -.809017, .809017], [.62932, .559193, -.956305, -.292372, -.829038, .777146], [.669131, .529919, -.961262, -.275637, -.848048, .743145], [.707107, .5, -.965926, -.258819, -.866025, .707107], [.743145, .469472, -.970296, -.241922, -.882948, .669131], [.777146, .438371, -.97437, -.224951, -.898794, .62932], [.809017, .406737, -.978148, -.207912, -.913545, .587785], [.838671, .374607, -.981627, -.190809, -.927184, .544639], [.866025, .34202, -.984808, -.173648, -.939693, .5], [.891007, .309017, -.987688, -.156434, -.951057, .45399], [.913545, .275637, -.990268, -.139173, -.961262, .406737], [.93358, .241922, -.992546, -.121869, -.970296, .358368], [.951057, .207912, -.994522, -.104528, -.978148, .309017], [.965926, .173648, -.996195, -.087156, -.984808, .258819], [.978148, .139173, -.997564, -.069756, -.990268, .207912], [.987688, .104528, -.99863, -.052336, -.994522, .156434], [.994522, .069756, -.999391, -.034899, -.997564, .104528], [.99863, .034899, -.999848, -.017452, -.999391, .052336], [1, 0, -1, -0, -1, 0], [.99863, -.034899, -.999848, .017452, -.999391, -.052336], [.994522, -.069756, -.999391, .034899, -.997564, -.104528], [.987688, -.104528, -.99863, .052336, -.994522, -.156434], [.978148, -.139173, -.997564, .069756, -.990268, -.207912], [.965926, -.173648, -.996195, .087156, -.984808, -.258819], [.951057, -.207912, -.994522, .104528, -.978148, -.309017], [.93358, -.241922, -.992546, .121869, -.970296, -.358368], [.913545, -.275637, -.990268, .139173, -.961262, -.406737], [.891007, -.309017, -.987688, .156434, -.951057, -.45399], [.866025, -.34202, -.984808, .173648, -.939693, -.5], [.838671, -.374607, -.981627, .190809, -.927184, -.544639], [.809017, -.406737, -.978148, .207912, -.913545, -.587785], [.777146, -.438371, -.97437, .224951, -.898794, -.62932], [.743145, -.469472, -.970296, .241922, -.882948, -.669131], [.707107, -.5, -.965926, .258819, -.866025, -.707107], [.669131, -.529919, -.961262, .275637, -.848048, -.743145], [.62932, -.559193, -.956305, .292372, -.829038, -.777146], [.587785, -.587785, -.951057, .309017, -.809017, -.809017], [.544639, -.615661, -.945519, .325568, -.788011, -.838671], [.5, -.642788, -.939693, .34202, -.766044, -.866025], [.45399, -.669131, -.93358, .358368, -.743145, -.891007], [.406737, -.694658, -.927184, .374607, -.71934, -.913545], [.358368, -.71934, -.920505, .390731, -.694658, -.93358], [.309017, -.743145, -.913545, .406737, -.669131, -.951057], [.258819, -.766044, -.906308, .422618, -.642788, -.965926], [.207912, -.788011, -.898794, .438371, -.615661, -.978148], [.156434, -.809017, -.891007, .45399, -.587785, -.987688], [.104528, -.829038, -.882948, .469472, -.559193, -.994522], [.052336, -.848048, -.87462, .48481, -.529919, -.99863], [0, -.866025, -.866025, .5, -.5, -1], [-.052336, -.882948, -.857167, .515038, -.469472, -.99863], [-.104528, -.898794, -.848048, .529919, -.438371, -.994522], [-.156434, -.913545, -.838671, .544639, -.406737, -.987688], [-.207912, -.927184, -.829038, .559193, -.374607, -.978148], [-.258819, -.939693, -.819152, .573576, -.34202, -.965926], [-.309017, -.951057, -.809017, .587785, -.309017, -.951057], [-.358368, -.961262, -.798636, .601815, -.275637, -.93358], [-.406737, -.970296, -.788011, .615661, -.241922, -.913545], [-.45399, -.978148, -.777146, .62932, -.207912, -.891007], [-.5, -.984808, -.766044, .642788, -.173648, -.866025], [-.544639, -.990268, -.75471, .656059, -.139173, -.838671], [-.587785, -.994522, -.743145, .669131, -.104528, -.809017], [-.62932, -.997564, -.731354, .681998, -.069756, -.777146], [-.669131, -.999391, -.71934, .694658, -.034899, -.743145], [-.707107, -1, -.707107, .707107, -0, -.707107], [-.743145, -.999391, -.694658, .71934, .034899, -.669131], [-.777146, -.997564, -.681998, .731354, .069756, -.62932], [-.809017, -.994522, -.669131, .743145, .104528, -.587785], [-.838671, -.990268, -.656059, .75471, .139173, -.544639], [-.866025, -.984808, -.642788, .766044, .173648, -.5], [-.891007, -.978148, -.62932, .777146, .207912, -.45399], [-.913545, -.970296, -.615661, .788011, .241922, -.406737], [-.93358, -.961262, -.601815, .798636, .275637, -.358368], [-.951057, -.951057, -.587785, .809017, .309017, -.309017], [-.965926, -.939693, -.573576, .819152, .34202, -.258819], [-.978148, -.927184, -.559193, .829038, .374607, -.207912], [-.987688, -.913545, -.544639, .838671, .406737, -.156434], [-.994522, -.898794, -.529919, .848048, .438371, -.104528], [-.99863, -.882948, -.515038, .857167, .469472, -.052336], [-1, -.866025, -.5, .866025, .5, -0], [-.99863, -.848048, -.48481, .87462, .529919, .052336], [-.994522, -.829038, -.469472, .882948, .559193, .104528], [-.987688, -.809017, -.45399, .891007, .587785, .156434], [-.978148, -.788011, -.438371, .898794, .615661, .207912], [-.965926, -.766044, -.422618, .906308, .642788, .258819], [-.951057, -.743145, -.406737, .913545, .669131, .309017], [-.93358, -.71934, -.390731, .920505, .694658, .358368], [-.913545, -.694658, -.374607, .927184, .71934, .406737], [-.891007, -.669131, -.358368, .93358, .743145, .45399], [-.866025, -.642788, -.34202, .939693, .766044, .5], [-.838671, -.615661, -.325568, .945519, .788011, .544639], [-.809017, -.587785, -.309017, .951057, .809017, .587785], [-.777146, -.559193, -.292372, .956305, .829038, .62932], [-.743145, -.529919, -.275637, .961262, .848048, .669131], [-.707107, -.5, -.258819, .965926, .866025, .707107], [-.669131, -.469472, -.241922, .970296, .882948, .743145], [-.62932, -.438371, -.224951, .97437, .898794, .777146], [-.587785, -.406737, -.207912, .978148, .913545, .809017], [-.544639, -.374607, -.190809, .981627, .927184, .838671], [-.5, -.34202, -.173648, .984808, .939693, .866025], [-.45399, -.309017, -.156434, .987688, .951057, .891007], [-.406737, -.275637, -.139173, .990268, .961262, .913545], [-.358368, -.241922, -.121869, .992546, .970296, .93358], [-.309017, -.207912, -.104528, .994522, .978148, .951057], [-.258819, -.173648, -.087156, .996195, .984808, .965926], [-.207912, -.139173, -.069756, .997564, .990268, .978148], [-.156434, -.104528, -.052336, .99863, .994522, .987688], [-.104528, -.069756, -.034899, .999391, .997564, .994522], [-.052336, -.034899, -.017452, .999848, .999391, .99863]], [[-1, -0, 1, -0, 0, -1, -0, 0, -0], [-.999848, .017452, .999543, -.030224, 264e-6, -.999086, .042733, -59e-5, 4e-6], [-.999391, .034899, .998173, -.060411, .001055, -.996348, .085356, -.002357, 34e-6], [-.99863, .052336, .995891, -.090524, .002372, -.991791, .127757, -.005297, 113e-6], [-.997564, .069756, .992701, -.120527, .004214, -.985429, .169828, -.0094, 268e-6], [-.996195, .087156, .988606, -.150384, .006578, -.977277, .21146, -.014654, 523e-6], [-.994522, .104528, .983611, -.180057, .009462, -.967356, .252544, -.021043, 903e-6], [-.992546, .121869, .977722, -.209511, .012862, -.955693, .292976, -.028547, .001431], [-.990268, .139173, .970946, -.238709, .016774, -.942316, .332649, -.037143, .002131], [-.987688, .156434, .963292, -.267617, .021193, -.927262, .371463, -.046806, .003026], [-.984808, .173648, .954769, -.296198, .026114, -.910569, .409317, -.057505, .00414], [-.981627, .190809, .945388, -.324419, .03153, -.892279, .446114, -.069209, .005492], [-.978148, .207912, .935159, -.352244, .037436, -.872441, .481759, -.08188, .007105], [-.97437, .224951, .924096, -.379641, .043823, -.851105, .516162, -.095481, .008999], [-.970296, .241922, .912211, -.406574, .050685, -.828326, .549233, -.109969, .011193], [-.965926, .258819, .899519, -.433013, .058013, -.804164, .580889, -.1253, .013707], [-.961262, .275637, .886036, -.458924, .065797, -.77868, .61105, -.141427, .016556], [-.956305, .292372, .871778, -.484275, .074029, -.75194, .639639, -.158301, .019758], [-.951057, .309017, .856763, -.509037, .082698, -.724012, .666583, -.175868, .023329], [-.945519, .325568, .841008, -.533178, .091794, -.694969, .691816, -.194075, .027281], [-.939693, .34202, .824533, -.55667, .101306, -.664885, .715274, -.212865, .03163], [-.93358, .358368, .807359, -.579484, .111222, -.633837, .736898, -.23218, .036385], [-.927184, .374607, .789505, -.601592, .121529, -.601904, .756637, -.25196, .041559], [-.920505, .390731, .770994, -.622967, .132217, -.569169, .774442, -.272143, .04716], [-.913545, .406737, .751848, -.643582, .143271, -.535715, .79027, -.292666, .053196], [-.906308, .422618, .732091, -.663414, .154678, -.501627, .804083, -.313464, .059674], [-.898794, .438371, .711746, -.682437, .166423, -.466993, .81585, -.334472, .066599], [-.891007, .45399, .690839, -.700629, .178494, -.431899, .825544, -.355623, .073974], [-.882948, .469472, .669395, -.717968, .190875, -.396436, .833145, -.376851, .081803], [-.87462, .48481, .647439, -.734431, .203551, -.360692, .838638, -.398086, .090085], [-.866025, .5, .625, -.75, .216506, -.32476, .842012, -.419263, .098821], [-.857167, .515038, .602104, -.764655, .229726, -.288728, .843265, -.440311, .108009], [-.848048, .529919, .578778, -.778378, .243192, -.252688, .842399, -.461164, .117644], [-.838671, .544639, .555052, -.791154, .256891, -.21673, .839422, -.481753, .127722], [-.829038, .559193, .530955, -.802965, .270803, -.180944, .834347, -.502011, .138237], [-.819152, .573576, .506515, -.813798, .284914, -.14542, .827194, -.521871, .149181], [-.809017, .587785, .481763, -.823639, .299204, -.110246, .817987, -.541266, .160545], [-.798636, .601815, .456728, -.832477, .313658, -.075508, .806757, -.560132, .172317], [-.788011, .615661, .431441, -.840301, .328257, -.041294, .793541, -.578405, .184487], [-.777146, .62932, .405934, -.847101, .342984, -.007686, .778379, -.596021, .19704], [-.766044, .642788, .380236, -.852869, .357821, .025233, .761319, -.612921, .209963], [-.75471, .656059, .35438, -.857597, .372749, .057383, .742412, -.629044, .223238], [-.743145, .669131, .328396, -.861281, .387751, .088686, .721714, -.644334, .23685], [-.731354, .681998, .302317, -.863916, .402807, .119068, .699288, -.658734, .250778], [-.71934, .694658, .276175, -.865498, .417901, .148454, .675199, -.67219, .265005], [-.707107, .707107, .25, -.866025, .433013, .176777, .649519, -.684653, .279508], [-.694658, .71934, .223825, -.865498, .448125, .203969, .622322, -.696073, .294267], [-.681998, .731354, .197683, -.863916, .463218, .229967, .593688, -.706405, .309259], [-.669131, .743145, .171604, -.861281, .478275, .254712, .5637, -.715605, .324459], [-.656059, .75471, .14562, -.857597, .493276, .278147, .532443, -.723633, .339844], [-.642788, .766044, .119764, -.852869, .508205, .300221, .500009, -.730451, .355387], [-.62932, .777146, .094066, -.847101, .523041, .320884, .46649, -.736025, .371063], [-.615661, .788011, .068559, -.840301, .537768, .340093, .431982, -.740324, .386845], [-.601815, .798636, .043272, -.832477, .552367, .357807, .396584, -.74332, .402704], [-.587785, .809017, .018237, -.823639, .566821, .373991, .360397, -.744989, .418613], [-.573576, .819152, -.006515, -.813798, .581112, .388612, .323524, -.745308, .434544], [-.559193, .829038, -.030955, -.802965, .595222, .401645, .286069, -.744262, .450467], [-.544639, .838671, -.055052, -.791154, .609135, .413066, .24814, -.741835, .466352], [-.529919, .848048, -.078778, -.778378, .622833, .422856, .209843, -.738017, .482171], [-.515038, .857167, -.102104, -.764655, .6363, .431004, .171288, -.732801, .497894], [-.5, .866025, -.125, -.75, .649519, .4375, .132583, -.726184, .51349], [-.48481, .87462, -.147439, -.734431, .662474, .44234, .093837, -.718167, .528929], [-.469472, .882948, -.169395, -.717968, .67515, .445524, .05516, -.708753, .544183], [-.45399, .891007, -.190839, -.700629, .687531, .447059, .016662, -.69795, .55922], [-.438371, .898794, -.211746, -.682437, .699602, .446953, -.02155, -.685769, .574011], [-.422618, .906308, -.232091, -.663414, .711348, .445222, -.059368, -.672226, .588528], [-.406737, .913545, -.251848, -.643582, .722755, .441884, -.096684, -.657339, .602741], [-.390731, .920505, -.270994, -.622967, .733809, .436964, -.133395, -.64113, .616621], [-.374607, .927184, -.289505, -.601592, .744496, .430488, -.169397, -.623624, .630141], [-.358368, .93358, -.307359, -.579484, .754804, .422491, -.204589, -.604851, .643273], [-.34202, .939693, -.324533, -.55667, .76472, .413008, -.238872, -.584843, .65599], [-.325568, .945519, -.341008, -.533178, .774231, .402081, -.27215, -.563635, .668267], [-.309017, .951057, -.356763, -.509037, .783327, .389754, -.304329, -.541266, .680078], [-.292372, .956305, -.371778, -.484275, .791997, .376077, -.335319, -.517778, .691399], [-.275637, .961262, -.386036, -.458924, .800228, .361102, -.365034, -.493216, .702207], [-.258819, .965926, -.399519, -.433013, .808013, .344885, -.393389, -.467627, .712478], [-.241922, .970296, -.412211, -.406574, .81534, .327486, -.420306, -.441061, .722191], [-.224951, .97437, -.424096, -.379641, .822202, .308969, -.445709, -.413572, .731327], [-.207912, .978148, -.435159, -.352244, .828589, .289399, -.469527, -.385215, .739866], [-.190809, .981627, -.445388, -.324419, .834495, .268846, -.491693, -.356047, .74779], [-.173648, .984808, -.454769, -.296198, .839912, .247382, -.512145, -.326129, .755082], [-.156434, .987688, -.463292, -.267617, .844832, .225081, -.530827, -.295521, .761728], [-.139173, .990268, -.470946, -.238709, .849251, .20202, -.547684, -.264287, .767712], [-.121869, .992546, -.477722, -.209511, .853163, .178279, -.562672, -.232494, .773023], [-.104528, .994522, -.483611, -.180057, .856563, .153937, -.575747, -.200207, .777648], [-.087156, .996195, -.488606, -.150384, .859447, .129078, -.586872, -.167494, .781579], [-.069756, .997564, -.492701, -.120527, .861811, .103786, -.596018, -.134426, .784806], [-.052336, .99863, -.495891, -.090524, .863653, .078146, -.603158, -.101071, .787324], [-.034899, .999391, -.498173, -.060411, .864971, .052243, -.608272, -.0675, .789126], [-.017452, .999848, -.499543, -.030224, .865762, .026165, -.611347, -.033786, .790208], [0, 1, -.5, 0, .866025, -0, -.612372, 0, .790569], [.017452, .999848, -.499543, .030224, .865762, -.026165, -.611347, .033786, .790208], [.034899, .999391, -.498173, .060411, .864971, -.052243, -.608272, .0675, .789126], [.052336, .99863, -.495891, .090524, .863653, -.078146, -.603158, .101071, .787324], [.069756, .997564, -.492701, .120527, .861811, -.103786, -.596018, .134426, .784806], [.087156, .996195, -.488606, .150384, .859447, -.129078, -.586872, .167494, .781579], [.104528, .994522, -.483611, .180057, .856563, -.153937, -.575747, .200207, .777648], [.121869, .992546, -.477722, .209511, .853163, -.178279, -.562672, .232494, .773023], [.139173, .990268, -.470946, .238709, .849251, -.20202, -.547684, .264287, .767712], [.156434, .987688, -.463292, .267617, .844832, -.225081, -.530827, .295521, .761728], [.173648, .984808, -.454769, .296198, .839912, -.247382, -.512145, .326129, .755082], [.190809, .981627, -.445388, .324419, .834495, -.268846, -.491693, .356047, .74779], [.207912, .978148, -.435159, .352244, .828589, -.289399, -.469527, .385215, .739866], [.224951, .97437, -.424096, .379641, .822202, -.308969, -.445709, .413572, .731327], [.241922, .970296, -.412211, .406574, .81534, -.327486, -.420306, .441061, .722191], [.258819, .965926, -.399519, .433013, .808013, -.344885, -.393389, .467627, .712478], [.275637, .961262, -.386036, .458924, .800228, -.361102, -.365034, .493216, .702207], [.292372, .956305, -.371778, .484275, .791997, -.376077, -.335319, .517778, .691399], [.309017, .951057, -.356763, .509037, .783327, -.389754, -.304329, .541266, .680078], [.325568, .945519, -.341008, .533178, .774231, -.402081, -.27215, .563635, .668267], [.34202, .939693, -.324533, .55667, .76472, -.413008, -.238872, .584843, .65599], [.358368, .93358, -.307359, .579484, .754804, -.422491, -.204589, .604851, .643273], [.374607, .927184, -.289505, .601592, .744496, -.430488, -.169397, .623624, .630141], [.390731, .920505, -.270994, .622967, .733809, -.436964, -.133395, .64113, .616621], [.406737, .913545, -.251848, .643582, .722755, -.441884, -.096684, .657339, .602741], [.422618, .906308, -.232091, .663414, .711348, -.445222, -.059368, .672226, .588528], [.438371, .898794, -.211746, .682437, .699602, -.446953, -.02155, .685769, .574011], [.45399, .891007, -.190839, .700629, .687531, -.447059, .016662, .69795, .55922], [.469472, .882948, -.169395, .717968, .67515, -.445524, .05516, .708753, .544183], [.48481, .87462, -.147439, .734431, .662474, -.44234, .093837, .718167, .528929], [.5, .866025, -.125, .75, .649519, -.4375, .132583, .726184, .51349], [.515038, .857167, -.102104, .764655, .6363, -.431004, .171288, .732801, .497894], [.529919, .848048, -.078778, .778378, .622833, -.422856, .209843, .738017, .482171], [.544639, .838671, -.055052, .791154, .609135, -.413066, .24814, .741835, .466352], [.559193, .829038, -.030955, .802965, .595222, -.401645, .286069, .744262, .450467], [.573576, .819152, -.006515, .813798, .581112, -.388612, .323524, .745308, .434544], [.587785, .809017, .018237, .823639, .566821, -.373991, .360397, .744989, .418613], [.601815, .798636, .043272, .832477, .552367, -.357807, .396584, .74332, .402704], [.615661, .788011, .068559, .840301, .537768, -.340093, .431982, .740324, .386845], [.62932, .777146, .094066, .847101, .523041, -.320884, .46649, .736025, .371063], [.642788, .766044, .119764, .852869, .508205, -.300221, .500009, .730451, .355387], [.656059, .75471, .14562, .857597, .493276, -.278147, .532443, .723633, .339844], [.669131, .743145, .171604, .861281, .478275, -.254712, .5637, .715605, .324459], [.681998, .731354, .197683, .863916, .463218, -.229967, .593688, .706405, .309259], [.694658, .71934, .223825, .865498, .448125, -.203969, .622322, .696073, .294267], [.707107, .707107, .25, .866025, .433013, -.176777, .649519, .684653, .279508], [.71934, .694658, .276175, .865498, .417901, -.148454, .675199, .67219, .265005], [.731354, .681998, .302317, .863916, .402807, -.119068, .699288, .658734, .250778], [.743145, .669131, .328396, .861281, .387751, -.088686, .721714, .644334, .23685], [.75471, .656059, .35438, .857597, .372749, -.057383, .742412, .629044, .223238], [.766044, .642788, .380236, .852869, .357821, -.025233, .761319, .612921, .209963], [.777146, .62932, .405934, .847101, .342984, .007686, .778379, .596021, .19704], [.788011, .615661, .431441, .840301, .328257, .041294, .793541, .578405, .184487], [.798636, .601815, .456728, .832477, .313658, .075508, .806757, .560132, .172317], [.809017, .587785, .481763, .823639, .299204, .110246, .817987, .541266, .160545], [.819152, .573576, .506515, .813798, .284914, .14542, .827194, .521871, .149181], [.829038, .559193, .530955, .802965, .270803, .180944, .834347, .502011, .138237], [.838671, .544639, .555052, .791154, .256891, .21673, .839422, .481753, .127722], [.848048, .529919, .578778, .778378, .243192, .252688, .842399, .461164, .117644], [.857167, .515038, .602104, .764655, .229726, .288728, .843265, .440311, .108009], [.866025, .5, .625, .75, .216506, .32476, .842012, .419263, .098821], [.87462, .48481, .647439, .734431, .203551, .360692, .838638, .398086, .090085], [.882948, .469472, .669395, .717968, .190875, .396436, .833145, .376851, .081803], [.891007, .45399, .690839, .700629, .178494, .431899, .825544, .355623, .073974], [.898794, .438371, .711746, .682437, .166423, .466993, .81585, .334472, .066599], [.906308, .422618, .732091, .663414, .154678, .501627, .804083, .313464, .059674], [.913545, .406737, .751848, .643582, .143271, .535715, .79027, .292666, .053196], [.920505, .390731, .770994, .622967, .132217, .569169, .774442, .272143, .04716], [.927184, .374607, .789505, .601592, .121529, .601904, .756637, .25196, .041559], [.93358, .358368, .807359, .579484, .111222, .633837, .736898, .23218, .036385], [.939693, .34202, .824533, .55667, .101306, .664885, .715274, .212865, .03163], [.945519, .325568, .841008, .533178, .091794, .694969, .691816, .194075, .027281], [.951057, .309017, .856763, .509037, .082698, .724012, .666583, .175868, .023329], [.956305, .292372, .871778, .484275, .074029, .75194, .639639, .158301, .019758], [.961262, .275637, .886036, .458924, .065797, .77868, .61105, .141427, .016556], [.965926, .258819, .899519, .433013, .058013, .804164, .580889, .1253, .013707], [.970296, .241922, .912211, .406574, .050685, .828326, .549233, .109969, .011193], [.97437, .224951, .924096, .379641, .043823, .851105, .516162, .095481, .008999], [.978148, .207912, .935159, .352244, .037436, .872441, .481759, .08188, .007105], [.981627, .190809, .945388, .324419, .03153, .892279, .446114, .069209, .005492], [.984808, .173648, .954769, .296198, .026114, .910569, .409317, .057505, .00414], [.987688, .156434, .963292, .267617, .021193, .927262, .371463, .046806, .003026], [.990268, .139173, .970946, .238709, .016774, .942316, .332649, .037143, .002131], [.992546, .121869, .977722, .209511, .012862, .955693, .292976, .028547, .001431], [.994522, .104528, .983611, .180057, .009462, .967356, .252544, .021043, 903e-6], [.996195, .087156, .988606, .150384, .006578, .977277, .21146, .014654, 523e-6], [.997564, .069756, .992701, .120527, .004214, .985429, .169828, .0094, 268e-6], [.99863, .052336, .995891, .090524, .002372, .991791, .127757, .005297, 113e-6], [.999391, .034899, .998173, .060411, .001055, .996348, .085356, .002357, 34e-6], [.999848, .017452, .999543, .030224, 264e-6, .999086, .042733, 59e-5, 4e-6], [1, -0, 1, -0, 0, 1, -0, 0, -0]]], t.SPHERICAL_HARMONICS_AZIMUTH_RESOLUTION = t.SPHERICAL_HARMONICS[0].length, t.SPHERICAL_HARMONICS_ELEVATION_RESOLUTION = t.SPHERICAL_HARMONICS[1].length, t.SPHERICAL_HARMONICS_MAX_ORDER = t.SPHERICAL_HARMONICS[0][0].length / 2, t.MAX_RE_WEIGHTS = [[1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1], [1.003236, 1.002156, .999152, .990038], [1.03237, 1.021194, .990433, .898572], [1.062694, 1.040231, .979161, .799806], [1.093999, 1.058954, .964976, .693603], [1.126003, 1.077006, .947526, .57989], [1.158345, 1.093982, .926474, .45869], [1.19059, 1.109437, .901512, .330158], [1.222228, 1.12289, .87237, .194621], [1.252684, 1.133837, .838839, .052614], [1.281987, 1.142358, .801199, 0], [1.312073, 1.150207, .760839, 0], [1.343011, 1.157424, .717799, 0], [1.374649, 1.163859, .671999, 0], [1.406809, 1.169354, .623371, 0], [1.439286, 1.173739, .571868, 0], [1.471846, 1.176837, .517465, 0], [1.504226, 1.178465, .460174, 0], [1.536133, 1.178438, .400043, 0], [1.567253, 1.176573, .337165, 0], [1.597247, 1.172695, .271688, 0], [1.625766, 1.166645, .203815, 0], [1.652455, 1.158285, .133806, 0], [1.676966, 1.147506, .061983, 0], [1.699006, 1.134261, 0, 0], [1.720224, 1.119789, 0, 0], [1.741631, 1.10481, 0, 0], [1.763183, 1.08933, 0, 0], [1.784837, 1.073356, 0, 0], [1.806548, 1.056898, 0, 0], [1.828269, 1.039968, 0, 0], [1.849952, 1.02258, 0, 0], [1.871552, 1.004752, 0, 0], [1.893018, .986504, 0, 0], [1.914305, .967857, 0, 0], [1.935366, .948837, 0, 0], [1.956154, .929471, 0, 0], [1.976625, .90979, 0, 0], [1.996736, .889823, 0, 0], [2.016448, .869607, 0, 0], [2.035721, .849175, 0, 0], [2.054522, .828565, 0, 0], [2.072818, .807816, 0, 0], [2.090581, .786964, 0, 0], [2.107785, .766051, 0, 0], [2.124411, .745115, 0, 0], [2.140439, .724196, 0, 0], [2.155856, .703332, 0, 0], [2.170653, .682561, 0, 0], [2.184823, .661921, 0, 0], [2.198364, .641445, 0, 0], [2.211275, .621169, 0, 0], [2.223562, .601125, 0, 0], [2.23523, .581341, 0, 0], [2.246289, .561847, 0, 0], [2.256751, .542667, 0, 0], [2.266631, .523826, 0, 0], [2.275943, .505344, 0, 0], [2.284707, .487239, 0, 0], [2.292939, .469528, 0, 0], [2.300661, .452225, 0, 0], [2.307892, .435342, 0, 0], [2.314654, .418888, 0, 0], [2.320969, .40287, 0, 0], [2.326858, .387294, 0, 0], [2.332343, .372164, 0, 0], [2.337445, .357481, 0, 0], [2.342186, .343246, 0, 0], [2.346585, .329458, 0, 0], [2.350664, .316113, 0, 0], [2.354442, .303208, 0, 0], [2.357937, .290738, 0, 0], [2.361168, .278698, 0, 0], [2.364152, .26708, 0, 0], [2.366906, .255878, 0, 0], [2.369446, .245082, 0, 0], [2.371786, .234685, 0, 0], [2.37394, .224677, 0, 0], [2.375923, .215048, 0, 0], [2.377745, .20579, 0, 0], [2.379421, .196891, 0, 0], [2.380959, .188342, 0, 0], [2.382372, .180132, 0, 0], [2.383667, .172251, 0, 0], [2.384856, .164689, 0, 0], [2.385945, .157435, 0, 0], [2.386943, .150479, 0, 0], [2.387857, .143811, 0, 0], [2.388694, .137421, 0, 0], [2.38946, .131299, 0, 0], [2.39016, .125435, 0, 0], [2.390801, .11982, 0, 0], [2.391386, .114445, 0, 0], [2.391921, .1093, 0, 0], [2.39241, .104376, 0, 0], [2.392857, .099666, 0, 0], [2.393265, .09516, 0, 0], [2.393637, .090851, 0, 0], [2.393977, .086731, 0, 0], [2.394288, .082791, 0, 0], [2.394571, .079025, 0, 0], [2.394829, .075426, 0, 0], [2.395064, .071986, 0, 0], [2.395279, .068699, 0, 0], [2.395475, .065558, 0, 0], [2.395653, .062558, 0, 0], [2.395816, .059693, 0, 0], [2.395964, .056955, 0, 0], [2.396099, .054341, 0, 0], [2.396222, .051845, 0, 0], [2.396334, .049462, 0, 0], [2.396436, .047186, 0, 0], [2.396529, .045013, 0, 0], [2.396613, .042939, 0, 0], [2.396691, .040959, 0, 0], [2.396761, .039069, 0, 0], [2.396825, .037266, 0, 0], [2.396883, .035544, 0, 0], [2.396936, .033901, 0, 0], [2.396984, .032334, 0, 0], [2.397028, .030838, 0, 0], [2.397068, .02941, 0, 0], [2.397104, .028048, 0, 0], [2.397137, .026749, 0, 0], [2.397167, .025509, 0, 0], [2.397194, .024326, 0, 0], [2.397219, .023198, 0, 0], [2.397242, .022122, 0, 0], [2.397262, .021095, 0, 0], [2.397281, .020116, 0, 0], [2.397298, .019181, 0, 0], [2.397314, .01829, 0, 0], [2.397328, .017441, 0, 0], [2.397341, .01663, 0, 0], [2.397352, .015857, 0, 0], [2.397363, .015119, 0, 0], [2.397372, .014416, 0, 0], [2.397381, .013745, 0, 0], [2.397389, .013106, 0, 0], [2.397396, .012496, 0, 0], [2.397403, .011914, 0, 0], [2.397409, .01136, 0, 0], [2.397414, .010831, 0, 0], [2.397419, .010326, 0, 0], [2.397424, .009845, 0, 0], [2.397428, .009387, 0, 0], [2.397432, .008949, 0, 0], [2.397435, .008532, 0, 0], [2.397438, .008135, 0, 0], [2.397441, .007755, 0, 0], [2.397443, .007394, 0, 0], [2.397446, .007049, 0, 0], [2.397448, .006721, 0, 0], [2.39745, .006407, 0, 0], [2.397451, .006108, 0, 0], [2.397453, .005824, 0, 0], [2.397454, .005552, 0, 0], [2.397456, .005293, 0, 0], [2.397457, .005046, 0, 0], [2.397458, .004811, 0, 0], [2.397459, .004586, 0, 0], [2.39746, .004372, 0, 0], [2.397461, .004168, 0, 0], [2.397461, .003974, 0, 0], [2.397462, .003788, 0, 0], [2.397463, .003611, 0, 0], [2.397463, .003443, 0, 0], [2.397464, .003282, 0, 0], [2.397464, .003129, 0, 0], [2.397465, .002983, 0, 0], [2.397465, .002844, 0, 0], [2.397465, .002711, 0, 0], [2.397466, .002584, 0, 0], [2.397466, .002464, 0, 0], [2.397466, .002349, 0, 0], [2.397466, .002239, 0, 0], [2.397467, .002135, 0, 0], [2.397467, .002035, 0, 0], [2.397467, .00194, 0, 0], [2.397467, .001849, 0, 0], [2.397467, .001763, 0, 0], [2.397467, .001681, 0, 0], [2.397468, .001602, 0, 0], [2.397468, .001527, 0, 0], [2.397468, .001456, 0, 0], [2.397468, .001388, 0, 0], [2.397468, .001323, 0, 0], [2.397468, .001261, 0, 0], [2.397468, .001202, 0, 0], [2.397468, .001146, 0, 0], [2.397468, .001093, 0, 0], [2.397468, .001042, 0, 0], [2.397468, 993e-6, 0, 0], [2.397468, 947e-6, 0, 0], [2.397468, 902e-6, 0, 0], [2.397468, 86e-5, 0, 0], [2.397468, 82e-5, 0, 0], [2.397469, 782e-6, 0, 0], [2.397469, 745e-6, 0, 0], [2.397469, 71e-5, 0, 0], [2.397469, 677e-6, 0, 0], [2.397469, 646e-6, 0, 0], [2.397469, 616e-6, 0, 0], [2.397469, 587e-6, 0, 0], [2.397469, 559e-6, 0, 0], [2.397469, 533e-6, 0, 0], [2.397469, 508e-6, 0, 0], [2.397469, 485e-6, 0, 0], [2.397469, 462e-6, 0, 0], [2.397469, 44e-5, 0, 0], [2.397469, 42e-5, 0, 0], [2.397469, 4e-4, 0, 0], [2.397469, 381e-6, 0, 0], [2.397469, 364e-6, 0, 0], [2.397469, 347e-6, 0, 0], [2.397469, 33e-5, 0, 0], [2.397469, 315e-6, 0, 0], [2.397469, 3e-4, 0, 0], [2.397469, 286e-6, 0, 0], [2.397469, 273e-6, 0, 0], [2.397469, 26e-5, 0, 0], [2.397469, 248e-6, 0, 0], [2.397469, 236e-6, 0, 0], [2.397469, 225e-6, 0, 0], [2.397469, 215e-6, 0, 0], [2.397469, 205e-6, 0, 0], [2.397469, 195e-6, 0, 0], [2.397469, 186e-6, 0, 0], [2.397469, 177e-6, 0, 0], [2.397469, 169e-6, 0, 0], [2.397469, 161e-6, 0, 0], [2.397469, 154e-6, 0, 0], [2.397469, 147e-6, 0, 0], [2.397469, 14e-5, 0, 0], [2.397469, 133e-6, 0, 0], [2.397469, 127e-6, 0, 0], [2.397469, 121e-6, 0, 0], [2.397469, 115e-6, 0, 0], [2.397469, 11e-5, 0, 0], [2.397469, 105e-6, 0, 0], [2.397469, 1e-4, 0, 0], [2.397469, 95e-6, 0, 0], [2.397469, 91e-6, 0, 0], [2.397469, 87e-6, 0, 0], [2.397469, 83e-6, 0, 0], [2.397469, 79e-6, 0, 0], [2.397469, 75e-6, 0, 0], [2.397469, 71e-6, 0, 0], [2.397469, 68e-6, 0, 0], [2.397469, 65e-6, 0, 0], [2.397469, 62e-6, 0, 0], [2.397469, 59e-6, 0, 0], [2.397469, 56e-6, 0, 0], [2.397469, 54e-6, 0, 0], [2.397469, 51e-6, 0, 0], [2.397469, 49e-6, 0, 0], [2.397469, 46e-6, 0, 0], [2.397469, 44e-6, 0, 0], [2.397469, 42e-6, 0, 0], [2.397469, 4e-5, 0, 0], [2.397469, 38e-6, 0, 0], [2.397469, 37e-6, 0, 0], [2.397469, 35e-6, 0, 0], [2.397469, 33e-6, 0, 0], [2.397469, 32e-6, 0, 0], [2.397469, 3e-5, 0, 0], [2.397469, 29e-6, 0, 0], [2.397469, 27e-6, 0, 0], [2.397469, 26e-6, 0, 0], [2.397469, 25e-6, 0, 0], [2.397469, 24e-6, 0, 0], [2.397469, 23e-6, 0, 0], [2.397469, 22e-6, 0, 0], [2.397469, 21e-6, 0, 0], [2.397469, 2e-5, 0, 0], [2.397469, 19e-6, 0, 0], [2.397469, 18e-6, 0, 0], [2.397469, 17e-6, 0, 0], [2.397469, 16e-6, 0, 0], [2.397469, 15e-6, 0, 0], [2.397469, 15e-6, 0, 0], [2.397469, 14e-6, 0, 0], [2.397469, 13e-6, 0, 0], [2.397469, 13e-6, 0, 0], [2.397469, 12e-6, 0, 0], [2.397469, 12e-6, 0, 0], [2.397469, 11e-6, 0, 0], [2.397469, 11e-6, 0, 0], [2.397469, 1e-5, 0, 0], [2.397469, 1e-5, 0, 0], [2.397469, 9e-6, 0, 0], [2.397469, 9e-6, 0, 0], [2.397469, 8e-6, 0, 0], [2.397469, 8e-6, 0, 0], [2.397469, 8e-6, 0, 0], [2.397469, 7e-6, 0, 0], [2.397469, 7e-6, 0, 0], [2.397469, 7e-6, 0, 0], [2.397469, 6e-6, 0, 0], [2.397469, 6e-6, 0, 0], [2.397469, 6e-6, 0, 0], [2.397469, 5e-6, 0, 0], [2.397469, 5e-6, 0, 0], [2.397469, 5e-6, 0, 0], [2.397469, 5e-6, 0, 0], [2.397469, 4e-6, 0, 0], [2.397469, 4e-6, 0, 0], [2.397469, 4e-6, 0, 0], [2.397469, 4e-6, 0, 0], [2.397469, 4e-6, 0, 0], [2.397469, 4e-6, 0, 0], [2.397469, 3e-6, 0, 0], [2.397469, 3e-6, 0, 0], [2.397469, 3e-6, 0, 0], [2.397469, 3e-6, 0, 0], [2.397469, 3e-6, 0, 0], [2.397469, 3e-6, 0, 0], [2.397469, 3e-6, 0, 0], [2.397469, 2e-6, 0, 0], [2.397469, 2e-6, 0, 0], [2.397469, 2e-6, 0, 0], [2.397469, 2e-6, 0, 0], [2.397469, 2e-6, 0, 0], [2.397469, 2e-6, 0, 0], [2.397469, 2e-6, 0, 0], [2.397469, 2e-6, 0, 0], [2.397469, 2e-6, 0, 0], [2.397469, 2e-6, 0, 0], [2.397469, 1e-6, 0, 0], [2.397469, 1e-6, 0, 0], [2.397469, 1e-6, 0, 0]], t.MAX_RE_WEIGHTS_RESOLUTION = t.MAX_RE_WEIGHTS.length;\n  }, function (A, t, e) {\n    \"use strict\";\n\n    function i(A, t) {\n      void 0 == t && (t = {}), void 0 == t.position && (t.position = a.DEFAULT_POSITION.slice()), void 0 == t.forward && (t.forward = a.DEFAULT_FORWARD.slice()), void 0 == t.up && (t.up = a.DEFAULT_UP.slice()), void 0 == t.minDistance && (t.minDistance = a.DEFAULT_MIN_DISTANCE), void 0 == t.maxDistance && (t.maxDistance = a.DEFAULT_MAX_DISTANCE), void 0 == t.rolloff && (t.rolloff = a.DEFAULT_ROLLOFF), void 0 == t.gain && (t.gain = a.DEFAULT_SOURCE_GAIN), void 0 == t.alpha && (t.alpha = a.DEFAULT_DIRECTIVITY_ALPHA), void 0 == t.sharpness && (t.sharpness = a.DEFAULT_DIRECTIVITY_SHARPNESS), void 0 == t.sourceWidth && (t.sourceWidth = a.DEFAULT_SOURCE_WIDTH), this._scene = A, this._position = t.position, this._forward = t.forward, this._up = t.up, this._dx = new Float32Array(3), this._right = a.crossProduct(this._forward, this._up);\n      var e = A._context;\n      this.input = e.createGain(), this._directivity = new s(e, {\n        alpha: t.alpha,\n        sharpness: t.sharpness\n      }), this._toEarly = e.createGain(), this._toLate = e.createGain(), this._attenuation = new o(e, {\n        minDistance: t.minDistance,\n        maxDistance: t.maxDistance,\n        rolloff: t.rolloff\n      }), this._encoder = new r(e, {\n        ambisonicOrder: A._ambisonicOrder,\n        sourceWidth: t.sourceWidth\n      }), this.input.connect(this._toLate), this._toLate.connect(A._room.late.input), this.input.connect(this._attenuation.input), this._attenuation.output.connect(this._toEarly), this._toEarly.connect(A._room.early.input), this._attenuation.output.connect(this._directivity.input), this._directivity.output.connect(this._encoder.input), this._encoder.output.connect(A._listener.input), this.setPosition(t.position[0], t.position[1], t.position[2]), this.input.gain.value = t.gain;\n    }\n    function n(A) {\n      var t = 1;\n      return A > a.EPSILON_FLOAT && (t = 1 - A / a.SOURCE_MAX_OUTSIDE_ROOM_DISTANCE, t = Math.max(0, Math.min(1, t))), t;\n    } /**\n      * @license\n      * Copyright 2017 Google Inc. All Rights Reserved.\n      * Licensed under the Apache License, Version 2.0 (the \"License\");\n      * you may not use this file except in compliance with the License.\n      * You may obtain a copy of the License at\n      *\n      *     http://www.apache.org/licenses/LICENSE-2.0\n      *\n      * Unless required by applicable law or agreed to in writing, software\n      * distributed under the License is distributed on an \"AS IS\" BASIS,\n      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n      * See the License for the specific language governing permissions and\n      * limitations under the License.\n      */\n    var s = e(5),\n      o = e(6),\n      r = e(1),\n      a = e(0);\n    i.prototype.setPosition = function (A, t, e) {\n      this._position[0] = A, this._position[1] = t, this._position[2] = e;\n      var i = n(this._scene._room.getDistanceOutsideRoom(this._position[0], this._position[1], this._position[2]));\n      this._toLate.gain.value = i, this._toEarly.gain.value = i, this._update();\n    }, i.prototype._update = function () {\n      for (var _i2 = 0; _i2 < 3; _i2++) this._dx[_i2] = this._position[_i2] - this._scene._listener.position[_i2];\n      var A = Math.sqrt(this._dx[0] * this._dx[0] + this._dx[1] * this._dx[1] + this._dx[2] * this._dx[2]);\n      A > 0 && (this._dx[0] /= A, this._dx[1] /= A, this._dx[2] /= A);\n      var t = Math.atan2(-this._dx[0], this._dx[2]) * a.RADIANS_TO_DEGREES,\n        e = Math.atan2(this._dx[1], Math.sqrt(this._dx[0] * this._dx[0] + this._dx[2] * this._dx[2])) * a.RADIANS_TO_DEGREES;\n      this._attenuation.setDistance(A), this._directivity.computeAngle(this._forward, this._dx), this._encoder.setDirection(t, e);\n    }, i.prototype.setRolloff = function (A) {\n      this._attenuation.setRolloff(A);\n    }, i.prototype.setMinDistance = function (A) {\n      this._attenuation.minDistance = A;\n    }, i.prototype.setMaxDistance = function (A) {\n      this._attenuation.maxDistance = A;\n    }, i.prototype.setGain = function (A) {\n      this.input.gain.value = A;\n    }, i.prototype.setOrientation = function (A, t, e, i, n, s) {\n      this._forward[0] = A, this._forward[1] = t, this._forward[2] = e, this._up[0] = i, this._up[1] = n, this._up[2] = s, this._right = a.crossProduct(this._forward, this._up);\n    }, i.prototype.setFromMatrix = function (A) {\n      this._right[0] = A.elements[0], this._right[1] = A.elements[1], this._right[2] = A.elements[2], this._up[0] = A.elements[4], this._up[1] = A.elements[5], this._up[2] = A.elements[6], this._forward[0] = A.elements[8], this._forward[1] = A.elements[9], this._forward[2] = A.elements[10], this._right = a.normalizeVector(this._right), this._up = a.normalizeVector(this._up), this._forward = a.normalizeVector(this._forward), this.setPosition(A.elements[12], A.elements[13], A.elements[14]);\n    }, i.prototype.setSourceWidth = function (A) {\n      this._encoder.setSourceWidth(A), this.setPosition(this._position[0], this._position[1], this._position[2]);\n    }, i.prototype.setDirectivityPattern = function (A, t) {\n      this._directivity.setPattern(A, t), this.setPosition(this._position[0], this._position[1], this._position[2]);\n    }, A.exports = i;\n  }, function (A, t, e) {\n    \"use strict\";\n\n    function i(A, t) {\n      void 0 == t && (t = {}), void 0 == t.alpha && (t.alpha = n.DEFAULT_DIRECTIVITY_ALPHA), void 0 == t.sharpness && (t.sharpness = n.DEFAULT_DIRECTIVITY_SHARPNESS), this._context = A, this._lowpass = A.createBiquadFilter(), this._lowpass.type = \"lowpass\", this._lowpass.Q.value = 0, this._lowpass.frequency.value = .5 * A.sampleRate, this._cosTheta = 0, this.setPattern(t.alpha, t.sharpness), this.input = this._lowpass, this.output = this._lowpass;\n    } /**\n      * @license\n      * Copyright 2017 Google Inc. All Rights Reserved.\n      * Licensed under the Apache License, Version 2.0 (the \"License\");\n      * you may not use this file except in compliance with the License.\n      * You may obtain a copy of the License at\n      *\n      *     http://www.apache.org/licenses/LICENSE-2.0\n      *\n      * Unless required by applicable law or agreed to in writing, software\n      * distributed under the License is distributed on an \"AS IS\" BASIS,\n      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n      * See the License for the specific language governing permissions and\n      * limitations under the License.\n      */\n    var n = e(0);\n    i.prototype.computeAngle = function (A, t) {\n      var e = n.normalizeVector(A),\n        i = n.normalizeVector(t),\n        s = 1;\n      if (this._alpha > n.EPSILON_FLOAT) {\n        var _A = e[0] * i[0] + e[1] * i[1] + e[2] * i[2];\n        s = 1 - this._alpha + this._alpha * _A, s = Math.pow(Math.abs(s), this._sharpness);\n      }\n      this._lowpass.frequency.value = .5 * this._context.sampleRate * s;\n    }, i.prototype.setPattern = function (A, t) {\n      this._alpha = Math.min(1, Math.max(0, A)), this._sharpness = Math.max(1, t), this.computeAngle([this._cosTheta * this._cosTheta, 0, 0], [1, 0, 0]);\n    }, A.exports = i;\n  }, function (A, t, e) {\n    \"use strict\";\n\n    function i(A, t) {\n      void 0 == t && (t = {}), void 0 == t.minDistance && (t.minDistance = n.DEFAULT_MIN_DISTANCE), void 0 == t.maxDistance && (t.maxDistance = n.DEFAULT_MAX_DISTANCE), void 0 == t.rolloff && (t.rolloff = n.DEFAULT_ATTENUATION_ROLLOFF), this.minDistance = t.minDistance, this.maxDistance = t.maxDistance, this.setRolloff(t.rolloff), this._gainNode = A.createGain(), this.setDistance(t.maxDistance), this.input = this._gainNode, this.output = this._gainNode;\n    } /**\n      * @license\n      * Copyright 2017 Google Inc. All Rights Reserved.\n      * Licensed under the Apache License, Version 2.0 (the \"License\");\n      * you may not use this file except in compliance with the License.\n      * You may obtain a copy of the License at\n      *\n      *     http://www.apache.org/licenses/LICENSE-2.0\n      *\n      * Unless required by applicable law or agreed to in writing, software\n      * distributed under the License is distributed on an \"AS IS\" BASIS,\n      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n      * See the License for the specific language governing permissions and\n      * limitations under the License.\n      */\n    var n = e(0);\n    i.prototype.setDistance = function (A) {\n      var t = 1;\n      if (\"logarithmic\" == this._rolloff) {\n        if (A > this.maxDistance) t = 0;else if (A > this.minDistance) {\n          var _e4 = this.maxDistance - this.minDistance;\n          if (_e4 > n.EPSILON_FLOAT) {\n            var _i3 = 1 / (_e4 + 1);\n            t = (1 / (A - this.minDistance + 1) - _i3) / (1 - _i3);\n          }\n        }\n      } else if (\"linear\" == this._rolloff) if (A > this.maxDistance) t = 0;else if (A > this.minDistance) {\n        var _e5 = this.maxDistance - this.minDistance;\n        _e5 > n.EPSILON_FLOAT && (t = (this.maxDistance - A) / _e5);\n      }\n      this._gainNode.gain.value = t;\n    }, i.prototype.setRolloff = function (A) {\n      var t = ~n.ATTENUATION_ROLLOFFS.indexOf(A);\n      void 0 != A && t ? A = A.toString().toLowerCase() : (t || n.log('Invalid rolloff model (\"' + A + '\"). Using default: \"' + n.DEFAULT_ATTENUATION_ROLLOFF + '\".'), A = n.DEFAULT_ATTENUATION_ROLLOFF), this._rolloff = A;\n    }, A.exports = i;\n  }, function (A, t, e) {\n    \"use strict\";\n\n    function i(A) {\n      var t = {};\n      for (var _e6 in _.DEFAULT_ROOM_MATERIALS) _.DEFAULT_ROOM_MATERIALS.hasOwnProperty(_e6) && (t[_e6] = _.ROOM_MATERIAL_COEFFICIENTS[_.DEFAULT_ROOM_MATERIALS[_e6]]);\n      void 0 == A && (A = {}, Object.assign(A, _.DEFAULT_ROOM_MATERIALS));\n      for (var _e7 in _.DEFAULT_ROOM_MATERIALS) _.DEFAULT_ROOM_MATERIALS.hasOwnProperty(_e7) && A.hasOwnProperty(_e7) ? A[_e7] in _.ROOM_MATERIAL_COEFFICIENTS ? t[_e7] = _.ROOM_MATERIAL_COEFFICIENTS[A[_e7]] : _.log('Material \"' + A[_e7] + '\" on wall \"' + _e7 + '\" not found. Using \"' + _.DEFAULT_ROOM_MATERIALS[_e7] + '\".') : _.log('Wall \"' + _e7 + '\" is not defined. Default used.');\n      return t;\n    }\n    function n(A) {\n      void 0 == A && (A = {});\n      for (var _t2 in _.DEFAULT_ROOM_MATERIALS) A.hasOwnProperty(_t2) || (A[_t2] = _.ROOM_MATERIAL_COEFFICIENTS[_.DEFAULT_ROOM_MATERIALS[_t2]]);\n      return A;\n    }\n    function s(A) {\n      void 0 == A && (A = {});\n      for (var _t3 in _.DEFAULT_ROOM_DIMENSIONS) A.hasOwnProperty(_t3) || (A[_t3] = _.DEFAULT_ROOM_DIMENSIONS[_t3]);\n      return A;\n    }\n    function o(A, t, e) {\n      var i = new Float32Array(_.NUMBER_REVERB_FREQUENCY_BANDS);\n      A = s(A), t = n(t), void 0 == e && (e = _.DEFAULT_SPEED_OF_SOUND);\n      var o = _.TWENTY_FOUR_LOG10 / e,\n        r = A.width * A.height * A.depth;\n      if (r < _.ROOM_MIN_VOLUME) return i;\n      var a = A.width * A.height,\n        h = A.width * A.depth,\n        c = A.depth * A.height,\n        f = 2 * (a + h + c);\n      for (var _n = 0; _n < _.NUMBER_REVERB_FREQUENCY_BANDS; _n++) {\n        var _A2 = ((t.left[_n] + t.right[_n]) * a + (t.down[_n] + t.up[_n]) * h + (t.front[_n] + t.back[_n]) * c) / f;\n        i[_n] = _.ROOM_EYRING_CORRECTION_COEFFICIENT * o * r / (-f * Math.log(1 - _A2) + 4 * _.ROOM_AIR_ABSORPTION_COEFFICIENTS[_n] * r);\n      }\n      return i;\n    }\n    function r(A) {\n      var t = [];\n      for (var _e8 in _.DEFAULT_REFLECTION_COEFFICIENTS) if (_.DEFAULT_REFLECTION_COEFFICIENTS.hasOwnProperty(_e8)) {\n        t[_e8] = 0;\n        for (var _i4 = 0; _i4 < _.NUMBER_REFLECTION_AVERAGING_BANDS; _i4++) {\n          var _n2 = _i4 + _.ROOM_STARTING_AVERAGING_BAND;\n          t[_e8] += A[_e8][_n2];\n        }\n        t[_e8] /= _.NUMBER_REFLECTION_AVERAGING_BANDS, t[_e8] = Math.sqrt(1 - t[_e8]);\n      }\n      return t;\n    }\n    function a(A, t) {\n      void 0 == t && (t = {}), void 0 == t.listenerPosition && (t.listenerPosition = _.DEFAULT_POSITION.slice()), void 0 == t.dimensions && (t.dimensions = {}, Object.assign(t.dimensions, _.DEFAULT_ROOM_DIMENSIONS)), void 0 == t.materials && (t.materials = {}, Object.assign(t.materials, _.DEFAULT_ROOM_MATERIALS)), void 0 == t.speedOfSound && (t.speedOfSound = _.DEFAULT_SPEED_OF_SOUND), t.dimensions = s(t.dimensions);\n      var e = i(t.materials),\n        n = r(e),\n        a = o(t.dimensions, e, t.speedOfSound);\n      this.early = new c(A, {\n        dimensions: t.dimensions,\n        coefficients: n,\n        speedOfSound: t.speedOfSound,\n        listenerPosition: t.listenerPosition\n      }), this.late = new h(A, {\n        durations: a\n      }), this.speedOfSound = t.speedOfSound, this.output = A.createGain(), this.early.output.connect(this.output), this._merger = A.createChannelMerger(4), this.late.output.connect(this._merger, 0, 0), this._merger.connect(this.output);\n    } /**\n      * @license\n      * Copyright 2017 Google Inc. All Rights Reserved.\n      * Licensed under the Apache License, Version 2.0 (the \"License\");\n      * you may not use this file except in compliance with the License.\n      * You may obtain a copy of the License at\n      *\n      *     http://www.apache.org/licenses/LICENSE-2.0\n      *\n      * Unless required by applicable law or agreed to in writing, software\n      * distributed under the License is distributed on an \"AS IS\" BASIS,\n      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n      * See the License for the specific language governing permissions and\n      * limitations under the License.\n      */\n    var h = e(8),\n      c = e(9),\n      _ = e(0);\n    a.prototype.setProperties = function (A, t) {\n      var e = i(t),\n        n = o(A, e, this.speedOfSound);\n      this.late.setDurations(n), this.early.speedOfSound = this.speedOfSound;\n      var s = r(e);\n      this.early.setRoomProperties(A, s);\n    }, a.prototype.setListenerPosition = function (A, t, e) {\n      this.early.speedOfSound = this.speedOfSound, this.early.setListenerPosition(A, t, e);\n      var i = this.getDistanceOutsideRoom(A, t, e),\n        n = 1;\n      i > _.EPSILON_FLOAT && (n = 1 - i / _.LISTENER_MAX_OUTSIDE_ROOM_DISTANCE, n = Math.max(0, Math.min(1, n))), this.output.gain.value = n;\n    }, a.prototype.getDistanceOutsideRoom = function (A, t, e) {\n      var i = Math.max(0, -this.early._halfDimensions.width - A, A - this.early._halfDimensions.width),\n        n = Math.max(0, -this.early._halfDimensions.height - t, t - this.early._halfDimensions.height),\n        s = Math.max(0, -this.early._halfDimensions.depth - e, e - this.early._halfDimensions.depth);\n      return Math.sqrt(i * i + n * n + s * s);\n    }, A.exports = a;\n  }, function (A, t, e) {\n    \"use strict\";\n\n    function i(A, t) {\n      void 0 == t && (t = {}), void 0 == t.durations && (t.durations = n.DEFAULT_REVERB_DURATIONS.slice()), void 0 == t.predelay && (t.predelay = n.DEFAULT_REVERB_PREDELAY), void 0 == t.gain && (t.gain = n.DEFAULT_REVERB_GAIN), void 0 == t.bandwidth && (t.bandwidth = n.DEFAULT_REVERB_BANDWIDTH), void 0 == t.tailonset && (t.tailonset = n.DEFAULT_REVERB_TAIL_ONSET);\n      var e = t.predelay / 1e3;\n      this._bandwidthCoeff = t.bandwidth * n.LOG2_DIV2, this._tailonsetSamples = t.tailonset / 1e3, this._context = A, this.input = A.createGain(), this._predelay = A.createDelay(e), this._convolver = A.createConvolver(), this.output = A.createGain(), this.output.gain.value = t.gain, this._convolver.normalize = !1, this.input.connect(this._predelay), this._predelay.connect(this._convolver), this._convolver.connect(this.output), this.setDurations(t.durations);\n    } /**\n      * @license\n      * Copyright 2017 Google Inc. All Rights Reserved.\n      * Licensed under the Apache License, Version 2.0 (the \"License\");\n      * you may not use this file except in compliance with the License.\n      * You may obtain a copy of the License at\n      *\n      *     http://www.apache.org/licenses/LICENSE-2.0\n      *\n      * Unless required by applicable law or agreed to in writing, software\n      * distributed under the License is distributed on an \"AS IS\" BASIS,\n      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n      * See the License for the specific language governing permissions and\n      * limitations under the License.\n      */\n    var n = e(0);\n    i.prototype.setDurations = function (A) {\n      if (A.length !== n.NUMBER_REVERB_FREQUENCY_BANDS) return void n.log(\"Warning: invalid number of RT60 values provided to reverb.\");\n      var t = new Float32Array(n.NUMBER_REVERB_FREQUENCY_BANDS),\n        e = this._context.sampleRate;\n      for (var h = 0; h < A.length; h++) A[h] = Math.max(0, Math.min(n.DEFAULT_REVERB_MAX_DURATION, A[h])), t[h] = Math.round(A[h] * e * n.DEFAULT_REVERB_DURATION_MULTIPLIER);\n      var i = 0;\n      for (var _n3 = 0; _n3 < t.length; _n3++) t[_n3] > i && (i = t[_n3]);\n      i < 1 && (i = 1);\n      var s = this._context.createBuffer(1, i, e),\n        o = s.getChannelData(0),\n        r = new Float32Array(i);\n      for (var _n4 = 0; _n4 < i; _n4++) r[_n4] = 2 * Math.random() - 1;\n      for (var _h = 0; _h < n.NUMBER_REVERB_FREQUENCY_BANDS; _h++) {\n        var _A3 = -n.LOG1000 / t[_h],\n          _i5 = n.TWO_PI * n.DEFAULT_REVERB_FREQUENCY_BANDS[_h] / e,\n          _s2 = Math.sin(_i5),\n          _a = _s2 * Math.sinh(this._bandwidthCoeff * _i5 / _s2),\n          c = 1 / (1 + _a),\n          _ = _a * c,\n          f = -2 * Math.cos(_i5) * c,\n          l = (1 - _a) * c,\n          u = 0,\n          D = 0;\n        for (var _e9 = 0; _e9 < t[_h]; _e9++) {\n          var _t4 = r[_e9] * Math.exp(_A3 * _e9) - f * u - l * D;\n          o[_e9] += _ * (_t4 - D), D = u, u = _t4;\n        }\n      }\n      var a = Math.round(this._tailonsetSamples);\n      for (var _h2 = 0; _h2 < Math.min(o.length, a); _h2++) {\n        var _A4 = .5 * (1 - Math.cos(n.TWO_PI * _h2 / (2 * a - 1)));\n        o[_h2] *= _A4;\n      }\n      this._convolver.buffer = s;\n    }, A.exports = i;\n  }, function (A, t, e) {\n    \"use strict\";\n\n    function i(A, t) {\n      void 0 == t && (t = {}), void 0 == t.speedOfSound && (t.speedOfSound = n.DEFAULT_SPEED_OF_SOUND), void 0 == t.listenerPosition && (t.listenerPosition = n.DEFAULT_POSITION.slice()), void 0 == t.coefficients && (t.coefficients = {}, Object.assign(t.coefficients, n.DEFAULT_REFLECTION_COEFFICIENTS)), this.speedOfSound = t.speedOfSound, this.input = A.createGain(), this.output = A.createGain(), this._lowpass = A.createBiquadFilter(), this._delays = {}, this._gains = {}, this._inverters = {}, this._merger = A.createChannelMerger(4);\n      for (var _e10 in n.DEFAULT_REFLECTION_COEFFICIENTS) n.DEFAULT_REFLECTION_COEFFICIENTS.hasOwnProperty(_e10) && (this._delays[_e10] = A.createDelay(n.MAX_DURATION), this._gains[_e10] = A.createGain());\n      this._inverters.right = A.createGain(), this._inverters.down = A.createGain(), this._inverters.back = A.createGain(), this._lowpass.type = \"lowpass\", this._lowpass.frequency.value = n.DEFAULT_REFLECTION_CUTOFF_FREQUENCY, this._lowpass.Q.value = 0;\n      for (var _e11 in n.DEFAULT_REFLECTION_COEFFICIENTS) n.DEFAULT_REFLECTION_COEFFICIENTS.hasOwnProperty(_e11) && (this._delays[_e11].delayTime.value = 0, this._gains[_e11].gain.value = 0);\n      this._inverters.right.gain.value = -1, this._inverters.down.gain.value = -1, this._inverters.back.gain.value = -1, this.input.connect(this._lowpass);\n      for (var _e12 in n.DEFAULT_REFLECTION_COEFFICIENTS) n.DEFAULT_REFLECTION_COEFFICIENTS.hasOwnProperty(_e12) && (this._lowpass.connect(this._delays[_e12]), this._delays[_e12].connect(this._gains[_e12]), this._gains[_e12].connect(this._merger, 0, 0));\n      this._gains.left.connect(this._merger, 0, 1), this._gains.right.connect(this._inverters.right), this._inverters.right.connect(this._merger, 0, 1), this._gains.up.connect(this._merger, 0, 2), this._gains.down.connect(this._inverters.down), this._inverters.down.connect(this._merger, 0, 2), this._gains.front.connect(this._merger, 0, 3), this._gains.back.connect(this._inverters.back), this._inverters.back.connect(this._merger, 0, 3), this._merger.connect(this.output), this._listenerPosition = t.listenerPosition, this.setRoomProperties(t.dimensions, t.coefficients);\n    } /**\n      * @license\n      * Copyright 2017 Google Inc. All Rights Reserved.\n      * Licensed under the Apache License, Version 2.0 (the \"License\");\n      * you may not use this file except in compliance with the License.\n      * You may obtain a copy of the License at\n      *\n      *     http://www.apache.org/licenses/LICENSE-2.0\n      *\n      * Unless required by applicable law or agreed to in writing, software\n      * distributed under the License is distributed on an \"AS IS\" BASIS,\n      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n      * See the License for the specific language governing permissions and\n      * limitations under the License.\n      */\n    var n = e(0);\n    i.prototype.setListenerPosition = function (A, t, e) {\n      this._listenerPosition = [A, t, e];\n      var i = {\n        left: n.DEFAULT_REFLECTION_MULTIPLIER * Math.max(0, this._halfDimensions.width + A) + n.DEFAULT_REFLECTION_MIN_DISTANCE,\n        right: n.DEFAULT_REFLECTION_MULTIPLIER * Math.max(0, this._halfDimensions.width - A) + n.DEFAULT_REFLECTION_MIN_DISTANCE,\n        front: n.DEFAULT_REFLECTION_MULTIPLIER * Math.max(0, this._halfDimensions.depth + e) + n.DEFAULT_REFLECTION_MIN_DISTANCE,\n        back: n.DEFAULT_REFLECTION_MULTIPLIER * Math.max(0, this._halfDimensions.depth - e) + n.DEFAULT_REFLECTION_MIN_DISTANCE,\n        down: n.DEFAULT_REFLECTION_MULTIPLIER * Math.max(0, this._halfDimensions.height + t) + n.DEFAULT_REFLECTION_MIN_DISTANCE,\n        up: n.DEFAULT_REFLECTION_MULTIPLIER * Math.max(0, this._halfDimensions.height - t) + n.DEFAULT_REFLECTION_MIN_DISTANCE\n      };\n      for (var s in n.DEFAULT_REFLECTION_COEFFICIENTS) if (n.DEFAULT_REFLECTION_COEFFICIENTS.hasOwnProperty(s)) {\n        var _A5 = i[s] / this.speedOfSound;\n        this._delays[s].delayTime.value = _A5;\n        var _t5 = this._coefficients[s] / i[s];\n        this._gains[s].gain.value = _t5;\n      }\n    }, i.prototype.setRoomProperties = function (A, t) {\n      void 0 == A && (A = {}, Object.assign(A, n.DEFAULT_ROOM_DIMENSIONS)), void 0 == t && (t = {}, Object.assign(t, n.DEFAULT_REFLECTION_COEFFICIENTS)), this._coefficients = t, this._halfDimensions = {}, this._halfDimensions.width = .5 * A.width, this._halfDimensions.height = .5 * A.height, this._halfDimensions.depth = .5 * A.depth, this.setListenerPosition(this._listenerPosition[0], this._listenerPosition[1], this._listenerPosition[2]);\n    }, A.exports = i;\n  }, function (A, t, e) {\n    \"use strict\";\n\n    /**\n    * @license\n    * Copyright 2017 Google Inc. All Rights Reserved.\n    * Licensed under the Apache License, Version 2.0 (the \"License\");\n    * you may not use this file except in compliance with the License.\n    * You may obtain a copy of the License at\n    *\n    *     http://www.apache.org/licenses/LICENSE-2.0\n    *\n    * Unless required by applicable law or agreed to in writing, software\n    * distributed under the License is distributed on an \"AS IS\" BASIS,\n    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    * See the License for the specific language governing permissions and\n    * limitations under the License.\n    */\n    t.ResonanceAudio = e(11), t.ResonanceAudio.Attenuation = e(6), t.ResonanceAudio.Directivity = e(5), t.ResonanceAudio.EarlyReflections = e(9), t.ResonanceAudio.Encoder = e(1), t.ResonanceAudio.LateReflections = e(8), t.ResonanceAudio.Listener = e(2), t.ResonanceAudio.Room = e(7), t.ResonanceAudio.Source = e(4), t.ResonanceAudio.Tables = e(3), t.ResonanceAudio.Utils = e(0), t.ResonanceAudio.Version = e(13);\n  }, function (A, t, e) {\n    \"use strict\";\n\n    function i(A, t) {\n      void 0 == t && (t = {}), void 0 == t.ambisonicOrder && (t.ambisonicOrder = a.DEFAULT_AMBISONIC_ORDER), void 0 == t.listenerPosition && (t.listenerPosition = a.DEFAULT_POSITION.slice()), void 0 == t.listenerForward && (t.listenerForward = a.DEFAULT_FORWARD.slice()), void 0 == t.listenerUp && (t.listenerUp = a.DEFAULT_UP.slice()), void 0 == t.dimensions && (t.dimensions = {}, Object.assign(t.dimensions, a.DEFAULT_ROOM_DIMENSIONS)), void 0 == t.materials && (t.materials = {}, Object.assign(t.materials, a.DEFAULT_ROOM_MATERIALS)), void 0 == t.speedOfSound && (t.speedOfSound = a.DEFAULT_SPEED_OF_SOUND), this._ambisonicOrder = r.validateAmbisonicOrder(t.ambisonicOrder), this._sources = [], this._room = new o(A, {\n        listenerPosition: t.listenerPosition,\n        dimensions: t.dimensions,\n        materials: t.materials,\n        speedOfSound: t.speedOfSound\n      }), this._listener = new n(A, {\n        ambisonicOrder: t.ambisonicOrder,\n        position: t.listenerPosition,\n        forward: t.listenerForward,\n        up: t.listenerUp\n      }), this._context = A, this.output = A.createGain(), this.ambisonicOutput = A.createGain(), this.ambisonicInput = this._listener.input, this._room.output.connect(this._listener.input), this._listener.output.connect(this.output), this._listener.ambisonicOutput.connect(this.ambisonicOutput);\n    } /**\n      * @license\n      * Copyright 2017 Google Inc. All Rights Reserved.\n      * Licensed under the Apache License, Version 2.0 (the \"License\");\n      * you may not use this file except in compliance with the License.\n      * You may obtain a copy of the License at\n      *\n      *     http://www.apache.org/licenses/LICENSE-2.0\n      *\n      * Unless required by applicable law or agreed to in writing, software\n      * distributed under the License is distributed on an \"AS IS\" BASIS,\n      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n      * See the License for the specific language governing permissions and\n      * limitations under the License.\n      */\n    var n = e(2),\n      s = e(4),\n      o = e(7),\n      r = e(1),\n      a = e(0);\n    i.prototype.createSource = function (A) {\n      var t = new s(this, A);\n      return this._sources[this._sources.length] = t, t;\n    }, i.prototype.setAmbisonicOrder = function (A) {\n      this._ambisonicOrder = r.validateAmbisonicOrder(A);\n    }, i.prototype.setRoomProperties = function (A, t) {\n      this._room.setProperties(A, t);\n    }, i.prototype.setListenerPosition = function (A, t, e) {\n      this._listener.position[0] = A, this._listener.position[1] = t, this._listener.position[2] = e, this._room.setListenerPosition(A, t, e), this._sources.forEach(function (A) {\n        A._update();\n      });\n    }, i.prototype.setListenerOrientation = function (A, t, e, i, n, s) {\n      this._listener.setOrientation(A, t, e, i, n, s);\n    }, i.prototype.setListenerFromMatrix = function (A) {\n      this._listener.setFromMatrix(A), this.setListenerPosition(this._listener.position[0], this._listener.position[1], this._listener.position[2]);\n    }, i.prototype.setSpeedOfSound = function (A) {\n      this._room.speedOfSound = A;\n    }, A.exports = i;\n  }, function (A, t, e) {\n    !function (t, e) {\n      A.exports = e();\n    }(0, function () {\n      return function (A) {\n        function t(i) {\n          if (e[i]) return e[i].exports;\n          var n = e[i] = {\n            i: i,\n            l: !1,\n            exports: {}\n          };\n          return A[i].call(n.exports, n, n.exports, t), n.l = !0, n.exports;\n        }\n        var e = {};\n        return t.m = A, t.c = e, t.d = function (A, e, i) {\n          t.o(A, e) || Object.defineProperty(A, e, {\n            configurable: !1,\n            enumerable: !0,\n            get: i\n          });\n        }, t.n = function (A) {\n          var e = A && A.__esModule ? function () {\n            return A[\"default\"];\n          } : function () {\n            return A;\n          };\n          return t.d(e, \"a\", e), e;\n        }, t.o = function (A, t) {\n          return Object.prototype.hasOwnProperty.call(A, t);\n        }, t.p = \"\", t(t.s = 10);\n      }([function (A, t) {\n        t.log = function () {\n          window.console.log.apply(window.console, [\"%c[Omnitone]%c \" + Array.prototype.slice.call(arguments).join(\" \") + \" %c(@\" + performance.now().toFixed(2) + \"ms)\", \"background: #BBDEFB; color: #FF5722; font-weight: 500\", \"font-weight: 300\", \"color: #AAA\"]);\n        }, t[\"throw\"] = function () {\n          throw window.console.error.apply(window.console, [\"%c[Omnitone]%c \" + Array.prototype.slice.call(arguments).join(\" \") + \" %c(@\" + performance.now().toFixed(2) + \"ms)\", \"background: #C62828; color: #FFEBEE; font-weight: 800\", \"font-weight: 400\", \"color: #AAA\"]), new Error(!1);\n        };\n        var e, i, n, s, o, r, a, h, c, _, f, l, u, D, g, w, d, E, p, v, P, B, C, I, O, m, M, R, Q;\n        t.invertMatrix4 = function (A, t) {\n          return e = t[0], i = t[1], n = t[2], s = t[3], o = t[4], r = t[5], a = t[6], h = t[7], c = t[8], _ = t[9], f = t[10], l = t[11], u = t[12], D = t[13], g = t[14], w = t[15], d = e * r - i * o, E = e * a - n * o, p = e * h - s * o, v = i * a - n * r, P = i * h - s * r, B = n * h - s * a, C = c * D - _ * u, I = c * g - f * u, O = c * w - l * u, m = _ * g - f * D, M = _ * w - l * D, R = f * w - l * g, (Q = d * R - E * M + p * m + v * O - P * I + B * C) ? (Q = 1 / Q, A[0] = (r * R - a * M + h * m) * Q, A[1] = (n * M - i * R - s * m) * Q, A[2] = (D * B - g * P + w * v) * Q, A[3] = (f * P - _ * B - l * v) * Q, A[4] = (a * O - o * R - h * I) * Q, A[5] = (e * R - n * O + s * I) * Q, A[6] = (g * p - u * B - w * E) * Q, A[7] = (c * B - f * p + l * E) * Q, A[8] = (o * M - r * O + h * C) * Q, A[9] = (i * O - e * M - s * C) * Q, A[10] = (u * P - D * p + w * d) * Q, A[11] = (_ * p - c * P - l * d) * Q, A[12] = (r * I - o * m - a * C) * Q, A[13] = (e * m - i * I + n * C) * Q, A[14] = (D * E - u * v - g * d) * Q, A[15] = (c * v - _ * E + f * d) * Q, A) : null;\n        }, t.isDefinedENUMEntry = function (A, t) {\n          for (var _e13 in A) if (t === A[_e13]) return !0;\n          return !1;\n        }, t.isAudioContext = function (A) {\n          return A instanceof AudioContext || A instanceof OfflineAudioContext;\n        }, t.isAudioBuffer = function (A) {\n          return A instanceof AudioBuffer;\n        }, t.mergeBufferListByChannel = function (A, e) {\n          var i = e[0].length,\n            n = e[0].sampleRate;\n          var s = 0;\n          for (var _a2 = 0; _a2 < e.length; ++_a2) s > 32 && t[\"throw\"](\"Utils.mergeBuffer: Number of channels cannot exceed 32.(got \" + s + \")\"), i !== e[_a2].length && t[\"throw\"](\"Utils.mergeBuffer: AudioBuffer lengths are inconsistent. (expected \" + i + \" but got \" + e[_a2].length + \")\"), n !== e[_a2].sampleRate && t[\"throw\"](\"Utils.mergeBuffer: AudioBuffer sample rates are inconsistent. (expected \" + n + \" but got \" + e[_a2].sampleRate + \")\"), s += e[_a2].numberOfChannels;\n          var o = A.createBuffer(s, i, n);\n          var r = 0;\n          for (var _t6 = 0; _t6 < e.length; ++_t6) for (var _A6 = 0; _A6 < e[_t6].numberOfChannels; ++_A6) o.getChannelData(r++).set(e[_t6].getChannelData(_A6));\n          return o;\n        }, t.splitBufferbyChannel = function (A, e, i) {\n          e.numberOfChannels <= i && t[\"throw\"](\"Utils.splitBuffer: Insufficient number of channels. (\" + e.numberOfChannels + \" splitted by \" + i + \")\");\n          var n = [],\n            s = 0;\n          var o = Math.ceil(e.numberOfChannels / i);\n          for (var _t7 = 0; _t7 < o; ++_t7) {\n            var _t8 = A.createBuffer(i, e.length, e.sampleRate);\n            for (var _A7 = 0; _A7 < i; ++_A7) s < e.numberOfChannels && _t8.getChannelData(_A7).set(e.getChannelData(s++));\n            n.push(_t8);\n          }\n          return bufferList;\n        }, t.getArrayBufferFromBase64String = function (A) {\n          var t = window.atob(A),\n            e = new Uint8Array(t.length);\n          return e.forEach(function (A, i) {\n            return e[i] = t.charCodeAt(i);\n          }), e.buffer;\n        };\n      }, function (A, t, e) {\n        \"use strict\";\n\n        function i(A, t, e) {\n          this._context = n.isAudioContext(A) ? A : n[\"throw\"](\"BufferList: Invalid BaseAudioContext.\"), this._options = {\n            dataType: s.BASE64,\n            verbose: !1\n          }, e && (e.dataType && n.isDefinedENUMEntry(s, e.dataType) && (this._options.dataType = e.dataType), e.verbose && (this._options.verbose = Boolean(e.verbose))), this._bufferList = [], this._bufferData = this._options.dataType === s.BASE64 ? t : t.slice(0), this._numberOfTasks = this._bufferData.length, this._resolveHandler = null, this._rejectHandler = new Function();\n        }\n        var n = e(0),\n          s = {\n            BASE64: \"base64\",\n            URL: \"url\"\n          };\n        i.prototype.load = function () {\n          return new Promise(this._promiseGenerator.bind(this));\n        }, i.prototype._promiseGenerator = function (A, t) {\n          \"function\" != typeof A ? n[\"throw\"](\"BufferList: Invalid Promise resolver.\") : this._resolveHandler = A, \"function\" == typeof t && (this._rejectHandler = t);\n          for (var _e14 = 0; _e14 < this._bufferData.length; ++_e14) this._options.dataType === s.BASE64 ? this._launchAsyncLoadTask(_e14) : this._launchAsyncLoadTaskXHR(_e14);\n        }, i.prototype._launchAsyncLoadTask = function (A) {\n          var t = this;\n          this._context.decodeAudioData(n.getArrayBufferFromBase64String(this._bufferData[A]), function (e) {\n            t._updateProgress(A, e);\n          }, function (e) {\n            t._updateProgress(A, null);\n            var i = 'BufferList: decoding ArrayByffer(\"' + A + '\" from Base64-encoded data failed. (' + e + \")\";\n            n[\"throw\"](i), t._rejectHandler(i);\n          });\n        }, i.prototype._launchAsyncLoadTaskXHR = function (A) {\n          var t = new XMLHttpRequest();\n          t.open(\"GET\", this._bufferData[A]), t.responseType = \"arraybuffer\";\n          var e = this;\n          t.onload = function () {\n            if (200 === t.status) e._context.decodeAudioData(t.response, function (t) {\n              e._updateProgress(A, t);\n            }, function (t) {\n              e._updateProgress(A, null);\n              var i = 'BufferList: decoding \"' + e._bufferData[A] + '\" failed. (' + t + \")\";\n              n[\"throw\"](i), e._rejectHandler(i);\n            });else {\n              var _i6 = 'BufferList: XHR error while loading \"' + e._bufferData[A] + \"(\" + t.statusText + \")\";\n              n[\"throw\"](_i6), e._rejectHandler(_i6);\n            }\n          }, t.onerror = function (t) {\n            n[\"throw\"]('BufferList: XHR network failed on loading \"' + e._bufferData[A] + '\".'), e._updateProgress(A, null), e._rejectHandler();\n          }, t.send();\n        }, i.prototype._updateProgress = function (A, t) {\n          if (this._bufferList[A] = t, this._options.verbose) {\n            var _t9 = this._options.dataType === s.BASE64 ? \"ArrayBuffer(\" + A + \") from Base64-encoded HRIR\" : '\"' + this._bufferData[A] + '\"';\n            n.log(\"BufferList: \" + _t9 + \" successfully loaded.\");\n          }\n          if (0 == --this._numberOfTasks) {\n            var _A8 = this._options.dataType === s.BASE64 ? this._bufferData.length + \" AudioBuffers from Base64-encoded HRIRs\" : this._bufferData.length + \" files via XHR\";\n            n.log(\"BufferList: \" + _A8 + \" loaded successfully.\"), this._resolveHandler(this._bufferList);\n          }\n        }, A.exports = i;\n      }, function (A, t, e) {\n        \"use strict\";\n\n        function i(A, t) {\n          this._context = A, this._splitter = this._context.createChannelSplitter(4), this._merger = this._context.createChannelMerger(4), this.input = this._splitter, this.output = this._merger, this.setChannelMap(t || n.DEFAULT);\n        }\n        var n = {\n          DEFAULT: [0, 1, 2, 3],\n          SAFARI: [2, 0, 1, 3],\n          FUMA: [0, 3, 1, 2]\n        };\n        i.prototype.setChannelMap = function (A) {\n          Array.isArray(A) && (this._channelMap = A, this._splitter.disconnect(), this._splitter.connect(this._merger, 0, this._channelMap[0]), this._splitter.connect(this._merger, 1, this._channelMap[1]), this._splitter.connect(this._merger, 2, this._channelMap[2]), this._splitter.connect(this._merger, 3, this._channelMap[3]));\n        }, i.ChannelMap = n, A.exports = i;\n      }, function (A, t, e) {\n        \"use strict\";\n\n        function i(A) {\n          this._context = A, this._splitter = this._context.createChannelSplitter(4), this._inY = this._context.createGain(), this._inZ = this._context.createGain(), this._inX = this._context.createGain(), this._m0 = this._context.createGain(), this._m1 = this._context.createGain(), this._m2 = this._context.createGain(), this._m3 = this._context.createGain(), this._m4 = this._context.createGain(), this._m5 = this._context.createGain(), this._m6 = this._context.createGain(), this._m7 = this._context.createGain(), this._m8 = this._context.createGain(), this._outY = this._context.createGain(), this._outZ = this._context.createGain(), this._outX = this._context.createGain(), this._merger = this._context.createChannelMerger(4), this._splitter.connect(this._inY, 1), this._splitter.connect(this._inZ, 2), this._splitter.connect(this._inX, 3), this._inY.gain.value = -1, this._inX.gain.value = -1, this._inY.connect(this._m0), this._inY.connect(this._m1), this._inY.connect(this._m2), this._inZ.connect(this._m3), this._inZ.connect(this._m4), this._inZ.connect(this._m5), this._inX.connect(this._m6), this._inX.connect(this._m7), this._inX.connect(this._m8), this._m0.connect(this._outY), this._m1.connect(this._outZ), this._m2.connect(this._outX), this._m3.connect(this._outY), this._m4.connect(this._outZ), this._m5.connect(this._outX), this._m6.connect(this._outY), this._m7.connect(this._outZ), this._m8.connect(this._outX), this._splitter.connect(this._merger, 0, 0), this._outY.connect(this._merger, 0, 1), this._outZ.connect(this._merger, 0, 2), this._outX.connect(this._merger, 0, 3), this._outY.gain.value = -1, this._outX.gain.value = -1, this.setRotationMatrix3(new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1])), this.input = this._splitter, this.output = this._merger;\n        }\n        i.prototype.setRotationMatrix3 = function (A) {\n          this._m0.gain.value = A[0], this._m1.gain.value = A[1], this._m2.gain.value = A[2], this._m3.gain.value = A[3], this._m4.gain.value = A[4], this._m5.gain.value = A[5], this._m6.gain.value = A[6], this._m7.gain.value = A[7], this._m8.gain.value = A[8];\n        }, i.prototype.setRotationMatrix4 = function (A) {\n          this._m0.gain.value = A[0], this._m1.gain.value = A[1], this._m2.gain.value = A[2], this._m3.gain.value = A[4], this._m4.gain.value = A[5], this._m5.gain.value = A[6], this._m6.gain.value = A[8], this._m7.gain.value = A[9], this._m8.gain.value = A[10];\n        }, i.prototype.getRotationMatrix3 = function () {\n          return [this._m0.gain.value, this._m1.gain.value, this._m2.gain.value, this._m3.gain.value, this._m4.gain.value, this._m5.gain.value, this._m6.gain.value, this._m7.gain.value, this._m8.gain.value];\n        }, i.prototype.getRotationMatrix4 = function () {\n          var A = new Float32Array(16);\n          return A[0] = this._m0.gain.value, A[1] = this._m1.gain.value, A[2] = this._m2.gain.value, A[4] = this._m3.gain.value, A[5] = this._m4.gain.value, A[6] = this._m5.gain.value, A[8] = this._m6.gain.value, A[9] = this._m7.gain.value, A[10] = this._m8.gain.value, A;\n        }, A.exports = i;\n      }, function (A, t, e) {\n        \"use strict\";\n\n        function i(A, t) {\n          this._context = A, this._active = !1, this._isBufferLoaded = !1, this._buildAudioGraph(), t && this.setHRIRBufferList(t), this.enable();\n        }\n        i.prototype._buildAudioGraph = function () {\n          this._splitterWYZX = this._context.createChannelSplitter(4), this._mergerWY = this._context.createChannelMerger(2), this._mergerZX = this._context.createChannelMerger(2), this._convolverWY = this._context.createConvolver(), this._convolverZX = this._context.createConvolver(), this._splitterWY = this._context.createChannelSplitter(2), this._splitterZX = this._context.createChannelSplitter(2), this._inverter = this._context.createGain(), this._mergerBinaural = this._context.createChannelMerger(2), this._summingBus = this._context.createGain(), this._splitterWYZX.connect(this._mergerWY, 0, 0), this._splitterWYZX.connect(this._mergerWY, 1, 1), this._splitterWYZX.connect(this._mergerZX, 2, 0), this._splitterWYZX.connect(this._mergerZX, 3, 1), this._mergerWY.connect(this._convolverWY), this._mergerZX.connect(this._convolverZX), this._convolverWY.connect(this._splitterWY), this._convolverZX.connect(this._splitterZX), this._splitterWY.connect(this._mergerBinaural, 0, 0), this._splitterWY.connect(this._mergerBinaural, 0, 1), this._splitterWY.connect(this._mergerBinaural, 1, 0), this._splitterWY.connect(this._inverter, 1, 0), this._inverter.connect(this._mergerBinaural, 0, 1), this._splitterZX.connect(this._mergerBinaural, 0, 0), this._splitterZX.connect(this._mergerBinaural, 0, 1), this._splitterZX.connect(this._mergerBinaural, 1, 0), this._splitterZX.connect(this._mergerBinaural, 1, 1), this._convolverWY.normalize = !1, this._convolverZX.normalize = !1, this._inverter.gain.value = -1, this.input = this._splitterWYZX, this.output = this._summingBus;\n        }, i.prototype.setHRIRBufferList = function (A) {\n          this._isBufferLoaded || (this._convolverWY.buffer = A[0], this._convolverZX.buffer = A[1], this._isBufferLoaded = !0);\n        }, i.prototype.enable = function () {\n          this._mergerBinaural.connect(this._summingBus), this._active = !0;\n        }, i.prototype.disable = function () {\n          this._mergerBinaural.disconnect(), this._active = !1;\n        }, A.exports = i;\n      }, function (A, t, e) {\n        \"use strict\";\n\n        function i(A, t, e, i, s) {\n          this._context = A, this._buffers = new Map(), this._loadingTasks = {}, this._resolve = e, this._reject = i, this._progress = s;\n          for (var o = 0; o < t.length; o++) {\n            var _A9 = t[o];\n            if (this._loadingTasks.hasOwnProperty(_A9.name)) return void n.log(\"Duplicated filename when loading: \" + _A9.name);\n            this._loadingTasks[_A9.name] = 0, this._loadAudioFile(_A9);\n          }\n        }\n        var n = e(0);\n        i.prototype._loadAudioFile = function (A) {\n          var t = new XMLHttpRequest();\n          t.open(\"GET\", A.url), t.responseType = \"arraybuffer\";\n          var e = this;\n          t.onload = function () {\n            200 === t.status ? e._context.decodeAudioData(t.response, function (t) {\n              e._done(A.name, t);\n            }, function (t) {\n              n.log(\"Decoding failure: \" + A.url + \" (\" + t + \")\"), e._done(A.name, null);\n            }) : (n.log(\"XHR Error: \" + A.url + \" (\" + t.statusText + \")\"), e._done(A.name, null));\n          }, t.onerror = function (t) {\n            n.log(\"XHR Network failure: \" + A.url), e._done(A.name, null);\n          }, t.send();\n        }, i.prototype._done = function (A, t) {\n          this._loadingTasks[A] = null !== t ? \"loaded\" : \"failed\", this._buffers.set(A, t), this._updateProgress(A);\n        }, i.prototype._updateProgress = function (A) {\n          var t = 0,\n            e = 0,\n            i = 0;\n          for (var _n5 in this._loadingTasks) Object.prototype.hasOwnProperty.call(this._loadingTasks, _n5) && (i++, \"loaded\" === this._loadingTasks[_n5] ? t++ : \"failed\" === this._loadingTasks[_n5] && e++);\n          \"function\" != typeof this._progress ? t !== i ? t + e !== i || this._reject(this._buffers) : this._resolve(this._buffers) : this._progress(A, t, i);\n        }, A.exports = i;\n      }, function (A, t, e) {\n        \"use strict\";\n\n        function i(A, t) {\n          var e = Math.tan(Math.PI * A / t),\n            i = e * e,\n            n = i + 2 * e + 1;\n          return {\n            lowpassA: [1, 2 * (i - 1) / n, (i - 2 * e + 1) / n],\n            lowpassB: [i / n, 2 * i / n, i / n],\n            hipassA: [1, 2 * (i - 1) / n, (i - 2 * e + 1) / n],\n            hipassB: [1 / n, -2 / n, 1 / n]\n          };\n        }\n        var n = e(0),\n          s = 690,\n          o = [1.4142, .8166, .8166, .8166];\n        A.exports = function (A) {\n          if (this._context = A, this._input = this._context.createGain(), this._context.createIIRFilter) {\n            var _A10 = i(s, this._context.sampleRate);\n            this._lpf = this._context.createIIRFilter(_A10.lowpassB, _A10.lowpassA), this._hpf = this._context.createIIRFilter(_A10.hipassB, _A10.hipassA);\n          } else n.log(\"IIR filter is missing. Using Biquad filter instead.\"), this._lpf = this._context.createBiquadFilter(), this._hpf = this._context.createBiquadFilter(), this._lpf.frequency.value = s, this._hpf.frequency.value = s, this._hpf.type = \"highpass\";\n          this._splitterLow = this._context.createChannelSplitter(4), this._splitterHigh = this._context.createChannelSplitter(4), this._gainHighW = this._context.createGain(), this._gainHighY = this._context.createGain(), this._gainHighZ = this._context.createGain(), this._gainHighX = this._context.createGain(), this._merger = this._context.createChannelMerger(4), this._input.connect(this._hpf), this._hpf.connect(this._splitterHigh), this._splitterHigh.connect(this._gainHighW, 0), this._splitterHigh.connect(this._gainHighY, 1), this._splitterHigh.connect(this._gainHighZ, 2), this._splitterHigh.connect(this._gainHighX, 3), this._gainHighW.connect(this._merger, 0, 0), this._gainHighY.connect(this._merger, 0, 1), this._gainHighZ.connect(this._merger, 0, 2), this._gainHighX.connect(this._merger, 0, 3), this._input.connect(this._lpf), this._lpf.connect(this._splitterLow), this._splitterLow.connect(this._merger, 0, 0), this._splitterLow.connect(this._merger, 1, 1), this._splitterLow.connect(this._merger, 2, 2), this._splitterLow.connect(this._merger, 3, 3);\n          var t = this._context.currentTime;\n          this._gainHighW.gain.setValueAtTime(-1 * o[0], t), this._gainHighY.gain.setValueAtTime(-1 * o[1], t), this._gainHighZ.gain.setValueAtTime(-1 * o[2], t), this._gainHighX.gain.setValueAtTime(-1 * o[3], t), this.input = this._input, this.output = this._merger;\n        };\n      }, function (A, t, e) {\n        \"use strict\";\n\n        function i(A, t) {\n          if (2 !== t.IR.numberOfChannels) throw new Error(\"IR does not have 2 channels. cannot proceed.\");\n          this._active = !1, this._context = A, this._input = this._context.createChannelSplitter(4), this._cW = this._context.createGain(), this._cY = this._context.createGain(), this._cZ = this._context.createGain(), this._cX = this._context.createGain(), this._convolver = this._context.createConvolver(), this._gain = this._context.createGain(), this._input.connect(this._cW, 0), this._input.connect(this._cY, 1), this._input.connect(this._cZ, 2), this._input.connect(this._cX, 3), this._cW.connect(this._convolver), this._cY.connect(this._convolver), this._cZ.connect(this._convolver), this._cX.connect(this._convolver), this._convolver.connect(this._gain), this._gain.connect(this._context.destination), this.enable(), this._convolver.normalize = !1, this._convolver.buffer = t.IR, this._gain.gain.value = t.gain, this._cW.gain.value = t.coefficients[0], this._cY.gain.value = t.coefficients[1], this._cZ.gain.value = t.coefficients[2], this._cX.gain.value = t.coefficients[3], this.input = this._input;\n        }\n        i.prototype.enable = function () {\n          this._gain.connect(this._context.destination), this._active = !0;\n        }, i.prototype.disable = function () {\n          this._gain.disconnect(), this._active = !1;\n        }, A.exports = i;\n      }, function (A, t, e) {\n        \"use strict\";\n\n        function i(A, t, e) {\n          this._context = A, this._active = !1, this._isBufferLoaded = !1, this._ambisonicOrder = t, this._numberOfChannels = (this._ambisonicOrder + 1) * (this._ambisonicOrder + 1), this._buildAudioGraph(), e && this.setHRIRBufferList(e), this.enable();\n        }\n        i.prototype._buildAudioGraph = function () {\n          var A = Math.ceil(this._numberOfChannels / 2);\n          this._inputSplitter = this._context.createChannelSplitter(this._numberOfChannels), this._stereoMergers = [], this._convolvers = [], this._stereoSplitters = [], this._positiveIndexSphericalHarmonics = this._context.createGain(), this._negativeIndexSphericalHarmonics = this._context.createGain(), this._inverter = this._context.createGain(), this._binauralMerger = this._context.createChannelMerger(2), this._outputGain = this._context.createGain();\n          for (var _t10 = 0; _t10 < A; ++_t10) this._stereoMergers[_t10] = this._context.createChannelMerger(2), this._convolvers[_t10] = this._context.createConvolver(), this._stereoSplitters[_t10] = this._context.createChannelSplitter(2), this._convolvers[_t10].normalize = !1;\n          for (var _t11 = 0; _t11 <= this._ambisonicOrder; ++_t11) for (var _A11 = -_t11; _A11 <= _t11; _A11++) {\n            var _e15 = _t11 * _t11 + _t11 + _A11,\n              _i7 = Math.floor(_e15 / 2);\n            this._inputSplitter.connect(this._stereoMergers[_i7], _e15, _e15 % 2), this._stereoMergers[_i7].connect(this._convolvers[_i7]), this._convolvers[_i7].connect(this._stereoSplitters[_i7]), _A11 >= 0 ? this._stereoSplitters[_i7].connect(this._positiveIndexSphericalHarmonics, _e15 % 2) : this._stereoSplitters[_i7].connect(this._negativeIndexSphericalHarmonics, _e15 % 2);\n          }\n          this._positiveIndexSphericalHarmonics.connect(this._binauralMerger, 0, 0), this._positiveIndexSphericalHarmonics.connect(this._binauralMerger, 0, 1), this._negativeIndexSphericalHarmonics.connect(this._binauralMerger, 0, 0), this._negativeIndexSphericalHarmonics.connect(this._inverter), this._inverter.connect(this._binauralMerger, 0, 1), this._inverter.gain.value = -1, this.input = this._inputSplitter, this.output = this._outputGain;\n        }, i.prototype.setHRIRBufferList = function (A) {\n          if (!this._isBufferLoaded) {\n            for (var _t12 = 0; _t12 < A.length; ++_t12) this._convolvers[_t12].buffer = A[_t12];\n            this._isBufferLoaded = !0;\n          }\n        }, i.prototype.enable = function () {\n          this._binauralMerger.connect(this._outputGain), this._active = !0;\n        }, i.prototype.disable = function () {\n          this._binauralMerger.disconnect(), this._active = !1;\n        }, A.exports = i;\n      }, function (A, t, e) {\n        \"use strict\";\n\n        function i(A, t) {\n          return A === t ? 1 : 0;\n        }\n        function n(A, t, e, i, n) {\n          var s = (i + t) * (2 * t + 1) + (e + t);\n          A[t - 1][s].gain.value = n;\n        }\n        function s(A, t, e, i) {\n          var n = (i + t) * (2 * t + 1) + (e + t);\n          return A[t - 1][n].gain.value;\n        }\n        function o(A, t, e, i, n) {\n          return i === n ? s(A, 1, t, 1) * s(A, n - 1, e, n - 1) - s(A, 1, t, -1) * s(A, n - 1, e, 1 - n) : i === -n ? s(A, 1, t, 1) * s(A, n - 1, e, 1 - n) + s(A, 1, t, -1) * s(A, n - 1, e, n - 1) : s(A, 1, t, 0) * s(A, n - 1, e, i);\n        }\n        function r(A, t, e, i) {\n          return o(A, 0, t, e, i);\n        }\n        function a(A, t, e, n) {\n          if (0 === t) return o(A, 1, 1, e, n) + o(A, -1, -1, e, n);\n          if (t > 0) {\n            var _s3 = i(t, 1);\n            return o(A, 1, t - 1, e, n) * Math.sqrt(1 + _s3) - o(A, -1, 1 - t, e, n) * (1 - _s3);\n          }\n          {\n            var _s4 = i(t, -1);\n            return o(A, 1, t + 1, e, n) * (1 - _s4) + o(A, -1, -t - 1, e, n) * Math.sqrt(1 + _s4);\n          }\n        }\n        function h(A, t, e, i) {\n          return 0 === t ? 0 : t > 0 ? o(A, 1, t + 1, e, i) + o(A, -1, -t - 1, e, i) : o(A, 1, t - 1, e, i) - o(A, -1, 1 - t, e, i);\n        }\n        function c(A, t, e) {\n          var n = i(A, 0),\n            s = Math.abs(t) === e ? 1 / (2 * e * (2 * e - 1)) : 1 / ((e + t) * (e - t));\n          return [Math.sqrt((e + A) * (e - A) * s), .5 * (1 - 2 * n) * Math.sqrt((1 + n) * (e + Math.abs(A) - 1) * (e + Math.abs(A)) * s), -.5 * (1 - n) * Math.sqrt((e - Math.abs(A) - 1) * (e - Math.abs(A))) * s];\n        }\n        function _(A, t) {\n          for (var _e16 = -t; _e16 <= t; _e16++) for (var _i8 = -t; _i8 <= t; _i8++) {\n            var _s5 = c(_e16, _i8, t);\n            Math.abs(_s5[0]) > 0 && (_s5[0] *= r(A, _e16, _i8, t)), Math.abs(_s5[1]) > 0 && (_s5[1] *= a(A, _e16, _i8, t)), Math.abs(_s5[2]) > 0 && (_s5[2] *= h(A, _e16, _i8, t)), n(A, t, _e16, _i8, _s5[0] + _s5[1] + _s5[2]);\n          }\n        }\n        function f(A) {\n          for (var _t13 = 2; _t13 <= A.length; _t13++) _(A, _t13);\n        }\n        function l(A, t) {\n          this._context = A, this._ambisonicOrder = t;\n          var e = (t + 1) * (t + 1);\n          this._splitter = this._context.createChannelSplitter(e), this._merger = this._context.createChannelMerger(e), this._gainNodeMatrix = [];\n          var i, n, s, o, r;\n          for (var _a3 = 1; _a3 <= t; _a3++) {\n            i = _a3 * _a3, n = 2 * _a3 + 1, this._gainNodeMatrix[_a3 - 1] = [];\n            for (var _A12 = 0; _A12 < n; _A12++) {\n              s = i + _A12;\n              for (var _t14 = 0; _t14 < n; _t14++) o = i + _t14, r = _A12 * n + _t14, this._gainNodeMatrix[_a3 - 1][r] = this._context.createGain(), this._splitter.connect(this._gainNodeMatrix[_a3 - 1][r], s), this._gainNodeMatrix[_a3 - 1][r].connect(this._merger, 0, o);\n            }\n          }\n          this._splitter.connect(this._merger, 0, 0), this.setRotationMatrix3(new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1])), this.input = this._splitter, this.output = this._merger;\n        }\n        l.prototype.setRotationMatrix3 = function (A) {\n          for (var _t15 = 0; _t15 < 9; ++_t15) this._gainNodeMatrix[0][_t15].gain.value = A[_t15];\n          f(this._gainNodeMatrix);\n        }, l.prototype.setRotationMatrix4 = function (A) {\n          this._gainNodeMatrix[0][0].gain.value = A[0], this._gainNodeMatrix[0][1].gain.value = A[1], this._gainNodeMatrix[0][2].gain.value = A[2], this._gainNodeMatrix[0][3].gain.value = A[4], this._gainNodeMatrix[0][4].gain.value = A[5], this._gainNodeMatrix[0][5].gain.value = A[6], this._gainNodeMatrix[0][6].gain.value = A[8], this._gainNodeMatrix[0][7].gain.value = A[9], this._gainNodeMatrix[0][8].gain.value = A[10], f(this._gainNodeMatrix);\n        }, l.prototype.getRotationMatrix3 = function () {\n          var A = new Float32Array(9);\n          for (var _t16 = 0; _t16 < 9; ++_t16) A[_t16] = this._gainNodeMatrix[0][_t16].gain.value;\n          return A;\n        }, l.prototype.getRotationMatrix4 = function () {\n          var A = new Float32Array(16);\n          return A[0] = this._gainNodeMatrix[0][0].gain.value, A[1] = this._gainNodeMatrix[0][1].gain.value, A[2] = this._gainNodeMatrix[0][2].gain.value, A[4] = this._gainNodeMatrix[0][3].gain.value, A[5] = this._gainNodeMatrix[0][4].gain.value, A[6] = this._gainNodeMatrix[0][5].gain.value, A[8] = this._gainNodeMatrix[0][6].gain.value, A[9] = this._gainNodeMatrix[0][7].gain.value, A[10] = this._gainNodeMatrix[0][8].gain.value, A;\n        }, l.prototype.getAmbisonicOrder = function () {\n          return this._ambisonicOrder;\n        }, A.exports = l;\n      }, function (A, t, e) {\n        \"use strict\";\n\n        /**\n        * @license\n        * Copyright 2016 Google Inc. All Rights Reserved.\n        * Licensed under the Apache License, Version 2.0 (the \"License\");\n        * you may not use this file except in compliance with the License.\n        * You may obtain a copy of the License at\n        *\n        *     http://www.apache.org/licenses/LICENSE-2.0\n        *\n        * Unless required by applicable law or agreed to in writing, software\n        * distributed under the License is distributed on an \"AS IS\" BASIS,\n        * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n        * See the License for the specific language governing permissions and\n        * limitations under the License.\n        */\n        t.Omnitone = e(11);\n      }, function (A, t, e) {\n        \"use strict\";\n\n        var i = e(1),\n          n = e(4),\n          s = e(12),\n          o = e(6),\n          r = e(14),\n          a = e(3),\n          h = e(2),\n          c = e(7),\n          _ = e(8),\n          f = e(16),\n          l = e(9),\n          u = e(19),\n          D = e(0),\n          g = e(20),\n          w = e(5);\n        var d = {};\n        d.browserInfo = u.getBrowserInfo(), d.loadAudioBuffers = function (A, t) {\n          return new Promise(function (e, i) {\n            new w(A, t, function (A) {\n              e(A);\n            }, i);\n          });\n        }, d.createBufferList = function (A, t, e) {\n          return new i(A, t, e || {\n            dataType: \"url\"\n          }).load();\n        }, d.mergeBufferListByChannel = D.mergeBufferListByChannel, d.splitBufferbyChannel = D.splitBufferbyChannel, d.createFOAConvolver = function (A, t) {\n          return new n(A, t);\n        }, d.createFOARouter = function (A, t) {\n          return new h(A, t);\n        }, d.createFOARotator = function (A) {\n          return new a(A);\n        }, d.createFOAPhaseMatchedFilter = function (A) {\n          return new o(A);\n        }, d.createFOAVirtualSpeaker = function (A, t) {\n          return new c(A, t);\n        }, d.createFOADecoder = function (A, t, e) {\n          return D.log(\"WARNING: FOADecoder is deprecated in favor of FOARenderer.\"), new s(A, t, e);\n        }, d.createFOARenderer = function (A, t) {\n          return new r(A, t);\n        }, d.createHOARotator = function (A, t) {\n          return new l(A, t);\n        }, d.createHOAConvolver = function (A, t, e) {\n          return new _(A, t, e);\n        }, d.createHOARenderer = function (A, t) {\n          return new f(A, t);\n        }, D.log(\"Version \" + g + \" (running \" + d.browserInfo.name + \" \" + d.browserInfo.version + \" on \" + d.browserInfo.platform + \")\"), \"safari\" === d.browserInfo.name.toLowerCase() && (u.patchSafari(), D.log(d.browserInfo.name + \" detected. Appliying polyfill...\")), A.exports = d;\n      }, function (A, t, e) {\n        \"use strict\";\n\n        function i(A, t, e) {\n          this._isDecoderReady = !1, this._context = A, this._videoElement = t, this._decodingMode = \"ambisonic\", this._postGainDB = f, this._HRTFSetUrl = _, this._channelMap = s.ChannelMap.DEFAULT, e && (e.postGainDB && (this._postGainDB = e.postGainDB), e.HRTFSetUrl && (this._HRTFSetUrl = e.HRTFSetUrl), e.channelMap && (this._channelMap = e.channelMap)), this._speakerData = [];\n          for (var _i9 = 0; _i9 < h.length; ++_i9) this._speakerData.push({\n            name: h[_i9].name,\n            url: this._HRTFSetUrl + \"/\" + h[_i9].url,\n            coef: h[_i9].coef\n          });\n          this._tempMatrix4 = new Float32Array(16);\n        }\n        var n = e(5),\n          s = e(2),\n          o = e(3),\n          r = e(6),\n          a = e(7),\n          h = e(13),\n          c = e(0),\n          _ = \"https://raw.githubusercontent.com/GoogleChrome/omnitone/master/build/resources/\";\n        var f = 0;\n        i.prototype.initialize = function () {\n          c.log(\"Initializing... (mode: \" + this._decodingMode + \")\");\n          var A = this._channelMap.toString(),\n            t = s.ChannelMap.DEFAULT.toString();\n          A !== t && c.log(\"Remapping channels ([\" + t + \"] -> [\" + A + \"])\"), this._audioElementSource = this._context.createMediaElementSource(this._videoElement), this._foaRouter = new s(this._context, this._channelMap), this._foaRotator = new o(this._context), this._foaPhaseMatchedFilter = new r(this._context), this._audioElementSource.connect(this._foaRouter.input), this._foaRouter.output.connect(this._foaRotator.input), this._foaRotator.output.connect(this._foaPhaseMatchedFilter.input), this._foaVirtualSpeakers = [], this._bypass = this._context.createGain(), this._audioElementSource.connect(this._bypass);\n          var e = Math.pow(10, this._postGainDB / 20);\n          c.log(\"Gain compensation: \" + e + \" (\" + this._postGainDB + \"dB)\");\n          var i = this;\n          return new Promise(function (A, t) {\n            new n(i._context, i._speakerData, function (t) {\n              for (var _A13 = 0; _A13 < i._speakerData.length; ++_A13) i._foaVirtualSpeakers[_A13] = new a(i._context, {\n                coefficients: i._speakerData[_A13].coef,\n                IR: t.get(i._speakerData[_A13].name),\n                gain: e\n              }), i._foaPhaseMatchedFilter.output.connect(i._foaVirtualSpeakers[_A13].input);\n              i.setMode(i._decodingMode), i._isDecoderReady = !0, c.log(\"HRTF IRs are loaded successfully. The decoder is ready.\"), A();\n            }, t);\n          });\n        }, i.prototype.setRotationMatrix = function (A) {\n          this._foaRotator.setRotationMatrix(A);\n        }, i.prototype.setRotationMatrixFromCamera = function (A) {\n          c.invertMatrix4(this._tempMatrix4, A.elements), this._foaRotator.setRotationMatrix4(this._tempMatrix4);\n        }, i.prototype.setMode = function (A) {\n          if (A !== this._decodingMode) {\n            switch (A) {\n              case \"bypass\":\n                this._decodingMode = \"bypass\";\n                for (var _A14 = 0; _A14 < this._foaVirtualSpeakers.length; ++_A14) this._foaVirtualSpeakers[_A14].disable();\n                this._bypass.connect(this._context.destination);\n                break;\n              case \"ambisonic\":\n                this._decodingMode = \"ambisonic\";\n                for (var _A15 = 0; _A15 < this._foaVirtualSpeakers.length; ++_A15) this._foaVirtualSpeakers[_A15].enable();\n                this._bypass.disconnect();\n                break;\n              case \"off\":\n                this._decodingMode = \"off\";\n                for (var _A16 = 0; _A16 < this._foaVirtualSpeakers.length; ++_A16) this._foaVirtualSpeakers[_A16].disable();\n                this._bypass.disconnect();\n            }\n            c.log(\"Decoding mode changed. (\" + A + \")\");\n          }\n        }, A.exports = i;\n      }, function (A, t) {\n        A.exports = [{\n          name: \"E35_A135\",\n          url: \"E35_A135.wav\",\n          gainFactor: 1,\n          coef: [.125, .216495, .21653, -.216495]\n        }, {\n          name: \"E35_A-135\",\n          url: \"E35_A-135.wav\",\n          gainFactor: 1,\n          coef: [.125, -.216495, .21653, -.216495]\n        }, {\n          name: \"E-35_A135\",\n          url: \"E-35_A135.wav\",\n          gainFactor: 1,\n          coef: [.125, .216495, -.21653, -.216495]\n        }, {\n          name: \"E-35_A-135\",\n          url: \"E-35_A-135.wav\",\n          gainFactor: 1,\n          coef: [.125, -.216495, -.21653, -.216495]\n        }, {\n          name: \"E35_A45\",\n          url: \"E35_A45.wav\",\n          gainFactor: 1,\n          coef: [.125, .216495, .21653, .216495]\n        }, {\n          name: \"E35_A-45\",\n          url: \"E35_A-45.wav\",\n          gainFactor: 1,\n          coef: [.125, -.216495, .21653, .216495]\n        }, {\n          name: \"E-35_A45\",\n          url: \"E-35_A45.wav\",\n          gainFactor: 1,\n          coef: [.125, .216495, -.21653, .216495]\n        }, {\n          name: \"E-35_A-45\",\n          url: \"E-35_A-45.wav\",\n          gainFactor: 1,\n          coef: [.125, -.216495, -.21653, .216495]\n        }];\n      }, function (A, t, e) {\n        \"use strict\";\n\n        function i(A, t) {\n          this._context = h.isAudioContext(A) ? A : h[\"throw\"](\"FOARenderer: Invalid BaseAudioContext.\"), this._config = {\n            channelMap: a.ChannelMap.DEFAULT,\n            renderingMode: c.AMBISONIC\n          }, t && (t.channelMap && (Array.isArray(t.channelMap) && 4 === t.channelMap.length ? this._config.channelMap = t.channelMap : h[\"throw\"](\"FOARenderer: Invalid channel map. (got \" + t.channelMap + \")\")), t.hrirPathList && (Array.isArray(t.hrirPathList) && 2 === t.hrirPathList.length ? this._config.pathList = t.hrirPathList : h[\"throw\"](\"FOARenderer: Invalid HRIR URLs. It must be an array with 2 URLs to HRIR files. (got \" + t.hrirPathList + \")\")), t.renderingMode && (Object.values(c).includes(t.renderingMode) ? this._config.renderingMode = t.renderingMode : h.log(\"FOARenderer: Invalid rendering mode order. (got\" + t.renderingMode + ') Fallbacks to the mode \"ambisonic\".'))), this._buildAudioGraph(), this._tempMatrix4 = new Float32Array(16), this._isRendererReady = !1;\n        }\n        var n = e(1),\n          s = e(4),\n          o = e(15),\n          r = e(3),\n          a = e(2),\n          h = e(0),\n          c = {\n            AMBISONIC: \"ambisonic\",\n            BYPASS: \"bypass\",\n            OFF: \"off\"\n          };\n        i.prototype._buildAudioGraph = function () {\n          this.input = this._context.createGain(), this.output = this._context.createGain(), this._bypass = this._context.createGain(), this._foaRouter = new a(this._context, this._config.channelMap), this._foaRotator = new r(this._context), this._foaConvolver = new s(this._context), this.input.connect(this._foaRouter.input), this.input.connect(this._bypass), this._foaRouter.output.connect(this._foaRotator.input), this._foaRotator.output.connect(this._foaConvolver.input), this._foaConvolver.output.connect(this.output), this.input.channelCount = 4, this.input.channelCountMode = \"explicit\", this.input.channelInterpretation = \"discrete\";\n        }, i.prototype._initializeCallback = function (A, t) {\n          (this._config.pathList ? new n(this._context, this._config.pathList, {\n            dataType: \"url\"\n          }) : new n(this._context, o)).load().then(function (t) {\n            this._foaConvolver.setHRIRBufferList(t), this.setRenderingMode(this._config.renderingMode), this._isRendererReady = !0, h.log(\"FOARenderer: HRIRs loaded successfully. Ready.\"), A();\n          }.bind(this), function () {\n            var A = \"FOARenderer: HRIR loading/decoding failed.\";\n            h[\"throw\"](A), t(A);\n          });\n        }, i.prototype.initialize = function () {\n          return h.log(\"FOARenderer: Initializing... (mode: \" + this._config.renderingMode + \")\"), new Promise(this._initializeCallback.bind(this), function (A) {\n            h[\"throw\"](\"FOARenderer: Initialization failed. (\" + A + \")\");\n          });\n        }, i.prototype.setChannelMap = function (A) {\n          this._isRendererReady && A.toString() !== this._config.channelMap.toString() && (h.log(\"Remapping channels ([\" + this._config.channelMap.toString() + \"] -> [\" + A.toString() + \"]).\"), this._config.channelMap = A.slice(), this._foaRouter.setChannelMap(this._config.channelMap));\n        }, i.prototype.setRotationMatrix3 = function (A) {\n          this._isRendererReady && this._foaRotator.setRotationMatrix3(A);\n        }, i.prototype.setRotationMatrix4 = function (A) {\n          this._isRendererReady && this._foaRotator.setRotationMatrix4(A);\n        }, i.prototype.setRotationMatrixFromCamera = function (A) {\n          this._isRendererReady && (h.invertMatrix4(this._tempMatrix4, A.elements), this._foaRotator.setRotationMatrix4(this._tempMatrix4));\n        }, i.prototype.setRenderingMode = function (A) {\n          if (A !== this._config.renderingMode) {\n            switch (A) {\n              case c.AMBISONIC:\n                this._foaConvolver.enable(), this._bypass.disconnect();\n                break;\n              case c.BYPASS:\n                this._foaConvolver.disable(), this._bypass.connect(this.output);\n                break;\n              case c.OFF:\n                this._foaConvolver.disable(), this._bypass.disconnect();\n                break;\n              default:\n                return void h.log('FOARenderer: Rendering mode \"' + A + '\" is not supported.');\n            }\n            this._config.renderingMode = A, h.log(\"FOARenderer: Rendering mode changed. (\" + A + \")\");\n          }\n        }, A.exports = i;\n      }, function (A, t) {\n        A.exports = [\"UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD+/wIA9v8QAPv/CwD+/wcA/v8MAP//AQD7/wEACAAEAPj/+v8YABAA7v/n//v/9P/M/8D//f34/R38EvzxAfEBtA2lDTcBJQFJ9T71FP0D/cD1tfVo/Wv9uPTO9PPmOufc/U/+agL3Aisc/RxuGKEZBv3j/iYMzQ2gAzsEQQUABiQFrASzA5cB2QmyCy0AtgR4AeYGtfgAA2j5OQHP+scArPsMBJgEggIEBtz6+QVq/pj/aPg8BPP3gQEi+jEAof0fA1v9+/7S+8IBjvwd/xD4IADL/Pf9zvs+/l3+wgB7/+L+7fzFADH9kf6A+n3+DP6+/TP9xP68/pn+w/26/i39YgA0/u790Pt9/kD+7v1s/Wb+8f4C/1P+pf/x/cT+6/3p/Xz9ff5F/0f9G/4r/6v/4P5L/sL+ff7c/pj+Ov7X/UT+9P5G/oz+6v6A/2D+9/6P/8r/bP7m/ij+C//e/tj/Gf4e/9v+FwDP/lz/sP7F/2H+rv/G/s7/Hf7y/4P+NAD9/k0AK/6w/zP/hACh/sX/gf44AOP+dgCm/iUAk/5qAOD+PwC+/jEAWP4CAAr/bQBw/vv/zf5iACD/OgCS/uD/Cv9oAAb/CgDK/kwA//5tACH/TgCg/h4AHP9aABP/JADP/hEAYv9gAAj/3f8m/ysAYv8gACX/8/8k/ysAXv8bABH//v8j/ygAa/8qAAD/9f9g/1YAWf8JACH/AgB2/z4AXP/w/z3/FgB2/ykAX//9/z//EwCV/zUAS//n/1T/GACK/x4ATv/0/4P/QQB4//v/WP/2/3X/HAB8//P/V//3/2f/AQBh/9v/Tf/x/5P/IwCI/wMAf/8hAKP/JACZ/xUAiv8nAK//HgCr/yMAm/8uAMz/OACi/yQAqf87AMT/MwCY/yUAtP9FAMH/KgCu/ycAyP85AMv/IwCz/xoA1f8qAMn/FgC8/xQA4/8nAMX/CwDJ/xQA4f8ZAMH/BgDO/xQA4f8WAMP/BwDU/xQA4P8QAMH/AQDb/xQA3P8JAMP/AgDh/xIA2v8EAMj/AgDk/w0A1f/+/8v/AwDm/wwA0v/+/9H/BgDl/wkAzv/8/9T/BwDk/wcAzv/8/9r/CQDi/wQAzf/8/9//CADf////0P/9/+L/BwDd//7/0////+T/BgDb//z/1f8AAOf/BQDZ//v/2v8CAOb/AwDY//v/3v8EAOb/AgDY//3/4f8FAOX/AQDZ//7/5P8GAOP/AADb/wAA5/8GAOH////d/wIA5/8FAOD////f/wMA6P8FAOD////h/wQA6P8EAN7////h/wUA4v8DANv/AQDd/wQA3P8CANn/AgDb/wMA2/8CANv/AgDd/wIA3v8CAOH/AQDj/wEA\", \"UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAAAAAAA/f8CAP//AQD//wEA//8BAP3/AAACAP7/+f8AAAIA/P8FAAQA8/8AABoA+f/V/wQAHQDO/xoAQQBO/ocA0Px1/ucHW/4UCm8HLO6kAjv8/fCRDdAAYfPiBIgFXveUCM0GBvh6/nz7rf0J/QcQSRVdBgoBSgFR62r9NP8m+LoEAvriBVAAiAPmABEGMf2l+SwBjva6/G4A//8P/CYDMgXm/R0CKAE6/fcBBwAtAND+kQA0A5UDhwFs/8IB8fydAEP/A/8v/e7/mP8j/2YBIwE3Av0AYv+uAOD8lgAg/wwAIf/L/n0Ae//OAJMB3P/XAF//XwCM/08AB/8NAEf/rf4jAT3/lgAJAP4AHgDpAO8AUf9L/07/Qf8KAOD/x/+D/3sATQCDAMoA0f79/+L/EQDt/7EAqv+S/7IAuv/o/wgAc//X//H/SwCm/+3/Yf/B/yoAAADI/7X/AwBg/5EATgCX/xYA/P+q/00AVACY/6v/BADD/zwALQCN/8z/KQDu/ygAEgCZ/6f/VQDC//T/KQCs/7P/UgAfAO7/NgC8/57/awAZAPP/+P/V/8z/bQBBAL//DgD0/+T/TABBAMz/CwAxAPz/SQBqALn/BgALAPz/EAA7AIz/3/8iAAUA//8kALf/y/9VABQA+v81AOj/0P9cAB4A+f8WAOr/vv83ABgAw/8JAOj/4f8nACIAsf/y/w4A3v8gACQAxP/n/ycA7P8WAC0Ayf/U/ycA9v/7/yUA0P/P/zUABADc/xUA5P/J/zcACwDS/xUA9P/m/zAACQDX/+3/9v/2/yQACgDZ/+P/AwAKABYA///b/9j/EQALABkADgD6/+7/GwD4/w4A8P/w//j/EgAEAAUA9f/1/wQAGgD4/wAA5////wAAGQD1////7f8FAAUAFQDv/wAA6v8LAAcAFQDs/wEA9P8SAAYACwDr//7/AQASAAYABQDv/wIAAwAWAAIAAgDv/wAABgATAAEA/f/u/wQABgAQAPr/+P/z/wUACQALAPj/9//4/wgABwAKAPT/+f/5/w4ABwAIAPT/+//9/w4AAwADAPH//f///w8A//8BAPP///8BAA0A/f/+//X/AgACAA0A+//8//b/BAADAAoA+f/7//n/BgADAAcA+P/7//v/BwABAAQA+P/8//3/CQABAAIA9//9////CQD/////+P///wAACAD9//7/+f8AAAAABwD8//3/+v8CAAAABgD7//z//P8EAAAABAD6//3//P8FAP//AgD6//7//v8FAP7/AQD7//////8GAP7/AAD7/wEA//8EAP3/AAD9/wEA/v8DAP3/AAD9/wIA/v8CAP3/AQD9/wIA/v8CAP7/AQD+/wEA\"];\n      }, function (A, t, e) {\n        \"use strict\";\n\n        function i(A, t) {\n          this._context = h.isAudioContext(A) ? A : h[\"throw\"](\"HOARenderer: Invalid BaseAudioContext.\"), this._config = {\n            ambisonicOrder: 3,\n            renderingMode: c.AMBISONIC\n          }, t && t.ambisonicOrder && (_.includes(t.ambisonicOrder) ? this._config.ambisonicOrder = t.ambisonicOrder : h.log(\"HOARenderer: Invalid ambisonic order. (got \" + t.ambisonicOrder + \") Fallbacks to 3rd-order ambisonic.\")), this._config.numberOfChannels = (this._config.ambisonicOrder + 1) * (this._config.ambisonicOrder + 1), this._config.numberOfStereoChannels = Math.ceil(this._config.numberOfChannels / 2), t && t.hrirPathList && (Array.isArray(t.hrirPathList) && t.hrirPathList.length === this._config.numberOfStereoChannels ? this._config.pathList = t.hrirPathList : h[\"throw\"](\"HOARenderer: Invalid HRIR URLs. It must be an array with \" + this._config.numberOfStereoChannels + \" URLs to HRIR files. (got \" + t.hrirPathList + \")\")), t && t.renderingMode && (Object.values(c).includes(t.renderingMode) ? this._config.renderingMode = t.renderingMode : h.log(\"HOARenderer: Invalid rendering mode. (got \" + t.renderingMode + ') Fallbacks to \"ambisonic\".')), this._buildAudioGraph(), this._isRendererReady = !1;\n        }\n        var n = e(1),\n          s = e(8),\n          o = e(9),\n          r = e(17),\n          a = e(18),\n          h = e(0),\n          c = {\n            AMBISONIC: \"ambisonic\",\n            BYPASS: \"bypass\",\n            OFF: \"off\"\n          },\n          _ = [2, 3];\n        i.prototype._buildAudioGraph = function () {\n          this.input = this._context.createGain(), this.output = this._context.createGain(), this._bypass = this._context.createGain(), this._hoaRotator = new o(this._context, this._config.ambisonicOrder), this._hoaConvolver = new s(this._context, this._config.ambisonicOrder), this.input.connect(this._hoaRotator.input), this.input.connect(this._bypass), this._hoaRotator.output.connect(this._hoaConvolver.input), this._hoaConvolver.output.connect(this.output), this.input.channelCount = this._config.numberOfChannels, this.input.channelCountMode = \"explicit\", this.input.channelInterpretation = \"discrete\";\n        }, i.prototype._initializeCallback = function (A, t) {\n          var e;\n          (e = this._config.pathList ? new n(this._context, this._config.pathList, {\n            dataType: \"url\"\n          }) : 2 === this._config.ambisonicOrder ? new n(this._context, a) : new n(this._context, r)).load().then(function (t) {\n            this._hoaConvolver.setHRIRBufferList(t), this.setRenderingMode(this._config.renderingMode), this._isRendererReady = !0, h.log(\"HOARenderer: HRIRs loaded successfully. Ready.\"), A();\n          }.bind(this), function () {\n            var A = \"HOARenderer: HRIR loading/decoding failed.\";\n            h[\"throw\"](A), t(A);\n          });\n        }, i.prototype.initialize = function () {\n          return h.log(\"HOARenderer: Initializing... (mode: \" + this._config.renderingMode + \", ambisonic order: \" + this._config.ambisonicOrder + \")\"), new Promise(this._initializeCallback.bind(this), function (A) {\n            h[\"throw\"](\"HOARenderer: Initialization failed. (\" + A + \")\");\n          });\n        }, i.prototype.setRotationMatrix3 = function (A) {\n          this._isRendererReady && this._hoaRotator.setRotationMatrix3(A);\n        }, i.prototype.setRotationMatrix4 = function (A) {\n          this._isRendererReady && this._hoaRotator.setRotationMatrix4(A);\n        }, i.prototype.setRenderingMode = function (A) {\n          if (A !== this._config.renderingMode) {\n            switch (A) {\n              case c.AMBISONIC:\n                this._hoaConvolver.enable(), this._bypass.disconnect();\n                break;\n              case c.BYPASS:\n                this._hoaConvolver.disable(), this._bypass.connect(this.output);\n                break;\n              case c.OFF:\n                this._hoaConvolver.disable(), this._bypass.disconnect();\n                break;\n              default:\n                return void h.log('HOARenderer: Rendering mode \"' + A + '\" is not supported.');\n            }\n            this._config.renderingMode = A, h.log(\"HOARenderer: Rendering mode changed. (\" + A + \")\");\n          }\n        }, A.exports = i;\n      }, function (A, t) {\n        A.exports = [\"UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD+/wQA8/8YAP3/CgACAAAA//8CAAYA8/8AAPH/CgDv/97/e/+y/9P+UQDwAHUBEwV7/pP8P/y09bsDwAfNBGYIFf/Y+736+fP890Hv8AGcC3T/vwYy+S70AAICA3AD4AagBw0R4w3ZEAcN8RVYAV8Q8P2z+kECHwdK/jIG0QNKAYUElf8IClj7BgjX+/f8j/l3/5f/6fkK+xz8FP0v/nj/Mf/n/FcBPfvH/1H3+gBP/Hf8cfiCAR/54QBh+UQAcvkzAWL8TP13+iD/V/73+wv9Kv+Y/hv+xPz7/UL83//a/z/9AP6R/5L+jf26/P3+rP26/tD8nP7B/Pv+WP1V/sP9gv91/3P9xP3J/nv/GP5S/sb+IP8v/9j/dv7U/pr+6v+u/Z3/sv5cAOr9Q/83/+n/zP5x/57+2//k/nwA/v01//L+SACB/sD/Ff81AJT+TgDp/ocAm/5dAFT+MgD+/pMAW/7o/yH/xQDA/kkA9P6LAL3+pAC0/iQAz/5UALD+UwAt/3UAhf4UAA//pwC+/joAz/5aAAv/fwDY/iMAIf+uAPP+ZAAc/0QAy/4xAB7/TgDs/goADP8wAEL/NwDo/ub/Uf9BAC3/+v9F/y4ARP9HAFP/EQA3/xMATP81AG3/HQAu/wgAaP9FACb/9f9B/y0AUP8rAED/CwBV/z4AW/8TAGH/BQBK/xsAfv8eAFn/AgB3/zwAff8RAGj//v+E/yAAb//0/3n/FwBz/xcAiv8PAHn/FQCJ/xgAg//x/3j/EQCa/ycAff/w/47/HwCI//X/iv/7/43/JQCM/+n/kP8AAJb/JACj//7/oP8ZAML/SwCo/w4Atv8tAMb/PACr/xcAwP9HAMP/OADF/y4A0f9IANL/NwC//zEA0f9LAMb/MAC8/y4A3f9GAMH/FQDQ/yYA2/8sAMT/AwDX/xkA3v8SAM3/9v/c/w8A4f8LAMj/8f/h/xQA2P8CAMn/8//j/xQA0v/7/9H//P/i/xEA0v/1/9L//f/j/w0A0f/x/9f//v/k/wgAz//u/9z/AwDg/wMA0P/v/9//BQDf////0v/y/+D/CADc//3/0v/2/+L/CgDa//r/1v/5/+T/CgDY//j/2f/9/+T/CADY//f/3P8AAOT/BwDY//f/4P8EAOP/BADZ//j/4v8GAOL/AwDa//r/5f8IAOH/AQDc//3/5v8JAOD//v/f////5v8IAOD//v/h/wIA5/8HAOD//f/j/wMA5/8GAOD//f/l/wYA5v8EAOD//v/m/wYA5f8CAOL////n/wYA5P8BAOH/AADl/wUA4f///+H/AQDk/wMA4f///+T/AQDm/wEA5////+r/AADt/wAA7/////P/AAD1////\", \"UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD//////v///wAAAAAAAAAAAQAAAAAA///9/wAABAD+//n/AgAJAAAA+v/+//f/DAAdAPv/+v+l/8L+jf/4/vgAdwVPAQACLQBo+Qj/Ev7o/N3/VgCbA08Bxf+L+yn9J/2HCU8FmgBvDe30Rv5h/LT09gi5CxkA5gOi8/30kwEM+4YJMf2nBmkJJAQQBLoFtvvv+m4A7PF6/R0Bif3qAuf8WARAAf4GyABG/BIAwvr4Acv8U//c/yIC8AEn/B8Daf2CAgMBAf3MAN38vgLK/UT/QwCyAPYClPyvAW/+pQAoASD+zP+R/IYC1f7C/nEBQP96AZb+1QAIAM//yQE7/tkAZ/7TAXL/w/8+AIsAtwB7/24A4v9a/z4A7v4iADb/dwCj/23/kgBOANUAIv8lAKEAxP9gAK7/BwCP/5kA7/9v/0wAzv9DAGT/3/9vAHv/6P+q/xUA7P8XAO//uv/g/2UAEgCV/wEATADM/+7/+//j/+D/9v/i//j/IgD+/xoAxf/6/z4A5/+8/9D/QwDq/+3/OQDT/zUAIgA/APP/PgAjAPD/BwAGACAADAC3//b/HAA3AN//RgDN/w8AIAACAN//GQBDACEAIwA+ACoAJQAeAPz/KgAYAPr/DgAEABYAIgAcAMT/7f8OAOL/5P/2//L/9P8GAPT/7v/8/+7/6v/t//z/AgAUAOL//P8VAAMA4/8IAPb/+P8MAAoA5v8NAAsA9v///wEAAAD9//n/9/8JAAYA7v/6/wMA+f8GAAEA7f/7/xgACAD4/w8A///3/w0A+f8BAAIA/P/5/xIA///9//r/7v/+/xYACQD///H/CwDz/wEADgAHAPP/FADn/+3/AQD5//f/AgD7/wEABwAMAAEADQD8//n/8f8OAPX/BAD+//X/+v8WAAQA+f8CAAEA7/8QAAEA/P8DAAUA9f8KAAwA9v8DAAUA+f8OAAoA9f/7/w0A+v8EAAgA8P/6/woA+//8/wkA+P/3/woA+//8/wcA9//1/woAAwD5/wcA/P/3/w0AAwD3/wEABAD2/wkABgD3/wEABQD3/wUABQD3//v/BwD3/wMABQD3//r/CQD7////BQD6//n/CQD9//3/BAD9//j/BwAAAPv/AwD///j/BwABAPn/AQABAPn/BQACAPn///8DAPr/AwADAPr//v8EAPv/AQADAPv//P8FAP3///8DAPz/+/8FAP7//f8CAP7/+/8EAP///P8BAP//+/8DAAEA+/8AAAEA+/8CAAIA+////wIA/f8AAAIA/P/+/wIA/f8AAAIA/f/9/wMA/////wEA///+/wIA/////wAAAAD+/wAAAAD/////AAD//wAA//8AAP//AAD//wAA\", \"UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD////////+//////8AAP////8AAP//AAAAAPz//f8IAAMA9////w4AAQD6/wwA8//+/y8Afv/0/2H/UP5gAbH+2QG1B2cAVAIh/l32FPyM/nACPQDV/+UEo/Q6AQwCu/oLD9kF8QJA/Uz+Wf2KCOcC+wUKBsL5aQBQ97rwOPiPAvn5CAl8AHEDkQPcAA8Bn/lIAdz7HQF1+xz9cAM4/94E4gDKAun+cgPYAYr9JgJr/bf+ivxz/MoBgv5UA8EBSgAQAJ7/UgEk/cQB7f63/sD/vf4XAhT/BQFCADYAnQGI/9EBtv3hALD/vP+c/3H/TgIN/1sBpf8yAP3/4f8qABr+1f8OAJ3/dwAGADEBnv9JAPz/IQBwAIH/jgAS/4wAsACTAOn/DQDCALn/ZQCSAAIAAwD1/9//jv9aADQA/v9EAB0AfgA8AAQACgB9APr/IAARAPT/5v9xACAABAAHAGUAt/89AC4ACgAjAMP/+v/9/xYA7f/1/+D/7P87AC0Auv8RAAcA9/8FAC8A2//y/xIAEwAaADQAJADp/zoAAgAfABIA2f/e/zUA+P/6/w4A9//A/zcA4//P//T/5f/R////EwDb/w4A8/8BABkANADh/xEA+f/0/wIAHADc//j/GwD1//f/GADs/+v/EAAAAPz/EgD3/+r/FgAMAAkAGAD9/+z/IQAQAPH/GQD3//z/CgAfAOX/AgD8//H/BAATAOv/+v///wIABAAdAOj/BQAPAAcAAQATAOz/8/8JAAkA6f8VAOv/+f8QABUA/v8OAO3/+P8KABUA9f8FAPv/5/8TAA0A7f8XAAkAAQAJABYA4/8WAAcACgANABEA7v8EAP7/AAD+/wMA9//7/xAAAQD8/wQA+f/7/wMABgDq/wAA+v/3/wYACQD1//3/BAD9/wgADgDw//r/AgD6/wEACADv//j/BQD///X/BwDu//j/AgACAPP/BAD2//n/BAAGAPb/BAD8//3/BQAJAPL/AwD+//3/BAAIAPP//f8DAPz/AAAGAPP/+/8CAP7//f8FAPX/+f8DAAAA/P8EAPf/+v8GAAMA+/8EAPv/+/8GAAQA+v8CAP///P8EAAUA+f8AAP///f8CAAUA+P///wEA/v8BAAUA+f/+/wIAAAD//wUA+v/9/wMAAQD9/wQA+//9/wMAAgD8/wMA/P/9/wMAAwD7/wEA/v/+/wIAAwD6/wEA///+/wAABAD6/wAAAQD//wAAAwD7////AQAAAP//AwD8//7/AgABAP3/AgD9//7/AQABAP3/AQD+//7/AAACAPz/AAD+//////8BAP3/AAD//wAA//8BAP7/AAD//wAA/v8AAP7/AAD//wAA//8AAP//\", \"UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD//////P/9//3//////wAAAAAAAAIAAgACAP//CAAEAEEA//+cAAUAb/8HAAH9+P9eARkAogQUAJn8BwCd/gX/+QQNAKoC9gFdAtb/b/vd/936TP/6AsD/nfqn/un1W/0dA8IEsQLvAJv2bP72+WMAkP8dAcX+nQO2AIr6bP/EABX+NgK/Bdj2IQv2AE4EUAiD/xQAnwIm/B0B/wGNAoH7sQaP/b8CiQakAqD+R/9xA477KQL//6r75v/O/pcCgQCtAiMCBQAkANAARwHf//39hgBl/kUAJgEtAUEATgA/AgoASADK/zUAJv29/vL+l/9c/0cAUwBBAE8A6QE5/87/Wv9NAOf+5v7P/5P/4/9BAKYAQwDD/zYB5v+r/zYATwAp/1v/WQAEAB0AhwA0AA0AIAA3AAEAzv/u/+//5v9m/zwAIADQ/8T/SABiANb/SwAbAFf/MQDX/7L/hP8TAPr/AgAMAAsAHwAZAI3/VgDC/9v/5//x/6P/AwBlAMv/yf82AB4A+P9WAPj/NwDi/1EA0v9JANj/JwAcAAEADABYANj/4f8MAEwAmP82AN//3P8UADYA7//6/wIACADU/ygAyv82AN7/9v/2/ygAxv/9/+3/5//n/zUA6//g/y4ADgD5/wsABwDv/xIADwAGACoAJQD3/zIA+/8FABsAFgDO/zAAHAAIABQALADp/xcACAAAAPH/GADs/wkACQAFAAgAFQDp/wIAHAD1//P/EQDw/+3/GAD9/+f/HAD8//T/DAAQAPH/HwD4//r/DwAPAOj/EQACAOn/DAAXAOX/BAAOANH/9/8MAO//9f8LANT/9f8EAO//6f8NANb/+P8KAOz/5v8MAOD/7f8UAO//7//+//7/9v8YAPj/9f/z/wsA+v8SAPD/+v/x/xYA+f8SAPb/9//3/xEABQACAPn/9//y/xQACQD///b//v/7/xIACQD9//H/AAD7/xEAAgD5//P/AwD9/w8AAgD3//D/BAD//wUA/v/0//D/BgADAAMA/P/2//f/BwAGAP7/+//2//j/CAAFAPv/+f/5//v/BwAHAPn/9//7//7/BQAFAPf/9//+/wEABAACAPf/+P8BAAIAAgAAAPj/9/8CAAMAAAD+//n/+f8EAAQA/v/8//r/+/8EAAMA/P/7//z//P8EAAIA/P/5//7//v8DAAEA+//5//////8CAAAA+//5/wEAAAABAP//+//6/wIAAQD///3//P/7/wMAAQD///3//f/9/wIAAQD9//3//v/9/wMAAQD9//z/AAD//wEAAAD9//z/AAAAAAAA///9//3/AAD//wAA/v////7/AAD//wAA////////AAD//wAA//8AAP//\", \"UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD+////+f////v//v///wAA/////wUAAQAIAAIABwACAHkATAAOAaMAAf9C/9X6QvwhArAAtghABW37nv/y+0wAWQNcAE8JRwSOC6AEJe8P8S/zrPWaBI/+LQA/+0L+P/4K8AgAb/8uCh78BQtC614GaQWfAin5UfzN8Tf+GQizAZ4MCQMbGJ4BoRS7AvcHyQARA6n9ZwHZ/z4DvwAZAlAB6gbNAS4GFADFATL7E/2K+j37C/xp/SD9Uv0VAOsDs//WAd3+bv7F/f79mP2X/KH+FwC0/1n+VgFcATABHQGaAET+nf8Y/hoAovpqAXj9CQKW/lsCl/4RApj+bAHk/RcAlv4BAG/+DgDi//3/GwAOAEIAq/+y/3z/8v8+/7T/Tv8//27/mgDZ/1sA+P+cAAAA/P/i/yMAi/85AMP/KgDM/9MA9P+QABoA4QAiACwACwBdAP7/TQDb/y0Ayf+SAA0AZwDg/4wA+/8/AAMAgQDp/w0ADAAQAAoANgAgAA4AKABIAB4A4v/3/+f/+v/c/+n/EADn/wgAFAAqAOz/IwDc/9//3f8XAND/2v/a/w0A5v8BANb/9P/m/wAA8P8ZAN3/RwAGAEsABgB/AP7/NAASAEgABAA3AP3/KgD9/1sA8P8lAOr/FgD1/xAA4/8kAOv/AwD4/xEA5f8NAPT/+v/3/x8A7f8PAPj/IwD5/yAA9/8ZAAEAGgD4/xoA9f8HAAMACAD0/xgA+P8AAPr/IQDp/w4A8v8HAPX/IgD1/wYA+P8GAPX/GgD3/woABQASAAcAGQDw/+v/9P8bAP3/HADs/+f/7/8LAPr//v/0//T/AgD2/wsA6P///+P/CADY//7/5v/3/wQA/v8LAPD/GgD1/yMA/P8QAOv/LADw/yQA+P8XAO7/MQD9/yEAAQAcAPD/IgD9/xMA+/8OAO//FQABAAoA+/8PAPP/FQABAAQA9/8PAPX/CAADAAEA+P8NAPv/CAAGAAUA9/8JAP//AAAFAPz/+f8HAAQA/f8FAP3//P8FAAYA+P8DAP7/+/8AAAcA9/8BAP///f///wgA9//+/wAA/v/8/wUA9//8/wIA///7/wUA+v/7/wIAAAD6/wMA/P/6/wEAAQD6/wEA/v/7/wIAAgD6////AAD7/wEAAgD7//7/AQD8/wAAAwD8//3/AwD9/wAAAgD9//z/AwD/////AgD+//z/AwAAAP7/AQD///3/AgABAP3/AAAAAP3/AgACAPz///8BAP3/AQACAP3//v8BAP7/AAABAP3//v8CAP7///8BAP7//f8CAP////8AAAAA/v8CAAAAAAAAAAAA/v8BAAAAAAD//wAA//8AAP//AAD//wAA//8AAP//\", \"UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAAAAP//AAD//wAA//8AAAAA/////wAAAQD+////AAAGAP3/OAABAIIAAwBv//f/E/0QAK0ADQCzA/7/8P4u/0cBDQCJA6ABbQDg/w7/z/9o+Vn/SPnL/1//Ef+2+jr9RfZgA5QFZwILDFj+PAb2/nEFKgKk/R0Dlv6b/FUDsP6YAoj9SgAT/iL/tAPwAv8A0P6zAr7/dwAnAf39uP22/skA2v///2YCoP4UAUsAZgF2AJH+4P70/rz9+f+U/Xv/8v7CAcb+TACS/kwAv/+x/tX9oP71/oL/1f8nAEUAZwGtAAgAIgC/AD4BaP8GAGH/dQDF/64Arf8nAakAhAH9/+kAQQD3AFb/q/8p/yIAR/8FAPD/ZAA/AIYA3v8tADQADQBp/3f/CwABAP3/Wf8OANj/WwDH/xoAe/8DAKz/zv96/z8A3f/J/5X/IAD5//j/q//c/+//RADq//D/vv8pADUAFQDI/y8ACAAbANb/OwD3/+3/9f/e/wcAIAAeAMH/8/8xAC0AEADW/+3/HAADAPv/8P8DAOL/OwD3/xcACQAHAM//5f8XAAcAz//T/9D/HgD9////yf/e//v/AgD//9H/6/////H/+/8hAAIA9//7/w0AFgAQAPL/2v/8/xsAGQABANz/9P8YAAQA/v/y/wMA5v8YAAkAAAAAAAMA7/8KABgADwDs//j/BwATABsA8P/1//z/BAAMAAAA9P/s/xAA/v8GAAkA/v/p/wMACwALAP7/9P/p/wcADQAFAPb/7//4/w0ACAD8//b//v/1/wMACwD1//T/8P/8/wAACQDz/+f/5P8GAAkABQD5//D/+v8FAA0AAwD///T/AgACABAA/v8CAPD/+/8FAAoA9f/3//f//v8GAP7/9v/t//z/+f8AAPj/+v/3/wEA+v8HAPr//P/5/wQA//8DAPr/+P/3/wYA///+//X/+//5/wQA/f/7//X/+//4/wMA/f/8//j//v/9/wYA///8//f/AgAAAAUA/f/6//n/AwACAAIA/f/7//z/AwACAAAA/f/6//3/AgADAP7//f/7/wAAAwAFAPz////8/wMAAgAEAPv//v/+/wMAAgADAPv//v///wMAAQABAPv//f8AAAIAAAD///v//f8BAAIA///+//z//v8CAAIA/v/9//3///8CAAEA/v/9//7/AAACAAAA/v/9////AAABAAAA/f/9/wAAAQABAP///f/+/wEAAQAAAP///v/+/wEAAQD///7//v///wEAAQD///7//v///wEAAAD+//7///8AAAAAAAD+//7///8AAAAA///+//7///8AAAAA////////AAAAAP////////////8AAP//////////\", \"UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAAAAAAAAAABAAAAAAD//////////////v////3/////////+//8////AQD9//z/9f8BAAIA+f8dACgAWQBxAJX/qv+Y/uz9aP9k/7UDUQQBAiQA4Pgi/AkB0gKaBsD/+fxp/vz9CQSp/I/+ywDO+vMD0fzK/PABcgBeBfoBv/+uAuH9Sf5gAy39awMmBWUBuP9fA9/9fgDj/2/+EACaACcCSv9Z/2j/rv7hAA0AWf55/7L84P7E/SIAT/67AMv/tf+FAA7/1v+7/gv/IP+E/sQA+P5aAXz/tP9XAFX/tP8o/4r/j//e/yQAMv9mAJT/rgCr/9X/EwCb//H/9f7F/6D/EAAoAK3//v+e/zsAh/+B/7r/if/C/2r/4P/z/6//HwCy/0IA7/9ZALT/y/80ACgA9v/J/9//DgA5ADUALQARADIACwAfAOf/NgArACMACQBBAEcAGAAjAC4AWQBUAHcAAAAfACEAIAAcAPj/CADk/yQA7v89AEEAFwD5/xYA6f8aAOX/AADF/zQADwAUAOT/BQDr/yUA6P8XAOf/HADR/0AA8P8nAAgACQDt/ycAKAAHAPH/IQDz/xsACADn//n/DgADAA4A8P///8z/GgDN/yMA/f8QANj/MwACAC0ACwAOAO3/JgAZAAUACgAAAA4AIgAaAAkADwACAAAAHQATAAUABQACAAgACwAjAO////8AAA8ABQAPAPL//f8GAAsABgAGAPD/8v8GAPz/CAD6//H/6v8PAAgABgD4//3/9v8aAAgABwD1//7//v8QAAoACAD//wUA9v8QAAoABAAFAAgAAgAJAAoAAwD//w0AAgD//wcA/v8DAAoABQAFABUABAAKAAYABwAHAA8ACgAGAAwADwAMAAkAEAAJAAgADwAMAAgADgAJAAUACQAPAAUACwAHAAEABgAIAAEABAAGAP//AgAJAAAAAgAEAP7///8IAAIA//8GAAEAAQAJAAIA/v8EAAMA//8JAAEA/v8DAAMA/v8HAAMA/f8BAAUA/v8FAAMA/v8BAAcA//8DAAMA/v8BAAYA//8CAAMA/////wcAAAAAAAMAAAD//wYAAQD+/wMAAQD//wUAAQD+/wIAAgD//wQAAgD+/wEAAwD//wMAAwD+/wEAAwD//wIAAwD//wEABAAAAAEABAD//wAABAABAAAAAwAAAAAABAABAP//AwABAAAAAwACAP//AgACAAAAAwACAP//AgACAAAAAgACAAAAAQADAAAAAQACAAAAAQADAAAAAQACAAAAAAACAAEAAAACAAEAAAACAAEAAAABAAEAAAABAAEAAAABAAEAAAABAAEAAAABAAEAAAABAAEAAAAAAAAAAAAAAAAA\", \"UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAAAAP//AAD//wAA//8AAAAA//8AAP//AAACAAAA+f8BAAYA///4/wIA//8AAA8A/v/V/wEAEwA9AAEBRwA2AF7/kfog/3gBwv99CDYBU/qtAUX/AP7OAfkAX/o9B38FSfwaAuT14/60BAr8CQAI/tfyIQTzAXP+egdUBBwBof7TBMT8bAWi/5EEWwBRAAAKyfxE/8b88vp6ACP+PAF4/qD8MQNM/ygCJ/2XAPD9kP5gAVT/iP9I/lEB4P8qAD0BFAGa/+7/DgB2AOP98gFm/u/+Vv5/AG8ASP9gAM//qv9w//oAcv+2/jIBHgA7/6D/oAAGAKH/lADT/wAAggC8AAYAkP9yAEcAkf8BAOD/RAAr/zUANwDt/xQAJQAkAMT/zwA/AOH/xv9zAGsANQBTAIcALAAvACIATACy/xMADADg/xcAWABvAJL/7f9VAPb/EgDt/wcA4f8kAPP/5P+h/wgACQDy//r/LgAQAMn/8/9CAOX/5v/S/9//3P8pABYAuP/s/w8AFgDt/+3/7v/w/9j/5/8GAOf/2P/2//P//v8kABMAuf/m/xoADADZ/+r/3P8KAAUAKwDe/wsA3P8VAAAADgAfAB0ACAAMAF4AGgAhAPL/MwDz/0kABAAKAPX/LwAbAAkA9v/s/+3/8/8CABAAAADm//n/BQALAAUAAQDj//n/JQAVAPX/9v/+/wIAEQABAPP/8P/1/wAABgD6/+3/7//o//j/DAD8/+b/8P8IAAkABgD4//D/8P8UAAoAAwD4/wAA+f8OAAcAAAAFAPX/9v8TAAkA8v8EAPb/9/8dAA0A7/8CAPn/+f8SAAQA8/8CAOf/+v8DAAgA9P////H//P8IAAUA8//0/wIAAQAGAAgA9//7/wAA+/8EAP//+P/+////AgACAAsA8v/+/wIABQD7/wgA9v/7/wMABAD5/wAA/P/3/wEAAQD7//7//P/1/wQA///3//r////3/wMAAwD1//r/AwD6////AgD4//n/AwD8//7/AgD4//n/AwD+//3/AQD4//n/BQD///n/AAD6//j/BAABAPj/AAD9//v/AwADAPj//v/+//z/AwAEAPj//v8BAP7/AQADAPj//f8CAP////8EAPr//P8DAAAA/v8CAPv//P8DAAEA/f8BAP3//f8DAAIA/P8AAP7//f8DAAIA/P///wAA/f8BAAIA+//+/wEA//8AAAEA+//+/wEA/////wEA/P/+/wEA///+/wAA/f/9/wEAAAD9/wAA/f/+/wEAAQD8/////v/+/wAAAQD8////////////AQD9////AAD/////AAD+////AAAAAP//AAD///////8AAP//AAD//wAA//8AAP//\"];\n      }, function (A, t) {\n        A.exports = [\"UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD+/wQA8/8ZAPr/DAD+/wMA/v8KAAQA/f8DAAMABADs//z/8v/z/8f/R/90/ob+//zAAWsDAwY3DKn9//tu93DvkwI6An4CuwJ0/BH7VPux92X0Gu7N/EX9mgfqCkkIiRMgBd4NQQGL/c0G/xBxAKELZATUA/sIHRSx+fkCyAUmBNEJIARlAdHz2AjNACcIsAW4AlECsvtJ/P/7K/tf++n8aP4W+g0FXAElAMn8nQHn/sT+Zv7N+9X2xvzM/O3+EvpqBBD7SQLd+vb/sPlw/JD72/3n+Rr+L/wS/vz6UQGg/Nf+Av5L/5X9Gv2//SP+mf3j/lf+v/2B/ZH/5P05/iL9MP9F/uf9UP4v/qv9mv7o/Xn+wP2k/8L+uP5J/tD+Dv/Y/bL+mP72/n3+pP+7/hAA+/5zAGH+Z/+u/g8Azv2y/6L+//9o/iIADP8VACz/CwCN/pb/1v4yAFP+wf+4/jsAcf5VAP3+bADa/nMA6f4sAOT+IQBd/v7/7v6aAIL+QADe/nEA0P4yAKz+CQCo/moAuf5xAN7+mAC8/jcANf9eAPX+IAA1/1kAAP9hAMz+PQD5/m0A2/4gAPr+UQDh/jQAEv9BAPH+FABN/zkASv9DADP/BABe/1IAGf8oAE3/RQAw/zIAQf8mADn/GgBE/xIAR/8hAD7/BABy/zEAKP/0/07/GwBX/z4ARf8mAFr/QQBV/zUAVP8eAFz/JABt/0EAUP8MAHz/KgBr/ycAYv8EAH3/MABl/x8Agv8bAIj/GgBv//z/ff8AAJX/IABu/+T/jv/r/4z/9/9n/77/pP8JAJD/EQCJ//r/q/8WAJ//GQCU/xYAtv8qAKr/PQCW/ysAwf8+ALb/OgC3/ygAz/8uAM7/OgDH/ygAz/8kAMz/OgC//xsA1f8qAMn/LwDN/xcA1f8oAMv/JQDR/xMAzf8bAM//HgDU/wUA2v8ZANL/EwDW/wEA1f8ZAMz/BwDX/wIA0v8SANT/BQDW/wMA0/8PANT/AADY/wIA1f8MANX/+f/a/wUA0v8IANf/+//Y/wUA0/8DANr/+f/Y/wQA1v8BANr/+f/Z/wUA1//8/9z/+v/Y/wYA2f/8/93//v/Y/wUA2v/9/93////Z/wUA3P/8/97/AgDa/wMA3v/8/97/AwDb/wIA3//9/97/BADd/wEA4f///9//BQDf/wAA4v8AAN//BQDf/wAA4/8CAN//BADh/wAA4/8DAOD/BADi////4/8DAOH/AwDk/wAA5P8FAOL/AgDl/wEA5P8FAOL/AQDl/wEA4/8EAOL/AQDj/wIA4P8DAN//AADg/wIA3v8CAOD/AADh/wEA4v8AAOP/AADm/wAA6P8AAOz/AADu/wAA\", \"UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD//////f/+//7///8AAP////8BAAEA/f8AAAEAAQAFAAUA9//6/x0A2f/9/xMA3P+jAE//of9HAKP//gCj/77/Z/vi/28D9/ywDJAJIvr6AsX0Xec4BhcGzf23DZP7yfZ6C1//nwBDBIHyYgob/Tf3sQ41ANoKRA/A+E7yffAa9gD5EQUBDMwMygiqAHMAqPqhAGUB2/gE+a78H/+4APT6DwIUAA0HNwMhBfL8E/90A5n7dP9cALIC+v5C/q0AOv9kAogBHv01/+3/qAQD/ub8T/4vAOUA5P6KATv+ywEYAeT+KP6i/3gCFP6h/hr/+P83ACL/VADn/8UARQJI/4MAu/8qAlj+wf4iAPb/LgFJ/8QAUABAAI4ABf+k/3X/YgFK/ij/j/9HADoAi/+WAA0BVwC/ACL/LACe//cARv9i/xgAUgA0ACj/FgBgAIj/5P9M/7z/zv8/AKz/gv8sAEQA6/+I/yYAawDL/7T/xf8qAOv/FQCu/5n/EgAyAO3/i/9LAE4A+//R//P/FgDe/8z/u/8DADIALAAZALL/TAA8ABwAo//1/xwA/P/L/z0A6P8jAN7/7v+a/zAAwf/7/3//KQAuACwA9v8RAGYAIwBNADgAKgASAF0ADgANACEAMQDH//H/LQACAB0Ay////x0APAABAAQA2v8iAAcAEgDE/+v/FQD+/+P/DAD1/97/6v/4//X/EwD4/+7/5P8cAA0ACQDH//7/CQAXAAEA/P/5//j/CwAWAAEABQD9//n/AQAWAB0A7v/k/wAACQAmAP//9/8AAPn/8/8aAO//6/8fAOv/5v8hAP//5/8PAOf/AAAGAPn/6v8JAAYABgABAOv/1//1//L/+P8DABcA6f/8/wMACgD7/xAA3v/2//z/DADu//z/5v/5/wEA/P/6//7/7v/x/wQABgD5/wAA8v/w/wkAEQD2//j/+v8EAAcAEAD3//v/+v8CAAAACQD3//v//v/9/wUADAD2//X/AgAHAAAABwD2//T/BgAKAP7/AQD4//r/BAAIAPn/AAD3//f/BQAHAPv//v/7//n/BQAJAPj/+v/9//7/AgAGAPj/+f8BAAEAAgAFAPn/+v8BAAIAAAAEAPn/+f8CAAQA/v8BAPr/+v8CAAQA/P////v//P8CAAQA+//+//3//f8CAAUA+v/9//////8AAAQA+v/8////AAD//wIA+//8/wAAAQD+/wEA+//8/wAAAgD9/////P/9/wEAAgD8//7//f/9/wAAAgD8//3//v/+////AQD8//z/////////AAD8//3///8AAP7/AAD9//7///8AAP7////+//////8AAP7////+////////////////////\", \"UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD//////v8AAP///////wAAAAAAAP7/AQABAAAABwD///X/BQAjAPL/CQDb/9D/GAAb/7sAYwCW/z0BcP/X/7T/2QDW+wH8yANCCCUJ5QT++UXmhPwhA78FuAxH+p78ifudBlAG9vmu/lAK2fdlB///cfjoCa0E7Akn9Yb/zvba+AkAHPywBGEBFwUNAL8AXAAGA20DFvmR/kz+F/06Ag/+GwHl/5EEKgJd/q0AP/ym/9n6EfxY/2H+/QFtAC4C6QBDAaMCo/20/+3/3f/p/fL9rv9V/6cBhQHuAX4AcwJYAaH/IP/P/gsApP0LAe7/sQBuAI0AAgGDAE4BzACe/5X//v+v/+f+Zf+gAOv/5QBhAOIApAANASYAuP+h/8b/HQBr/9//bACWAGEAFAB5AD0AWQDU/+D/Yf/p//D/s/+R/4QAMQBvABEAkQBfABQAJgDW/wwA8/8XALz/vf8zAFAAKwD1/zEAPwDJ/x0A7/8LAOX/FwDR//H/EQAdAO//6P8QAFEA2f8WABEAMgDy/xIA+f/s/xAALgDv////HQAvAPT/+f8iAAYAEgAFABoAGgD//w0A+f/0/xsAHgDx/9f/GAACAPH/8f8JAPf/GwALABEA7/8cAPT/CgD2//j/BQD8/+3/OgAgAAYA9f8PAN7/DgD9/9r/1//3/+3/9//1//b/8//5//f/AgAJAOf/+v8OAAMACwD9/+7/5f8eAAEA9//q//7/8P8WAP7/+//4/wIA+f8TAAIA9f/5/wcA+P8iAAgA9v/n/xoA//8gAAUABwDj/wAA9v8BAAUAFQDn/wMA7v8QABAAEQDm/wwA8f8aAAAABwDu/wcACgASAAEA7//w//f/BgARAAkA6P/3/wcADgAKAAYA4f/4/wYADgAAAPr/8P/9/xQACgAHAPn/7//9/xEAAgD+//L/8v/8/xUAAwDw//H/9f8CAAsA/v/q//L/+f8FAAYA/P/r//j///8GAAkA+//o//j/AQAIAP//+v/o//v/CAAIAPv/+P/w/wEACQAHAPj/+f/0/wIACwAFAPb/+f/4/wQACwACAPP/+f/+/wYACAD///L/+/8BAAYABQD9//P//P8FAAUAAgD7//T//f8HAAQA///7//f///8IAAMA/P/6//r/AQAIAAEA+v/6//3/AgAHAAAA+f/7/wAAAwAFAP7/+P/8/wIAAgACAP3/+f/9/wMAAwAAAPz/+v/+/wQAAgD+//z/+/8AAAQAAQD8//z//f8BAAQAAAD7//3///8BAAMA///7//3/AAACAAEA/v/7//7/AQABAAAA/v/9////AQAAAP///v/+////AAD/////////////////////////////\", \"UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD////////+//////8AAAAA/v/+/wAAAQD8//3/CQAJAP3/+v8PAAcApABlABkBkwCO/i//lfqa/HQAcf/3BdkCzwJcBCMC0wMN/9/9wgI7AaECYfxV/Tf83vhn/xrt8Owx/8n7cgHABYb43QcZDh4WugNrA7P74gHu/9z/zv0t/acCiQHY/iv4qQOl/ysCE/0//XT9Sf4O//j9xfupAn394gHO+rsCXAFIAxQC9wIXBgcD2AQuAnb/9gJh/6wAVfxEAI4Bvf7oAFv/bALsAMQBe/88/joAT/4dAH39/v9LAXn/gwDI//QBdABcAA0A7f4lAMn///+9/tv/iABp/13/pP/dALv/w/8MAHv//f+y/6////7U/5AAZP+Z/8r/nQDR/5r/DwDr/xAA4v+s/3z/+P9uAOv/t/82AGcAHgCb/yQAFQBGAM7/CgD3/xoAegAaAOz/CgBHAA8Adv8/AAAABQC2/xIAAAA7ABQAKgCj/z4AAQAXAJz/JAADAAcA8f/1/2AAAQAlAPD/NgDx/1wA7v/4/wMAZADv//3/HQAkAFoA8P9FAPv/FgBIAPf/WQAHAEUACQD0/xIAQwDu/wMAwP9VALn/XwCw/yEA5f8sAPj/FgDD/1YAyv8rAOX/HQDo//j/IQAQACAAHwD9/yQAHQBAABgABQAiAAUAKAD3/wkACwAKAAMABwAJAPb/+f8GAOr/JQAHABMA6P8TAA4AGgD//woA8/8ZAP//GADu/w0A9v8SAAMABwD4/wQA5P8XAAQACgDq/wUA+/8VAAcACADs/xIAAAATAPH/+v/1//T/7f///+z/+v/y/+//9/8KAAcACgAJAPT/BAAKAAAABgAIAPL/9v8KAAMABAACAPr/9v8OAAIA+P/x//v/+f8MAPb/+P/w/wQA9f8MAPn////7/woA/v8PAAEAAgD1/xAAAQAPAP//AwD//xQABwALAAAABgADABAAAgAHAAAACAABAA8ABQAFAAMABwAEAA4ABwADAAEACQAFAAoAAwD//wAACQADAAUAAQD/////CAABAAMAAAD/////BwACAAEAAAD/////BwACAP7///8BAAAABgABAP7///8CAAAABAAAAP7///8DAAAAAwAAAP3///8DAAAAAQAAAP3//v8EAAAAAAD+//////8EAP/////+/wAA/v8EAP/////+/wEA/v8EAP///v/+/wIA//8DAP///v/+/wIA//8BAP///v/+/wMA//8BAP/////+/wMA//8AAP//AAD+/wQA//8AAP7/AQD//wIA////////AQD//wIA////////AQAAAAEAAAAAAP//AQD//wEAAAAAAP//AQAAAAEAAAAAAAAA\", \"UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD+/wAA+v8AAPz/AAD//wAA/f8AAAEAAAD+/wAACQAAAAQAAAAZAAAAtgAAAFsBAABW/gAAH/oAAGcBAABoBwAAlAAAAO3/AAARAQAA+wIAAEoEAACe/gAAiv4AALD0AADJ8wAAkQQAAF34AABi8QAAPQAAAAH2AAD19AAADAMAAJwGAACTEAAA0AwAAJkHAACOBwAAuQEAANcDAAC6AgAAHwUAAHEFAAB0AwAAbgEAADz+AADYAQAAGAAAAJwCAADgAAAA//0AAMn+AAAT/AAAwP8AAOn9AAAJAAAAewEAAOn+AACN/wAAOv0AAO3+AADN/gAAcP8AACj/AACq/gAA+f4AAML9AACa/wAA/f4AAN7/AABo/wAA6/4AAE//AAAC/wAAEQAAAHX/AAB0AAAA5f8AAEwAAAB3AAAA5/8AAMIAAABCAAAAzgAAAE8AAAB3AAAAKAAAADMAAACqAAAALwAAAK4AAAASAAAAVgAAACgAAAAtAAAATAAAAP3/AAA7AAAA2/8AACQAAADw/wAALQAAADEAAAAlAAAAbAAAADMAAABUAAAAEAAAACgAAAD1/wAA9v8AAPr/AADu/wAALgAAABIAAABUAAAARAAAAGUAAABGAAAAOAAAAGAAAAAuAAAARQAAACEAAAAfAAAAAAAAAAkAAAAQAAAAAwAAABIAAADs/wAAEAAAAAYAAAASAAAAIgAAABEAAAADAAAABAAAAA8AAAD4/wAAHQAAAAsAAAAIAAAADgAAAP//AAAcAAAADwAAAAYAAAASAAAAFwAAAAMAAAAYAAAAEgAAAPr/AAAQAAAADQAAAAoAAAD3/wAABgAAAPb/AADf/wAA/v8AAPL/AAD6/wAAFAAAAAQAAAAEAAAAGwAAAAEAAAAMAAAAIAAAAAIAAAAdAAAAGAAAAAIAAAAcAAAAEgAAAAcAAAAeAAAADwAAAAQAAAAeAAAABAAAAAYAAAAZAAAAAQAAAA4AAAATAAAA/v8AAAoAAAAOAAAA+/8AAAsAAAAJAAAA+f8AAAsAAAABAAAA+f8AAAoAAAD9/wAA+v8AAAcAAAD5/wAA+v8AAAUAAAD3/wAA/f8AAAQAAAD2/wAAAAAAAAEAAAD3/wAAAgAAAAAAAAD4/wAAAwAAAP7/AAD6/wAABAAAAP3/AAD8/wAABAAAAPv/AAD+/wAAAwAAAPv/AAD//wAAAQAAAPv/AAAAAAAAAAAAAPv/AAACAAAA//8AAPz/AAACAAAA/v8AAP3/AAACAAAA/f8AAP7/AAABAAAA/f8AAP//AAABAAAA/f8AAAAAAAAAAAAA/v8AAAEAAAAAAAAA//8AAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"];\n      }, function (A, t, e) {\n        \"use strict\";\n\n        t.getBrowserInfo = function () {\n          var A = navigator.userAgent;\n          var t,\n            e = A.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*([\\d\\.]+)/i) || [];\n          if (/trident/i.test(e[1])) return t = /\\brv[ :]+(\\d+)/g.exec(A) || [], {\n            name: \"IE\",\n            version: t[1] || \"\"\n          };\n          if (\"Chrome\" === e[1] && null != (t = A.match(/\\bOPR|Edge\\/(\\d+)/))) return {\n            name: \"Opera\",\n            version: t[1]\n          };\n          e = e[2] ? [e[1], e[2]] : [navigator.appName, navigator.appVersion, \"-?\"], null != (t = A.match(/version\\/([\\d.]+)/i)) && e.splice(1, 1, t[1]);\n          var i = A.match(/android|ipad|iphone/i);\n          return i || (i = A.match(/cros|linux|mac os x|windows/i)), {\n            name: e[0],\n            version: e[1],\n            platform: i ? i[0] : \"unknown\"\n          };\n        }, t.patchSafari = function () {\n          window.webkitAudioContext && window.webkitOfflineAudioContext && (window.AudioContext = window.webkitAudioContext, window.OfflineAudioContext = window.webkitOfflineAudioContext);\n        };\n      }, function (A, t, e) {\n        \"use strict\";\n\n        A.exports = \"1.0.6\";\n      }]);\n    });\n  }, function (A, t, e) {\n    \"use strict\";\n\n    A.exports = \"0.0.4\";\n  }]);\n});\n\n//# sourceURL=webpack://sound-particle-visualization/./src/audio/surround-sound-context.js?");

/***/ }),

/***/ "./src/fonts/Garet-Book.ttf":
/*!**********************************!*\
  !*** ./src/fonts/Garet-Book.ttf ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("module.exports = __webpack_require__.p + \"927f4e0c1c6f398e18ed.ttf\";\n\n//# sourceURL=webpack://sound-particle-visualization/./src/fonts/Garet-Book.ttf?");

/***/ }),

/***/ "./src/main.js":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _components_ParticleSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/ParticleSystem */ \"./src/components/ParticleSystem.js\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls.js */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var _components_EvolvingUI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/EvolvingUI */ \"./src/components/EvolvingUI.js\");\n/* harmony import */ var _components_SaveMode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/SaveMode */ \"./src/components/SaveMode.js\");\n/* harmony import */ var _components_Library__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/Library */ \"./src/components/Library.js\");\n/* harmony import */ var _components_PythonCommunication_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/PythonCommunication.js */ \"./src/components/PythonCommunication.js\");\n/* harmony import */ var _audio_SurroundController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./audio/SurroundController.js */ \"./src/audio/SurroundController.js\");\n/* harmony import */ var _components_LoadingScreen_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/LoadingScreen.js */ \"./src/components/LoadingScreen.js\");\n/* harmony import */ var _components_Tutorial_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/Tutorial.js */ \"./src/components/Tutorial.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_EffectComposer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer.js */ \"./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/RenderPass.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_UnrealBloomPass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! three/examples/jsm/postprocessing/UnrealBloomPass.js */ \"./node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/ShaderPass.js\");\n/* harmony import */ var _styles_css__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./styles.css */ \"./src/styles.css\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t[\"return\"] || t[\"return\"](); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// CRITICAL: Block ALL keyboard events completely (except Escape in modes)\ndocument.addEventListener('keydown', function (e) {\n  var _document$querySelect, _document$querySelect2, _document$querySelect3;\n  // CRITICAL: Don't intercept if user is in ANY input field\n  var activeEl = document.activeElement;\n  var isInInput = activeEl && (activeEl.tagName === 'INPUT' || activeEl.tagName === 'TEXTAREA' || activeEl.isContentEditable || activeEl.closest('input') || activeEl.closest('textarea'));\n  if (isInInput) {\n    console.log(' Allowing input field:', activeEl.tagName);\n    return; // Let input fields work normally\n  }\n\n  // Block ALL keys during mode transitions\n  if (window.__modeTransitioning) {\n    console.log(' BLOCKING ALL KEYS during transition:', e.key);\n    e.preventDefault();\n    e.stopPropagation();\n    e.stopImmediatePropagation();\n    return;\n  }\n\n  // Check if in special mode\n  var isSaveMode = ((_document$querySelect = document.querySelector('#save-btn .button-text')) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.textContent) === 'EXIT SAVE';\n  var isEvolveMode = ((_document$querySelect2 = document.querySelector('#evolve-btn .button-text')) === null || _document$querySelect2 === void 0 ? void 0 : _document$querySelect2.textContent) === 'EXIT EVOLVE';\n  var isLibraryMode = ((_document$querySelect3 = document.querySelector('#library-btn .button-text')) === null || _document$querySelect3 === void 0 ? void 0 : _document$querySelect3.textContent) === 'EXIT LIBRARY';\n  if (isSaveMode || isEvolveMode || isLibraryMode) {\n    // Allow ONLY Escape key in modes\n    if (e.key === 'Escape') {\n      console.log(' Allowing Escape in mode');\n      return;\n    }\n\n    // Block everything else (including all letters, numbers, etc.)\n    console.log(' BLOCKING key in mode:', e.key);\n    e.preventDefault();\n    e.stopPropagation();\n    e.stopImmediatePropagation();\n    return;\n  }\n\n  // CRITICAL: In main scene, block ALL keys (no shortcuts allowed)\n  console.log(' BLOCKING key in main scene:', e.key);\n  e.preventDefault();\n  e.stopPropagation();\n  e.stopImmediatePropagation();\n}, true); // Use capture phase\n\n// CRITICAL: Block keyup as well\ndocument.addEventListener('keyup', function (e) {\n  var _document$querySelect4, _document$querySelect5, _document$querySelect6;\n  var activeEl = document.activeElement;\n  var isInInput = activeEl && (activeEl.tagName === 'INPUT' || activeEl.tagName === 'TEXTAREA' || activeEl.isContentEditable);\n  if (isInInput) return;\n  if (window.__modeTransitioning) {\n    e.preventDefault();\n    e.stopPropagation();\n    e.stopImmediatePropagation();\n    return;\n  }\n  var isSaveMode = ((_document$querySelect4 = document.querySelector('#save-btn .button-text')) === null || _document$querySelect4 === void 0 ? void 0 : _document$querySelect4.textContent) === 'EXIT SAVE';\n  var isEvolveMode = ((_document$querySelect5 = document.querySelector('#evolve-btn .button-text')) === null || _document$querySelect5 === void 0 ? void 0 : _document$querySelect5.textContent) === 'EXIT EVOLVE';\n  var isLibraryMode = ((_document$querySelect6 = document.querySelector('#library-btn .button-text')) === null || _document$querySelect6 === void 0 ? void 0 : _document$querySelect6.textContent) === 'EXIT LIBRARY';\n  if (isSaveMode || isEvolveMode || isLibraryMode) {\n    if (e.key === 'Escape') return;\n    e.preventDefault();\n    e.stopPropagation();\n    e.stopImmediatePropagation();\n    return;\n  }\n\n  // Block all keys in main scene\n  e.preventDefault();\n  e.stopPropagation();\n  e.stopImmediatePropagation();\n}, true);\n\n// CRITICAL: Block keypress as well\ndocument.addEventListener('keypress', function (e) {\n  var _document$querySelect7, _document$querySelect8, _document$querySelect9;\n  var activeEl = document.activeElement;\n  var isInInput = activeEl && (activeEl.tagName === 'INPUT' || activeEl.tagName === 'TEXTAREA' || activeEl.isContentEditable);\n  if (isInInput) return;\n  if (window.__modeTransitioning) {\n    e.preventDefault();\n    e.stopPropagation();\n    e.stopImmediatePropagation();\n    return;\n  }\n  var isSaveMode = ((_document$querySelect7 = document.querySelector('#save-btn .button-text')) === null || _document$querySelect7 === void 0 ? void 0 : _document$querySelect7.textContent) === 'EXIT SAVE';\n  var isEvolveMode = ((_document$querySelect8 = document.querySelector('#evolve-btn .button-text')) === null || _document$querySelect8 === void 0 ? void 0 : _document$querySelect8.textContent) === 'EXIT EVOLVE';\n  var isLibraryMode = ((_document$querySelect9 = document.querySelector('#library-btn .button-text')) === null || _document$querySelect9 === void 0 ? void 0 : _document$querySelect9.textContent) === 'EXIT LIBRARY';\n  if (isSaveMode || isEvolveMode || isLibraryMode) {\n    if (e.key === 'Escape') return;\n    e.preventDefault();\n    e.stopPropagation();\n    e.stopImmediatePropagation();\n    return;\n  }\n\n  // Block all keys in main scene\n  e.preventDefault();\n  e.stopPropagation();\n  e.stopImmediatePropagation();\n}, true);\nvar scene, camera, renderer, particleSystem, controls;\nvar composer, bloomPass, grainPass;\nvar staticFrequencyData;\nvar saveMode;\nvar loadingScreen;\n// NEW\nvar tutorial;\nvar tutorialShown = false;\n\n// Materials for selective bloom\nvar BLOOM_SCENE = 1;\nvar bloomLayer = new three__WEBPACK_IMPORTED_MODULE_14__.Layers();\nbloomLayer.set(BLOOM_SCENE);\nfunction createNavigationStructure() {\n  // Create hamburger menu container\n  var hamburgerContainer = document.createElement('div');\n  hamburgerContainer.className = 'hamburger-menu';\n\n  // Create hamburger button\n  var hamburgerButton = document.createElement('button');\n  hamburgerButton.className = 'hamburger-button';\n  hamburgerButton.innerHTML = \"\\n        <img src=\\\"/assets/icons/hamburger-menu.svg\\\" alt=\\\"Menu\\\" />\\n    \";\n\n  // Create options container\n  var optionsContainer = document.createElement('div');\n  optionsContainer.className = 'hamburger-options';\n  hamburgerContainer.appendChild(hamburgerButton);\n  hamburgerContainer.appendChild(optionsContainer);\n  document.body.appendChild(hamburgerContainer);\n\n  // Toggle menu functionality\n  var isMenuOpen = false;\n  hamburgerButton.addEventListener('click', function () {\n    isMenuOpen = !isMenuOpen;\n    hamburgerButton.classList.toggle('open', isMenuOpen);\n    optionsContainer.classList.toggle('open', isMenuOpen);\n  });\n  document.addEventListener('click', function (e) {\n    if (!hamburgerContainer.contains(e.target) && isMenuOpen) {\n      var _document$querySelect10;\n      var isSaveModeActive = ((_document$querySelect10 = document.querySelector('#save-btn .button-text')) === null || _document$querySelect10 === void 0 ? void 0 : _document$querySelect10.innerText) === 'EXIT SAVE';\n      if (!isSaveModeActive) {\n        isMenuOpen = false;\n        hamburgerButton.classList.remove('open');\n        optionsContainer.classList.remove('open');\n      }\n    }\n  });\n\n  // Store references for components to use\n  window.navigationContainers = {\n    hamburgerMenu: optionsContainer,\n    topLeft: document.createElement('div'),\n    topRight: document.createElement('div'),\n    bottomLeft: document.createElement('div'),\n    bottomRight: document.createElement('div')\n  };\n}\nfunction init() {\n  var _saveMode;\n  createNavigationStructure();\n\n  // Create the scene\n  scene = new three__WEBPACK_IMPORTED_MODULE_14__.Scene();\n\n  // Enhanced darker gradient background for more contrast\n  var canvas = document.createElement('canvas');\n  canvas.width = 512;\n  canvas.height = 512;\n  var context = canvas.getContext('2d');\n  var axesHelper = new three__WEBPACK_IMPORTED_MODULE_14__.AxesHelper(5);\n  scene.add(axesHelper);\n  var gradient = context.createRadialGradient(256, 256, 0, 256, 256, 512);\n  gradient.addColorStop(0, '#0a0a20'); // Lighter center (was #050515)\n  gradient.addColorStop(0.4, '#060a18'); // Lighter mid (was #030815)\n  gradient.addColorStop(0.8, '#040815'); // Lighter outer (was #020520)\n  gradient.addColorStop(1, '#020205'); // Very dark edge instead of pure black (was #000000)\n\n  context.fillStyle = gradient;\n  context.fillRect(0, 0, 512, 512);\n  var backgroundTexture = new three__WEBPACK_IMPORTED_MODULE_14__.CanvasTexture(canvas);\n  scene.background = backgroundTexture;\n  var gridSize = 600;\n  var gridDivisions = 60;\n\n  // Create custom grid geometry\n  var gridGeometry = new three__WEBPACK_IMPORTED_MODULE_14__.PlaneGeometry(gridSize, gridSize, gridDivisions, gridDivisions);\n\n  // Fixed shader material for dynamic grid visibility\n  var gridMaterial = new three__WEBPACK_IMPORTED_MODULE_14__.ShaderMaterial({\n    uniforms: {\n      time: {\n        value: 0\n      },\n      lightPositions: {\n        value: new Array(60).fill(0)\n      },\n      lightIntensities: {\n        value: new Array(20).fill(0)\n      },\n      maxLights: {\n        value: 0\n      },\n      gridColor: {\n        value: new three__WEBPACK_IMPORTED_MODULE_14__.Color().setHSL(0.6, 0.5, 0.3)\n      },\n      // INCREASED lightness from 0.3 to 0.4\n      gridOpacity: {\n        value: 0.45\n      } // INCREASED from 0.4 to 0.5\n    },\n    vertexShader: \"\\n            varying vec2 vUv;\\n            varying vec3 vWorldPosition;\\n            \\n            void main() {\\n                vUv = uv;\\n                vec4 worldPosition = modelMatrix * vec4(position, 1.0);\\n                vWorldPosition = worldPosition.xyz;\\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n            }\\n        \",\n    fragmentShader: \"\\n            uniform float time;\\n            uniform vec3 lightPositions[20];\\n            uniform float lightIntensities[20];\\n            uniform int maxLights;\\n            uniform vec3 gridColor;\\n            uniform float gridOpacity;\\n            \\n            varying vec2 vUv;\\n            varying vec3 vWorldPosition;\\n            \\n            void main() {\\n                // Create grid pattern\\n                vec2 grid = abs(fract(vUv * 60.0) - 0.5) / fwidth(vUv * 60.0);\\n                float line = min(grid.x, grid.y);\\n                float gridPattern = 1.0 - min(line, 1.0);\\n                \\n                // Calculate illumination from lights (particles/solids)\\n                float totalIllumination = 0.0;\\n                \\n                for(int i = 0; i < 20; i++) {\\n                    if(i >= maxLights) break;\\n                    \\n                    vec3 lightPos = lightPositions[i];\\n                    float lightIntensity = lightIntensities[i];\\n                    \\n                    if(lightIntensity > 0.0) {\\n                        float distance = length(vWorldPosition.xz - lightPos.xz);\\n                        float falloff = 1.0 / (1.0 + distance * distance * 0.015);\\n                        totalIllumination += falloff * lightIntensity;\\n                    }\\n                }\\n                \\n                // Show grid where there's illumination (no pulsing)\\n                float finalOpacity = gridPattern * totalIllumination * gridOpacity;\\n                \\n                gl_FragColor = vec4(gridColor, finalOpacity);\\n            }\\n        \",\n    transparent: true,\n    depthWrite: false,\n    side: three__WEBPACK_IMPORTED_MODULE_14__.DoubleSide\n  });\n  var dynamicGrid = new three__WEBPACK_IMPORTED_MODULE_14__.Mesh(gridGeometry, gridMaterial);\n  dynamicGrid.rotation.x = -Math.PI / 2;\n  dynamicGrid.position.y = -0.1;\n  scene.add(dynamicGrid);\n\n  // Store reference for updates\n  scene.userData.dynamicGrid = dynamicGrid;\n  var lineGroup = new three__WEBPACK_IMPORTED_MODULE_14__.Group();\n\n  // Create horizontal floating lines that move\n  for (var i = 0; i < 25; i++) {\n    var lineGeometry = new three__WEBPACK_IMPORTED_MODULE_14__.BufferGeometry();\n    var linePositions = new Float32Array([-100, 0, 0, 100, 0, 0]);\n    lineGeometry.setAttribute('position', new three__WEBPACK_IMPORTED_MODULE_14__.BufferAttribute(linePositions, 3));\n    var lineMaterial = new three__WEBPACK_IMPORTED_MODULE_14__.LineBasicMaterial({\n      color: new three__WEBPACK_IMPORTED_MODULE_14__.Color().setHSL(0.65, 0.25, 0.25 + Math.random() * 0.20),\n      transparent: true,\n      opacity: 0.15 + Math.random() * 0.15\n    });\n    var line = new three__WEBPACK_IMPORTED_MODULE_14__.Line(lineGeometry, lineMaterial);\n    line.position.set((Math.random() - 0.5) * 400, Math.random() * 100 - 20, (Math.random() - 0.5) * 400);\n    line.rotation.y = Math.random() * Math.PI * 2;\n\n    // Enhanced animation properties\n    line.userData = {\n      speed: Math.random() * 0.03 + 0.01,\n      direction: Math.random() > 0.5 ? 1 : -1,\n      oscillationSpeed: Math.random() * 0.5 + 0.3,\n      oscillationAmplitude: Math.random() * 2 + 1,\n      // This is the complete line\n      originalY: line.position.y,\n      movementType: 'horizontal'\n    };\n    lineGroup.add(line);\n  }\n\n  // Create vertical floating lines that move\n  for (var _i = 0; _i < 20; _i++) {\n    var _lineGeometry = new three__WEBPACK_IMPORTED_MODULE_14__.BufferGeometry();\n    var _linePositions = new Float32Array([0, -50, 0, 0, 50, 0]);\n    _lineGeometry.setAttribute('position', new three__WEBPACK_IMPORTED_MODULE_14__.BufferAttribute(_linePositions, 3));\n    var _lineMaterial = new three__WEBPACK_IMPORTED_MODULE_14__.LineBasicMaterial({\n      color: new three__WEBPACK_IMPORTED_MODULE_14__.Color().setHSL(0.6, 0.4, 0.20 + Math.random() * 0.15),\n      transparent: true,\n      opacity: 0.10 + Math.random() * 0.25\n    });\n    var _line = new three__WEBPACK_IMPORTED_MODULE_14__.Line(_lineGeometry, _lineMaterial);\n    _line.position.set((Math.random() - 0.5) * 300, Math.random() * 80, (Math.random() - 0.5) * 300);\n    _line.userData = {\n      speed: Math.random() * 0.02 + 0.008,\n      direction: Math.random() > 0.5 ? 1 : -1,\n      oscillationSpeed: Math.random() * 0.4 + 0.15,\n      oscillationAmplitude: Math.random() * 3 + 1.5,\n      originalX: _line.position.x,\n      movementType: 'vertical'\n    };\n    lineGroup.add(_line);\n  }\n  for (var _i2 = 0; _i2 < 15; _i2++) {\n    var _lineGeometry2 = new three__WEBPACK_IMPORTED_MODULE_14__.BufferGeometry();\n    var _linePositions2 = new Float32Array([-30, -30, 0, 30, 30, 0]);\n    _lineGeometry2.setAttribute('position', new three__WEBPACK_IMPORTED_MODULE_14__.BufferAttribute(_linePositions2, 3));\n    var _lineMaterial2 = new three__WEBPACK_IMPORTED_MODULE_14__.LineBasicMaterial({\n      color: new three__WEBPACK_IMPORTED_MODULE_14__.Color().setHSL(0.65, 0.2, 0.12 + Math.random() * 0.12),\n      transparent: true,\n      opacity: 0.1 + Math.random() * 0.2\n    });\n    var _line2 = new three__WEBPACK_IMPORTED_MODULE_14__.Line(_lineGeometry2, _lineMaterial2);\n    _line2.position.set((Math.random() - 0.5) * 350, Math.random() * 60 + 10, (Math.random() - 0.5) * 350);\n    _line2.rotation.z = Math.random() * Math.PI;\n\n    // Enhanced animation properties\n    _line2.userData = {\n      speed: Math.random() * 0.025 + 0.005,\n      direction: Math.random() > 0.5 ? 1 : -1,\n      rotationSpeed: (Math.random() - 0.5) * 0.01,\n      oscillationSpeed: Math.random() * 0.3 + 0.1,\n      oscillationAmplitude: Math.random() * 4 + 2,\n      originalZ: _line2.position.z,\n      movementType: 'diagonal'\n    };\n    lineGroup.add(_line2);\n  }\n  scene.add(lineGroup);\n  scene.userData.floatingLines = lineGroup;\n  var starsGeometry = new three__WEBPACK_IMPORTED_MODULE_14__.BufferGeometry();\n  var starsCount = 3000;\n  var starsPositions = new Float32Array(starsCount * 3);\n  var starsColors = new Float32Array(starsCount * 3);\n  for (var _i3 = 0; _i3 < starsCount * 3; _i3 += 3) {\n    // Distribute stars in a large sphere around the scene\n    var radius = 400 + Math.random() * 800;\n    var theta = Math.random() * Math.PI * 2;\n    var phi = Math.random() * Math.PI;\n    starsPositions[_i3] = radius * Math.sin(phi) * Math.cos(theta); // x\n    starsPositions[_i3 + 1] = radius * Math.cos(phi) - 200; // y \n    starsPositions[_i3 + 2] = radius * Math.sin(phi) * Math.sin(theta); // z\n\n    // INCREASED brightness for all stars\n    var colorVariation = Math.random();\n    if (colorVariation < 0.3) {\n      // Blue-white stars - BRIGHTER\n      starsColors[_i3] = 0.6 + Math.random() * 0.3; // R (was 0.4 + 0.2)\n      starsColors[_i3 + 1] = 0.7 + Math.random() * 0.3; // G (was 0.5 + 0.2)\n      starsColors[_i3 + 2] = 0.9 + Math.random() * 0.1; // B (was 0.7 + 0.2)\n    } else if (colorVariation < 0.7) {\n      // White stars - MUCH BRIGHTER\n      var white = 0.85 + Math.random() * 0.15; // (was 0.6 + 0.2)\n      starsColors[_i3] = white; // R\n      starsColors[_i3 + 1] = white; // G\n      starsColors[_i3 + 2] = white; // B\n    } else {\n      // Slightly yellow stars - BRIGHTER\n      starsColors[_i3] = 0.9 + Math.random() * 0.1; // R (was 0.7 + 0.2)\n      starsColors[_i3 + 1] = 0.8 + Math.random() * 0.15; // G (was 0.6 + 0.15)\n      starsColors[_i3 + 2] = 0.6 + Math.random() * 0.2; // B (was 0.4 + 0.15)\n    }\n  }\n  starsGeometry.setAttribute('position', new three__WEBPACK_IMPORTED_MODULE_14__.BufferAttribute(starsPositions, 3));\n  starsGeometry.setAttribute('color', new three__WEBPACK_IMPORTED_MODULE_14__.BufferAttribute(starsColors, 3));\n  var starsMaterial = new three__WEBPACK_IMPORTED_MODULE_14__.PointsMaterial({\n    size: 2.3,\n    // INCREASED from 1.2 to 2.8 (much larger)\n    transparent: true,\n    opacity: 0.7,\n    // INCREASED from 0.7 to 0.95 (almost opaque)\n    vertexColors: true,\n    fog: false,\n    blending: three__WEBPACK_IMPORTED_MODULE_14__.AdditiveBlending,\n    // NEW: makes stars glow\n    depthWrite: false // NEW: prevents z-fighting\n  });\n  var stars = new three__WEBPACK_IMPORTED_MODULE_14__.Points(starsGeometry, starsMaterial);\n  scene.add(stars);\n\n  // Store reference for subtle animation\n  scene.userData.stars = stars;\n\n  // Enhanced fog for depth\n  scene.fog = new three__WEBPACK_IMPORTED_MODULE_14__.FogExp2(0x0a0a20, 0.002); // LIGHTER fog color and LESS dense (was 0x000308, 0.003)\n\n  camera = new three__WEBPACK_IMPORTED_MODULE_14__.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 2000);\n  camera.position.set(0, 15, 30);\n  renderer = new three__WEBPACK_IMPORTED_MODULE_14__.WebGLRenderer({\n    antialias: true\n  });\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  renderer.setPixelRatio(window.devicePixelRatio);\n  renderer.shadowMap.enabled = true;\n  renderer.shadowMap.type = three__WEBPACK_IMPORTED_MODULE_14__.PCFSoftShadowMap;\n  document.querySelectorAll('canvas').forEach(function (c) {\n    return c.remove();\n  });\n  document.body.appendChild(renderer.domElement);\n  tutorial = new _components_Tutorial_js__WEBPACK_IMPORTED_MODULE_8__.Tutorial(renderer.domElement.parentElement || document.body);\n  controls = new three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_1__.OrbitControls(camera, renderer.domElement);\n\n  // Enhanced lighting for better clarity\n  var ambientLight = new three__WEBPACK_IMPORTED_MODULE_14__.AmbientLight(0x5060a0, 1.2); // INCREASED from 0.8 to 1.2\n  scene.add(ambientLight);\n\n  // Primary key light - brighter and more focused\n  var keyLight = new three__WEBPACK_IMPORTED_MODULE_14__.DirectionalLight(0xffffff, 1.0); // INCREASED from 0.6 to 1.0\n  keyLight.position.set(0, 30, 25);\n  keyLight.castShadow = true;\n  keyLight.shadow.mapSize.width = 2048; // INCREASED resolution from 1024\n  keyLight.shadow.mapSize.height = 2048;\n  keyLight.shadow.camera.near = 1;\n  keyLight.shadow.camera.far = 100;\n  keyLight.shadow.bias = -0.0001;\n  scene.add(keyLight);\n\n  // Fill light - stronger for better definition\n  var fillLight = new three__WEBPACK_IMPORTED_MODULE_14__.DirectionalLight(0x6699ff, 0.8); // INCREASED from 0.5 to 0.8\n  fillLight.position.set(-20, 20, -20);\n  scene.add(fillLight);\n\n  // Secondary fill light - brighter\n  var fillLight2 = new three__WEBPACK_IMPORTED_MODULE_14__.DirectionalLight(0x8899ff, 0.7); // INCREASED from 0.4 to 0.7\n  fillLight2.position.set(30, 15, -10);\n  scene.add(fillLight2);\n\n  // Point light - more intense for central illumination\n  var pointLight = new three__WEBPACK_IMPORTED_MODULE_14__.PointLight(0x88aaff, 0.6, 100); // INCREASED from 0.3 to 0.6, range from 80 to 100\n  pointLight.position.set(0, 25, 0); // INCREASED height from 20 to 25\n  scene.add(pointLight);\n\n  // Rim light - stronger for edge definition\n  var rimLight = new three__WEBPACK_IMPORTED_MODULE_14__.DirectionalLight(0xaa99ff, 0.4); // INCREASED from 0.2 to 0.4\n  rimLight.position.set(0, -5, 20);\n  scene.add(rimLight);\n\n  // Hemisphere light - brighter for overall fill\n  var hemisphereLight = new three__WEBPACK_IMPORTED_MODULE_14__.HemisphereLight(0x7799cc, 0x443355, 0.7); // INCREASED from 0.4 to 0.7\n  scene.add(hemisphereLight);\n\n  // Wireframe lights - more visible\n  var wireframeLight1 = new three__WEBPACK_IMPORTED_MODULE_14__.DirectionalLight(0x6688bb, 0.2); // INCREASED from 0.2 to 0.4\n  wireframeLight1.position.set(40, 10, 40);\n  scene.add(wireframeLight1);\n  var wireframeLight2 = new three__WEBPACK_IMPORTED_MODULE_14__.DirectionalLight(0x8866bb, 0.4); // INCREASED from 0.2 to 0.4\n  wireframeLight2.position.set(-40, 10, -40);\n  scene.add(wireframeLight2);\n\n  // Up light - stronger for base illumination\n  var upLight = new three__WEBPACK_IMPORTED_MODULE_14__.DirectionalLight(0x5577bb, 0.3); // INCREASED from 0.15 to 0.3\n  upLight.position.set(0, -10, 0);\n  scene.add(upLight);\n\n  // NEW: Add additional top-down lights for better overall clarity\n  var topLight1 = new three__WEBPACK_IMPORTED_MODULE_14__.DirectionalLight(0x99aaff, 0.5);\n  topLight1.position.set(15, 40, 15);\n  scene.add(topLight1);\n  var topLight2 = new three__WEBPACK_IMPORTED_MODULE_14__.DirectionalLight(0x9999ff, 0.5);\n  topLight2.position.set(-15, 40, -15);\n  scene.add(topLight2);\n  scene.userData.keyLight = keyLight;\n  scene.userData.pointLight = pointLight;\n  composer = new three_examples_jsm_postprocessing_EffectComposer_js__WEBPACK_IMPORTED_MODULE_9__.EffectComposer(renderer);\n\n  // Base render pass \n  var renderPass = new three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_10__.RenderPass(scene, camera);\n  composer.addPass(renderPass);\n\n  // Bloom pass\n  bloomPass = new three_examples_jsm_postprocessing_UnrealBloomPass_js__WEBPACK_IMPORTED_MODULE_11__.UnrealBloomPass(new three__WEBPACK_IMPORTED_MODULE_14__.Vector2(window.innerWidth, window.innerHeight));\n  bloomPass.threshold = 0.1;\n  bloomPass.strength = 1.2;\n  bloomPass.radius = 0.4;\n  composer.addPass(bloomPass);\n\n  // Film grain pass l\n  var FilmGrainShader = {\n    uniforms: {\n      'tDiffuse': {\n        value: 0.3\n      },\n      'time': {\n        value: 0.0\n      },\n      'nIntensity': {\n        value: 0.035\n      },\n      // Grain intensity\n      'grayscale': {\n        value: 0.5\n      }\n    },\n    vertexShader: \"\\n            varying vec2 vUv;\\n            void main() {\\n                vUv = uv;\\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n            }\\n        \",\n    fragmentShader: \"\\n            uniform sampler2D tDiffuse;\\n            uniform float time;\\n            uniform float nIntensity;\\n            uniform bool grayscale;\\n            varying vec2 vUv;\\n\\n            float random(vec2 co) {\\n                return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\\n            }\\n\\n            void main() {\\n                vec4 color = texture2D(tDiffuse, vUv);\\n                \\n                // Film grain only\\n                float grain = random(vUv + time) * nIntensity;\\n                color.rgb += grain;\\n                \\n                // Optional vignette\\n                vec2 center = vUv - 0.5;\\n                float vignette = 1.0 - dot(center, center) * 0.3;\\n                color.rgb *= vignette;\\n                \\n                gl_FragColor = color;\\n            }\\n        \"\n  };\n  grainPass = new three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_12__.ShaderPass(FilmGrainShader);\n  composer.addPass(grainPass);\n\n  // Resize handler\n  window.addEventListener('resize', function () {\n    var width = window.innerWidth;\n    var height = window.innerHeight;\n    renderer.setSize(width, height);\n    camera.aspect = width / height;\n    camera.updateProjectionMatrix();\n    composer.setSize(width, height);\n  });\n  staticFrequencyData = new Uint8Array(10);\n\n  // Create ParticleSystem WITHOUT initialization\n  particleSystem = new _components_ParticleSystem__WEBPACK_IMPORTED_MODULE_0__.ParticleSystem(scene);\n\n  // Show initial loading screen\n  loadingScreen = new _components_LoadingScreen_js__WEBPACK_IMPORTED_MODULE_7__.LoadingScreen();\n  loadingScreen.show('Waiting for data');\n  var surroundController = new _audio_SurroundController_js__WEBPACK_IMPORTED_MODULE_6__.SurroundController();\n\n  // Track if initial data has been received\n  var initialDataReceived = false;\n  var pythonComm = new _components_PythonCommunication_js__WEBPACK_IMPORTED_MODULE_5__.PythonCommunication(particleSystem,\n  // 1. onGenerationData callback - HIDES loading screen after audio loads\n  function (data) {\n    var generationNum = data.generation || 0;\n\n    // Update loading message while audio loads\n    loadingScreen.updateMessage(\"Loading generation \".concat(generationNum, \" sounds\"));\n\n    // Set particle system (needed for audio setup)\n    surroundController.setParticleSystem(particleSystem);\n\n    // Load audio for new generation\n    surroundController.loadAll(data.solutions).then(function () {\n      console.log(\"\\u2705 Generation \".concat(generationNum, \" audio loaded\"));\n\n      // Add a small delay for visual smoothness\n      setTimeout(function () {\n        loadingScreen.hide();\n\n        // Create soundscape toggle button (only first time)\n        if (!initialDataReceived) {\n          initialDataReceived = true;\n          createSoundscapeToggle(surroundController);\n          if (!tutorialShown && tutorial) {\n            tutorial.show();\n            tutorialShown = true;\n          }\n        } else if (!tutorialShown && tutorial) {\n          tutorial.show();\n          tutorialShown = true;\n        }\n      }, 300); // 300ms delay for smooth transition\n    })[\"catch\"](function (error) {\n      console.error(' Failed to load audio:', error);\n      loadingScreen.hide();\n    });\n  },\n  // 2. onConnectionReady callback\n  function () {\n    if (!initialDataReceived) {\n      loadingScreen.updateMessage('Requesting generation data');\n    }\n  },\n  // 3. onRegenerationStart callback - SHOWS loading screen  THIS WAS MISSING!\n  function (data) {\n    var generationNum = data.generation || 0;\n    console.log(\"\\uD83D\\uDD04 Regeneration starting for generation \".concat(generationNum));\n\n    // Show loading screen immediately when regeneration starts\n    var message = initialDataReceived ? \"Loading generation \".concat(generationNum) : 'Loading initial generation';\n    loadingScreen.show(message);\n  });\n  window.pythonComm = pythonComm;\n\n  // Initialize other components\n  var library = new _components_Library__WEBPACK_IMPORTED_MODULE_4__.Library(particleSystem, scene, camera, renderer, controls);\n  var evolvingUI = new _components_EvolvingUI__WEBPACK_IMPORTED_MODULE_2__.EvolvingUI(renderer, camera, controls, particleSystem, pythonComm, library);\n  saveMode = new _components_SaveMode__WEBPACK_IMPORTED_MODULE_3__.SaveMode(renderer, camera, controls, particleSystem, library);\n\n  // modes  routing ---\n  var sc = surroundController;\n  var modeManager = {\n    evolve: evolvingUI,\n    save: saveMode,\n    library: library,\n    _locked: false,\n    isActive: function isActive(name) {\n      var _this$evolve, _this$save, _this$library;\n      if (name === 'evolve') return !!((_this$evolve = this.evolve) !== null && _this$evolve !== void 0 && _this$evolve.isEvolvingMode);\n      if (name === 'save') return !!((_this$save = this.save) !== null && _this$save !== void 0 && _this$save.isSaveMode);\n      if (name === 'library') return !!((_this$library = this.library) !== null && _this$library !== void 0 && _this$library.inSpace);\n      return false;\n    },\n    // NEW: Helper to toggle soundscape button visibility\n    _updateSoundscapeButton: function _updateSoundscapeButton() {\n      var btn = document.getElementById('soundscape-toggle-btn');\n      if (!btn) return;\n\n      // Hide if ANY mode is active, show only on main scene\n      var anyModeActive = this.isActive('evolve') || this.isActive('save') || this.isActive('library');\n      if (anyModeActive) {\n        btn.classList.add('hidden');\n      } else {\n        btn.classList.remove('hidden');\n      }\n    },\n    // NEW: keep nav buttons in sync with active modes\n    _syncButtons: function _syncButtons() {\n      var _this$evolve2, _this$evolve3, _this$save2, _this$save3, _this$library2, _this$library3;\n      var sync = function sync(btnObj, isActive, activeLabel, idleLabel) {\n        if (!btnObj) return;\n        var targetText = isActive ? activeLabel : idleLabel;\n\n        // Update button state immediately\n        if (typeof btnObj.setSelected === 'function') {\n          btnObj.setSelected(!!isActive);\n        }\n\n        // Update text immediately (don't use changeText animation during sync)\n        var el = resolveBtnElement(btnObj);\n        if (el instanceof HTMLElement) {\n          var _el$querySelector;\n          var labelEl = ((_el$querySelector = el.querySelector) === null || _el$querySelector === void 0 ? void 0 : _el$querySelector.call(el, '.button-text')) || el;\n          // Force immediate text update (bypass animation)\n          labelEl.textContent = targetText;\n\n          // Remove any transition classes that might interfere\n          el.classList.remove('text-changing');\n\n          // Clean up duplicate text spans\n          var allTextSpans = el.querySelectorAll('.button-text');\n          if (allTextSpans.length > 1) {\n            allTextSpans.forEach(function (span, idx) {\n              if (idx > 0) span.remove();\n            });\n          }\n        }\n      };\n      sync((_this$evolve2 = this.evolve) === null || _this$evolve2 === void 0 ? void 0 : _this$evolve2.evolveBtn, (_this$evolve3 = this.evolve) === null || _this$evolve3 === void 0 ? void 0 : _this$evolve3.isEvolvingMode, 'EXIT EVOLVE', 'EVOLVE');\n      sync((_this$save2 = this.save) === null || _this$save2 === void 0 ? void 0 : _this$save2.saveBtn, (_this$save3 = this.save) === null || _this$save3 === void 0 ? void 0 : _this$save3.isSaveMode, 'EXIT SAVE', 'SAVE');\n      sync((_this$library2 = this.library) === null || _this$library2 === void 0 ? void 0 : _this$library2.libraryBtn, (_this$library3 = this.library) === null || _this$library3 === void 0 ? void 0 : _this$library3.inSpace, 'EXIT LIBRARY', 'LIBRARY');\n    },\n    // Normalize small leftovers when returning to main\n    _closeToMain: function _closeToMain() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              try {\n                (sc === null || sc === void 0 ? void 0 : sc.clearAllGreenOutlines) && sc.clearAllGreenOutlines();\n              } catch (_unused) {}\n              _context.next = 3;\n              return new Promise(function (r) {\n                return setTimeout(r, 0);\n              });\n            case 3:\n              _this._updateSoundscapeButton();\n              _this._syncButtons(); // ensure labels reflect idle state\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    // Exit a specific mode (idempotent), then lightly normalize to main\n    exit: function exit(name) {\n      var _arguments = arguments,\n        _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var _ref, _ref$skipNormalize, skipNormalize, _this2$evolve, _this2$library, _sc$stopAllManualPlay, _this2$save, _this2$save$forceRese, _this2$save2;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _ref = _arguments.length > 1 && _arguments[1] !== undefined ? _arguments[1] : {}, _ref$skipNormalize = _ref.skipNormalize, skipNormalize = _ref$skipNormalize === void 0 ? false : _ref$skipNormalize;\n              _context2.prev = 1;\n              // CRITICAL: Stop ALL audio before exiting ANY mode\n              console.log(\"\\uD83D\\uDD07 Stopping all audio before exiting \".concat(name));\n              _context2.prev = 3;\n              _context2.next = 6;\n              return sc === null || sc === void 0 || (_sc$stopAllManualPlay = sc.stopAllManualPlayback) === null || _sc$stopAllManualPlay === void 0 ? void 0 : _sc$stopAllManualPlay.call(sc);\n            case 6:\n              _context2.next = 11;\n              break;\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](3);\n              console.error('Failed to stop audio on mode exit:', _context2.t0);\n            case 11:\n              if (!(name === 'evolve' && (_this2$evolve = _this2.evolve) !== null && _this2$evolve !== void 0 && _this2$evolve.isEvolvingMode)) {\n                _context2.next = 14;\n                break;\n              }\n              _context2.next = 14;\n              return Promise.resolve(_this2.evolve.exitEvolvingMode());\n            case 14:\n              if (!(name === 'save')) {\n                _context2.next = 19;\n                break;\n              }\n              (_this2$save = _this2.save) === null || _this2$save === void 0 || (_this2$save$forceRese = _this2$save.forceReset) === null || _this2$save$forceRese === void 0 || _this2$save$forceRese.call(_this2$save, {\n                restoreMaterials: true\n              });\n              if (!((_this2$save2 = _this2.save) !== null && _this2$save2 !== void 0 && _this2$save2.isSaveMode)) {\n                _context2.next = 19;\n                break;\n              }\n              _context2.next = 19;\n              return Promise.resolve(_this2.save.exitSaveMode());\n            case 19:\n              if (!(name === 'library' && (_this2$library = _this2.library) !== null && _this2$library !== void 0 && _this2$library.inSpace)) {\n                _context2.next = 22;\n                break;\n              }\n              _context2.next = 22;\n              return Promise.resolve(_this2.library.exitSpace());\n            case 22:\n              _context2.next = 27;\n              break;\n            case 24:\n              _context2.prev = 24;\n              _context2.t1 = _context2[\"catch\"](1);\n              console.warn(\"Failed to exit mode \\\"\".concat(name, \"\\\"\"), _context2.t1);\n            case 27:\n              _this2._syncButtons();\n              if (skipNormalize) {\n                _context2.next = 31;\n                break;\n              }\n              _context2.next = 31;\n              return _this2._closeToMain();\n            case 31:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[1, 24], [3, 8]]);\n      }))();\n    },\n    enter: function enter(name) {\n      var _this3 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var _sc$hasUserRequestedS, _this3$evolve, _this3$save, _this3$library;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              // NEW: Set audio mode FIRST\n              if (sc) {\n                sc.setMode(name || 'main');\n              }\n              if (!(name && sc !== null && sc !== void 0 && (_sc$hasUserRequestedS = sc.hasUserRequestedSoundscape) !== null && _sc$hasUserRequestedS !== void 0 && _sc$hasUserRequestedS.call(sc))) {\n                _context3.next = 6;\n                break;\n              }\n              console.log(\"\\uD83D\\uDD07 Stopping soundscape before entering \".concat(name));\n              _context3.next = 6;\n              return sc.stopUserSoundscape(80);\n            case 6:\n              if (!(name === 'evolve' && !((_this3$evolve = _this3.evolve) !== null && _this3$evolve !== void 0 && _this3$evolve.isEvolvingMode))) {\n                _context3.next = 9;\n                break;\n              }\n              _context3.next = 9;\n              return Promise.resolve(_this3.evolve.enterEvolvingMode());\n            case 9:\n              if (!(name === 'save' && !((_this3$save = _this3.save) !== null && _this3$save !== void 0 && _this3$save.isSaveMode))) {\n                _context3.next = 12;\n                break;\n              }\n              _context3.next = 12;\n              return Promise.resolve(_this3.save.enterSaveMode());\n            case 12:\n              if (!(name === 'library' && !((_this3$library = _this3.library) !== null && _this3$library !== void 0 && _this3$library.inSpace))) {\n                _context3.next = 15;\n                break;\n              }\n              _context3.next = 15;\n              return Promise.resolve(_this3.library.enterSpace());\n            case 15:\n              _context3.next = 20;\n              break;\n            case 17:\n              _context3.prev = 17;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.warn(\"Failed to enter mode \\\"\".concat(name, \"\\\"\"), _context3.t0);\n            case 20:\n              _this3._updateSoundscapeButton();\n              _this3._syncButtons();\n            case 22:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[0, 17]]);\n      }))();\n    },\n    goTo: function goTo(name) {\n      var _this4 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var wasTargetActive, activeBefore, _this4$save, _this4$save$forceRese, _iterator, _step, mode;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!_this4._locked) {\n                _context4.next = 2;\n                break;\n              }\n              return _context4.abrupt(\"return\");\n            case 2:\n              _this4._locked = true;\n              window.__modeTransitioning = true;\n              wasTargetActive = name ? _this4.isActive(name) : false;\n              activeBefore = ['evolve', 'save', 'library'].filter(function (mode) {\n                return _this4.isActive(mode);\n              });\n              _context4.prev = 6;\n              // Ensure Save mode is clean even if it wasn't marked active\n              if (name !== 'save') {\n                (_this4$save = _this4.save) === null || _this4$save === void 0 || (_this4$save$forceRese = _this4$save.forceReset) === null || _this4$save$forceRese === void 0 || _this4$save$forceRese.call(_this4$save, {\n                  restoreMaterials: true\n                });\n              }\n              _iterator = _createForOfIteratorHelper(activeBefore);\n              _context4.prev = 9;\n              _iterator.s();\n            case 11:\n              if ((_step = _iterator.n()).done) {\n                _context4.next = 17;\n                break;\n              }\n              mode = _step.value;\n              _context4.next = 15;\n              return _this4.exit(mode, {\n                skipNormalize: true\n              });\n            case 15:\n              _context4.next = 11;\n              break;\n            case 17:\n              _context4.next = 22;\n              break;\n            case 19:\n              _context4.prev = 19;\n              _context4.t0 = _context4[\"catch\"](9);\n              _iterator.e(_context4.t0);\n            case 22:\n              _context4.prev = 22;\n              _iterator.f();\n              return _context4.finish(22);\n            case 25:\n              _context4.next = 27;\n              return _this4._closeToMain();\n            case 27:\n              if (!(!name || wasTargetActive)) {\n                _context4.next = 30;\n                break;\n              }\n              _this4._syncButtons();\n              return _context4.abrupt(\"return\");\n            case 30:\n              _context4.next = 32;\n              return _this4.enter(name);\n            case 32:\n              _context4.prev = 32;\n              _this4._syncButtons();\n              requestAnimationFrame(function () {\n                window.__modeTransitioning = false;\n                _this4._syncButtons();\n              });\n              _this4._locked = false;\n              return _context4.finish(32);\n            case 37:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, null, [[6,, 32, 37], [9, 19, 22, 25]]);\n      }))();\n    }\n  };\n  window.modeManager = modeManager;\n  var BTN_SELECTORS = {\n    evolve: '#evolve-btn',\n    save: '#save-btn',\n    library: '#library-btn'\n  };\n  function resolveBtnElement(btn, selector) {\n    // Accept direct HTMLElement\n    if (btn && _typeof(btn) === 'object') {\n      if (btn instanceof HTMLElement) return btn;\n      if (btn.element instanceof HTMLElement) return btn.element;\n      if (btn.el instanceof HTMLElement) return btn.el;\n      if (typeof btn.getElement === 'function') {\n        try {\n          var el = btn.getElement();\n          if (el instanceof HTMLElement) return el;\n        } catch (_unused2) {}\n      }\n    }\n    // Fallback: query by selector\n    if (selector && typeof document !== 'undefined') {\n      var _el = document.querySelector(selector);\n      if (_el instanceof HTMLElement) return _el;\n    }\n    return null;\n  }\n\n  // Centralized mode toggle handler\n  var handleModeToggle = function handleModeToggle(mode) {\n    console.log(\"\\uD83C\\uDFAF Mode toggle requested: \".concat(mode));\n\n    // Just trigger mode change - let _syncButtons handle UI updates\n    modeManager.goTo(mode);\n  };\n\n  // Attach handlers directly to button elements (one handler per button)\n  // FIXED: Remove duplicate handlers before adding new ones\n  var attachModeHandler = function attachModeHandler(btnObj, selector, mode) {\n    var el = resolveBtnElement(btnObj, selector);\n    if (!el) {\n      console.warn(\"Could not resolve button element for \".concat(mode));\n      return;\n    }\n\n    // CRITICAL: Remove old handlers first\n    var oldHandler = el._modeHandler;\n    if (oldHandler) {\n      el.removeEventListener('click', oldHandler, true);\n    }\n\n    // Remove inline onclick\n    el.onclick = null;\n\n    // Create new handler\n    var handler = function handler(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      console.log(\"\\uD83C\\uDFAF Button clicked: \".concat(mode));\n      handleModeToggle(mode);\n    };\n\n    // Store reference to handler for later removal\n    el._modeHandler = handler;\n\n    // Add handler\n    el.addEventListener('click', handler, {\n      capture: true\n    });\n\n    // Update button object reference if needed\n    if (btnObj && _typeof(btnObj) === 'object' && !(btnObj instanceof HTMLElement)) {\n      if (btnObj.button) btnObj.button = el;\n      if (btnObj.element) btnObj.element = el;\n      if (btnObj.el) btnObj.el = el;\n    }\n    console.log(\"\\u2705 Attached mode handler for \".concat(mode));\n  };\n\n  // Attach to each mode button\n  attachModeHandler(evolvingUI === null || evolvingUI === void 0 ? void 0 : evolvingUI.evolveBtn, BTN_SELECTORS.evolve, 'evolve');\n  attachModeHandler((_saveMode = saveMode) === null || _saveMode === void 0 ? void 0 : _saveMode.saveBtn, BTN_SELECTORS.save, 'save');\n  attachModeHandler(library === null || library === void 0 ? void 0 : library.libraryBtn, BTN_SELECTORS.library, 'library');\n  // Remove the main-scene click-to-play handler to avoid interrupting sequential mode\n  // setupSolidClickHandler(pythonComm, surroundController);\n\n  // Expose library for debugging\n  window.library = library;\n  animate();\n}\nfunction animate() {\n  requestAnimationFrame(animate);\n\n  // Skip updates and rendering while switching modes (prevents one-frame flash)\n  if (window.__modeTransitioning) {\n    return;\n  }\n  particleSystem.update(staticFrequencyData);\n  if (saveMode) {\n    saveMode.update3DIconPositions();\n  }\n\n  // Keep library info panel pinned near the selected solid\n  if (window.library && window.library.inSpace) {\n    window.library.update();\n  }\n\n  // Update dynamic grid\n  var time = performance.now() * 0.001;\n  if (scene.userData.dynamicGrid) {\n    scene.userData.dynamicGrid.material.uniforms.time.value = time;\n  }\n\n  // Update film grain\n  if (grainPass) {\n    grainPass.uniforms.time.value = time;\n  }\n\n  // Minimal light animation\n  if (scene.userData.keyLight) {\n    var lightRadius = 60;\n    scene.userData.keyLight.position.x = Math.cos(time * 0.03) * lightRadius;\n    scene.userData.keyLight.position.z = Math.sin(time * 0.03) * lightRadius;\n  }\n\n  // Animate floating lines \n  if (scene.userData.floatingLines) {\n    scene.userData.floatingLines.children.forEach(function (line) {\n      var userData = line.userData;\n      if (userData.movementType === 'horizontal') {\n        line.position.z += userData.speed * userData.direction;\n        line.position.y = userData.originalY + Math.sin(time * userData.oscillationSpeed + line.position.x * 0.01) * userData.oscillationAmplitude;\n        if (line.position.z > 200) line.position.z = -200;\n        if (line.position.z < -200) line.position.z = 200;\n      } else if (userData.movementType === 'vertical') {\n        line.position.y += userData.speed * userData.direction;\n        line.position.x = userData.originalX + Math.sin(time * userData.oscillationSpeed + line.position.y * 0.02) * userData.oscillationAmplitude;\n        if (line.position.y > 100) line.position.y = -50;\n        if (line.position.y < -50) line.position.y = 100;\n      } else if (userData.movementType === 'diagonal') {\n        line.position.z += userData.speed * userData.direction;\n        line.position.y = userData.originalZ + Math.sin(time * userData.oscillationSpeed + line.position.z * 0.015) * userData.oscillationAmplitude;\n        line.rotation.z += userData.rotationSpeed;\n        if (line.position.z > 250) line.position.z = -250;\n        if (line.position.z < -250) line.position.z = 250;\n      }\n      var basOpacity = userData.movementType === 'horizontal' ? 0.25 : userData.movementType === 'vertical' ? 0.2 : 0.15;\n      line.material.opacity = basOpacity + Math.sin(time * 1.5 + line.position.x + line.position.z) * 0.1;\n    });\n  }\n  if (scene.userData.stars) {\n    scene.userData.stars.rotation.y += 0.0001;\n    scene.userData.stars.material.size = 1.2 + Math.sin(time * 0.5) * 0.3;\n  }\n\n  // Update camera controls\n  controls.update();\n\n  // Clear renderer\n  renderer.clear();\n\n  // Render with bloom effect\n  composer.render();\n}\nfunction setupSolidClickHandler(pythonComm, surroundController) {\n  window.addEventListener('click', function (event) {\n    // Get mouse coordinates\n    var mouse = new three__WEBPACK_IMPORTED_MODULE_14__.Vector2();\n    mouse.x = event.clientX / window.innerWidth * 2 - 1;\n    mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\n\n    // Raycast to find clicked objects\n    var raycaster = new three__WEBPACK_IMPORTED_MODULE_14__.Raycaster();\n    raycaster.setFromCamera(mouse, camera);\n\n    // Check intersections with peak solids\n    var solids = particleSystem.getSolids();\n    if (solids.length > 0) {\n      var intersects = raycaster.intersectObjects(solids, true);\n      if (intersects.length > 0) {\n        var clickedObject = intersects[0].object;\n        // Find the root solid object\n        var solid = clickedObject;\n        while (solid.parent && !solids.includes(solid)) {\n          solid = solid.parent;\n        }\n        // Play only this solid's sound\n        if (solid.userData && solid.userData.solution && surroundController) {\n          surroundController.playOnly(solid.userData.solution.id);\n        }\n      }\n    }\n  });\n}\nwindow.testPythonConnection = function () {\n  console.log(' MANUAL CONNECTION TEST');\n  if (window.pythonComm) {\n    window.pythonComm.logConnectionStatus();\n  } else {\n    console.error(' Python communication not available');\n  }\n};\nwindow.sendTestMessage = function () {\n  console.log(' SENDING TEST MESSAGE TO PYTHON');\n  if (window.pythonComm && window.pythonComm.isConnected()) {\n    window.pythonComm.websocket.send(JSON.stringify({\n      action: 'test',\n      message: 'Hello from JavaScript!',\n      timestamp: Date.now()\n    }));\n    console.log(' Test message sent');\n  } else {\n    console.error(' Not connected to Python');\n  }\n};\n\n// Helper button because of chrome not auto play policy\nfunction createSoundscapeToggle(surroundController) {\n  var _surroundController$h, _surroundController$h2;\n  // Remove any existing toggle\n  var existing = document.getElementById('soundscape-toggle-btn');\n  if (existing) existing.remove();\n  var btn = document.createElement('button');\n  btn.id = 'soundscape-toggle-btn';\n  btn.className = 'soundscape-toggle-btn';\n  btn.title = 'Play Soundscape';\n  var img = document.createElement('img');\n  img.src = '/assets/icons/Play.svg'; // Changed from 'Start soundscape.svg'\n  img.alt = 'Play Soundscape';\n  btn.appendChild(img);\n  var isPlaying = (_surroundController$h = surroundController === null || surroundController === void 0 || (_surroundController$h2 = surroundController.hasUserRequestedSoundscape) === null || _surroundController$h2 === void 0 ? void 0 : _surroundController$h2.call(surroundController)) !== null && _surroundController$h !== void 0 ? _surroundController$h : false;\n  var applyState = function applyState(playing) {\n    isPlaying = !!playing;\n    if (isPlaying) {\n      img.src = '/assets/icons/Stop.svg';\n      img.alt = 'Stop Soundscape';\n      btn.title = 'Stop Soundscape';\n    } else {\n      img.src = '/assets/icons/Play.svg';\n      img.alt = 'Play Soundscape';\n      btn.title = 'Play Soundscape';\n    }\n  };\n  applyState(isPlaying);\n  btn.addEventListener('click', /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(e) {\n      var _surroundController$h3;\n      return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            e.preventDefault();\n            _context5.prev = 1;\n            if (isPlaying) {\n              _context5.next = 8;\n              break;\n            }\n            _context5.next = 5;\n            return surroundController.playAll(5, {\n              userInitiated: true\n            });\n          case 5:\n            applyState((_surroundController$h3 = surroundController.hasUserRequestedSoundscape) === null || _surroundController$h3 === void 0 ? void 0 : _surroundController$h3.call(surroundController));\n            _context5.next = 11;\n            break;\n          case 8:\n            _context5.next = 10;\n            return surroundController.stopUserSoundscape(500);\n          case 10:\n            applyState(false);\n          case 11:\n            _context5.next = 17;\n            break;\n          case 13:\n            _context5.prev = 13;\n            _context5.t0 = _context5[\"catch\"](1);\n            console.warn('Failed to toggle soundscape:', _context5.t0);\n            applyState(false);\n          case 17:\n          case \"end\":\n            return _context5.stop();\n        }\n      }, _callee5, null, [[1, 13]]);\n    }));\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n  var stateHandler = function stateHandler(event) {\n    var _event$detail;\n    applyState(!!((_event$detail = event.detail) !== null && _event$detail !== void 0 && _event$detail.playing));\n  };\n  window.addEventListener('surround-playback-state', stateHandler);\n  document.body.appendChild(btn);\n  return btn;\n}\nfunction createTitleScreen() {\n  // Create title screen container\n  var titleScreen = document.createElement('div');\n  titleScreen.id = 'title-screen';\n  titleScreen.className = 'title-screen';\n\n  // Create stars background canvas\n  var starsCanvas = document.createElement('canvas');\n  starsCanvas.className = 'title-stars-canvas';\n  starsCanvas.width = window.innerWidth;\n  starsCanvas.height = window.innerHeight;\n\n  // Create logo container\n  var logoContainer = document.createElement('div');\n  logoContainer.className = 'title-logo-container';\n  var logoImg = document.createElement('img');\n  logoImg.src = '/assets/icons/Logo.svg';\n  logoImg.alt = 'Logo';\n  logoImg.className = 'title-logo';\n  logoContainer.appendChild(logoImg);\n\n  // Create \"press anywhere\" message\n  var pressMessage = document.createElement('div');\n  pressMessage.className = 'title-press-message';\n  pressMessage.textContent = 'Press anywhere to continue';\n\n  // Assemble title screen\n  titleScreen.appendChild(starsCanvas);\n  titleScreen.appendChild(logoContainer);\n  titleScreen.appendChild(pressMessage);\n  document.body.appendChild(titleScreen);\n\n  // Animate stars on canvas\n  var ctx = starsCanvas.getContext('2d');\n  var stars = [];\n  var starsCount = 300;\n\n  // Initialize stars\n  for (var i = 0; i < starsCount; i++) {\n    stars.push({\n      x: Math.random() * starsCanvas.width,\n      y: Math.random() * starsCanvas.height,\n      radius: Math.random() * 2 + 0.5,\n      opacity: Math.random() * 0.7 + 0.3,\n      speed: Math.random() * 0.3 + 0.1,\n      twinkleSpeed: Math.random() * 0.02 + 0.01,\n      twinklePhase: Math.random() * Math.PI * 2,\n      // Color variation\n      color: Math.random() < 0.3 ? 'rgb(150, 180, 255)' :\n      // Blue-white\n      Math.random() < 0.7 ? 'rgb(200, 220, 255)' :\n      // White\n      'rgb(255, 240, 200)' // Slight yellow\n    });\n  }\n  function animateStars() {\n    // Clear with dark gradient background\n    var gradient = ctx.createRadialGradient(starsCanvas.width / 2, starsCanvas.height / 2, 0, starsCanvas.width / 2, starsCanvas.height / 2, starsCanvas.width / 2);\n    gradient.addColorStop(0, '#0a0a20');\n    gradient.addColorStop(0.4, '#060a18');\n    gradient.addColorStop(0.8, '#040815');\n    gradient.addColorStop(1, '#020205');\n    ctx.fillStyle = gradient;\n    ctx.fillRect(0, 0, starsCanvas.width, starsCanvas.height);\n\n    // Draw and update stars\n    stars.forEach(function (star) {\n      // Twinkle effect\n      star.twinklePhase += star.twinkleSpeed;\n      var twinkle = Math.sin(star.twinklePhase) * 0.3 + 0.7;\n      ctx.beginPath();\n      ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);\n      ctx.fillStyle = star.color;\n      ctx.globalAlpha = star.opacity * twinkle;\n      ctx.fill();\n\n      // Slow drift\n    });\n    ctx.globalAlpha = 1;\n    if (titleScreen.parentElement) {\n      requestAnimationFrame(animateStars);\n    }\n  }\n  animateStars();\n\n  // Handle window resize\n  var resizeHandler = function resizeHandler() {\n    starsCanvas.width = window.innerWidth;\n    starsCanvas.height = window.innerHeight;\n\n    // Redistribute stars\n    stars.forEach(function (star) {\n      if (star.x > starsCanvas.width) star.x = Math.random() * starsCanvas.width;\n      if (star.y > starsCanvas.height) star.y = Math.random() * starsCanvas.height;\n    });\n  };\n  window.addEventListener('resize', resizeHandler);\n\n  // Remove title screen on any click/key\n  var removeTitleScreen = function removeTitleScreen() {\n    titleScreen.classList.add('fade-out');\n\n    // Start main scene initialization earlier (while title is still fading)\n    setTimeout(function () {\n      // Initialize scene in background\n      init();\n    }, 300); // Start after 300ms\n\n    // Remove title screen after full fade\n    setTimeout(function () {\n      titleScreen.remove();\n      window.removeEventListener('resize', resizeHandler);\n    }, 1500); // Match CSS animation duration\n  };\n  titleScreen.addEventListener('click', removeTitleScreen);\n  window.addEventListener('keydown', removeTitleScreen, {\n    once: true\n  });\n}\n\n// Initialize the application\ncreateTitleScreen();\n\n//# sourceURL=webpack://sound-particle-visualization/./src/main.js?");

/***/ }),

/***/ "./src/styles.css":
/*!************************!*\
  !*** ./src/styles.css ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./styles.css */ \"./node_modules/css-loader/dist/cjs.js!./src/styles.css\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\n    \noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _node_modules_css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n\n\n//# sourceURL=webpack://sound-particle-visualization/./src/styles.css?");

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["three","vendors","components"], () => (__webpack_exec__("./src/main.js")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);